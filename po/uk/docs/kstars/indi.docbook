<chapter id="indi">
<title
>Керування астрономічними приладами за допомогою <acronym
>INDI</acronym
></title>
<indexterm
><primary
>Керування INDI</primary>
<secondary
>Огляд</secondary>
</indexterm>

<para
>&kstars; надає вам інтерфейс для налаштування і керування астрономічними інструментами за допомогою протоколу обміну даними <acronym
><link linkend="what-is-indi"
>INDI</link
></acronym
>. </para>

<para
>Протокол <acronym
>INDI</acronym
> підтримує значну кількість астрономічних інструментів, зокрема, ПЗЗ-фотокамери і прилади для фокусування. Поточний список підтримуваних пристроїв можна знайти на <ulink url="https://indilib.org/index.php?title=Devices"
>сторінці списку підтримуваних пристроїв <acronym
>INDI</acronym
></ulink
>. </para>

<sect1 id="indi-kstars-setup">
<title
>Налаштування INDI</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Налаштування</secondary>
</indexterm>
<para
>Програма &kstars; здатна безпосередньо керувати локальними або віддаленими пристроями за допомогою клієнт-серверної архітектури <link linkend="what-is-indi"
>INDI</link
>. Пристрої INDI можна запустити у одному з трьох режимів: </para>

<orderedlist>
<listitem
><para
><guilabel
>Локальному</guilabel
>: цей режим є найпоширенішим, він використовується для керування локальним пристроєм (тобто пристроєм, який з’єднано з вашим комп’ютером). </para
></listitem>

<listitem
><para
><guilabel
>Серверному</guilabel
>: у серверному режимі запускається сервер INDI для якогось з пристроїв, а потім цей сервер очікує на команди від віддалених клієнтів. Ви самі не можете керувати серверними пристроями, ви можете лише запустити і зупинити серверний режим для цих пристроїв. </para
></listitem>

<listitem
><para
><guilabel
>Клієнтському</guilabel
>: клієнтський режим використовують для з’єднання з віддаленими серверами INDI, на яких запущено пристрої INDI. У цьому режимі ви можете безпосередньо керувати віддаленими пристроями так, неначе вони є локальними. </para
></listitem>
</orderedlist>

<para
>Ви можете запустити локальний пристрій, встановити сервери INDI, і з’єднатися з віддаленими клієнтами за допомогою пункту <guimenuitem
>Керування пристроями</guimenuitem
> у меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
>. </para>

<para
>Ось знімок вікна <guilabel
>Керування пристроями</guilabel
>: </para>

<screenshot>
<screeninfo
>Як запустити драйвери пристрою</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="devicemanager.png" format="PNG"/>
</imageobject>
<textobject>
<phrase
>Запуск драйверів пристрою</phrase>
</textobject>
</mediaobject>
</screenshot>

<para
>Запускати керування пристроями можна за допомогою ієрархічного списку пристроїв: позначте у ньому пристрій, а потім натисніть кнопку <guibutton
>Запустити службу</guibutton
>. Ви можете вибрати режим роботи (локальний або серверний), як це описано вище. Номер порту буде вибрано випадковими чином з діапазону від 7624 до 10.000. Щоб вказати певний порт, натисніть стовпчик порту, у рядку потрібного вам драйвера. У &kstars; передбачено можливість запуску декількох драйверів на одному сервері INDI, отже на одному порті. Позначте у списку декілька пунктів пристроїв, а потім натисніть кнопку <guibutton
>Запустити службу</guibutton
>. </para>

<para
>Щоб дізнатися як керувати віддаленими пристроями, прочитайте розділ про <link linkend="indi-remote-control"
>віддалене керування пристроями</link
>. </para>
</sect1>

<sect1 id="indi-telescope-setup">
<title
>Налаштування телескопа</title>
<indexterm
><primary
>INDI</primary>
<secondary
>Налаштування</secondary>
</indexterm>

<para
>Більшість телескопів обладнується інтерфейсом <hardware
>RS232</hardware
> для віддаленого керування. З’єднайте порт RS232 вашого телескопа з <hardware
>Послідовним або USB</hardware
> портом вашого комп’ютера. Традиційно, RS232 з’єднується з послідовним портом вашого комп’ютера, але оскільки у більшості портативних комп’ютерів цього порту вже немає (його замінив порт <hardware
>USB/FireWire</hardware
>), вам може знадобитися перехідний пристрій з послідовного порту на порт USB, щоб керувати обладнанням з сучасних портативних комп’ютерів. </para>

<para
>Після з’єднання вашого телескопа з послідовним або USB-портом увімкніть ваш телескоп. Ми <emphasis
>наполегливо</emphasis
> рекомендуємо вам отримати і встановити найсвіжіші мікропрограми (firmware) для контролера вашого телескопа. </para>

<para
>Перш ніж почати використання телескопа, вам слід вирівняти його. Виконайте цю операцію (юстування першого або другого рівня) відповідно до інструкції вашого телескопа. </para>

<para
>Перш ніж з’єднатися з телескопом, потрібно перевірити параметри часу і розташування у &kstars;. Правильні значення цих параметрів забезпечать належну точність стеження і синхронізації між телескопом і &kstars;. Далі за текстом розміщено покроковий опис процесу безпосереднього з’єднання пристрою з вашим комп’ютером. Щоб з’єднатися з віддаленим пристроєм і встановити над ним керування, зверніться до розділу про <link linkend="indi-remote-control"
>віддалене керування пристроями</link
>. </para>

<para
>Ви можете скористатися Майстром налаштування телескопа — він перевірить всю потрібну інформацію у процесі своєї роботи. Він може провести автоматичне сканування портів вашого комп’ютера на предмет наявності з’єднаних з ним телескопів. Запустити цей інструмент можна за допомогою пункту <guimenuitem
>Майстер налаштування телескопа</guimenuitem
> з меню <guimenu
>Пристрої</guimenu
>. </para>

<para
>Якщо ви віддаєте перевагу іншому шляху, телескоп можна з’єднати з комп’ютером, послідовно виконуючи такі кроки: </para>

<orderedlist>
<listitem
><para
>Встановіть ваше географічне розташування. Для цього відкрийте вікно <guilabel
>Встановлення географічного розташування</guilabel
> вибором пункту <guimenuitem
>Географічне...</guimenuitem
> з меню <guimenu
>Параметри</guimenu
>, натисканням кнопки з піктограмою <guiicon
>земної кулі</guiicon
> на панелі інструментів або за допомогою комбінації клавіш <keycombo action="simul"
>&Ctrl;<keycap
>G</keycap
></keycombo
>. </para>
</listitem>

<listitem
><para
>Встановіть ваш місцевий час і дату. Ви можете змінити час за допомогою пункту <guimenuitem
>Встановити час...</guimenuitem
> з меню <guimenu
>Час</guimenu
> або натискання кнопки з піктограмою <guiicon
>годинника</guiicon
> на панелі інструментів. Вікно <guilabel
>Встановити час</guilabel
> використовує стандартний віджет &kde; для вибору дати. Якщо вам потрібно буде згодом скоригувати час на поточний час системи, просто виберіть пункт <guimenuitem
>Встановити поточний час</guimenuitem
> з меню <guimenu
>Час</guimenu
>. </para>
</listitem>

<listitem>
<para
>Відкрийте меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
> і виберіть пункт <guimenuitem
>Керування пристроями</guimenuitem
>. </para>
</listitem>

<listitem>
<para
>У стовпчику <guilabel
>Пристрій</guilabel
> виберіть модель вашого телескопа. </para>
</listitem>

<listitem>
<para
>Натисніть кнопку <guibutton
>Запустити службу</guibutton
>. </para>
</listitem>

<listitem>
<para
>Натисніть кнопку <guibutton
>Закрити</guibutton
>, щоб закрити діалогове вікно керування пристроями. </para>
</listitem>
</orderedlist>

<note id="geo-time-note">
<title
>Типові параметри</title>
<para
>Вам не потрібно буде встановлювати географічне розташування кожного разу під час з’єднання з телескопом. Вам слід зробити це лише одного разу, програма запам’ятає ваш вибір. </para
></note>

<para
>Тепер ви можете користуватися можливостями пристрою. Для керування телескопами у &kstars; є два зручних графічних інтерфейси обміну інформацією: </para>

<orderedlist>
<title
>Керування вашим телескопом</title>
<listitem>
<para
><guilabel
>Керування з зоряної карти</guilabel
>: кожному пристрою, який ви запустите за допомогою <guilabel
>Керування пристроями</guilabel
>, відповідатиме запис у контекстному меню, який надасть вам змогу керувати властивостями пристрою. Ви зможете віддавати команди <command
>Slew</command
>, <command
>Sync</command
> або <command
>Track</command
> безпосередньо з зоряної карти. </para>

<para
>Ось знімок екрана з контекстним меню, у якому є пункт пристрою LX200 Classic: </para>

<screenshot>
<screeninfo
>Керування пристроями за допомогою карти неба</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="skymapdevice.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>

<listitem>
<para
><guilabel
>Панель керування INDI</guilabel
>: за допомогою цієї панелі ви можете керувати всіма можливостями, які підтримує ваш пристрій. </para>

<para
>Цю панель поділено на три основних розділи: </para>

<itemizedlist>
<listitem>
<para
><guilabel
>Вкладки пристроїв</guilabel
>: кожен задіяний пристрій має свою вкладку на панелі INDI. Декілька пристроїв можна запустити одночасно: вони не заважатимуть одне одному. </para>
</listitem>

<listitem>
<para
>Панелі властивостей на вкладках <guilabel
>Основне керування</guilabel
> та <guilabel
>Параметри</guilabel
>:  властивості є ключовими елементами архітектури INDI. Кожному пристрою відповідає набір властивостей, за допомогою яких він обмінюється інформацією з клієнтом. Прикладом такої властивості є точка, куди у даний час спрямовано телескоп. Властивості, схожі за значенням, зазвичай поєднано у блоки або групи. </para>
</listitem>

<listitem>
<para
><guilabel
>Перегляд журналів</guilabel
>: пристрої повідомляють про свій стан і реакцію на команди, надсилаючи INDI-повідомлення. Кожному пристрою відповідає свій перегляд журналу. Зазвичай, пристрій надсилає повідомлення лише своєму драйверу, але ніщо не забороняє пристроєві за потреби надсилати загальне повідомлення. </para>
</listitem>
</itemizedlist>

<screenshot>
<screeninfo
>Панель керування INDI</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indicontrolpanel.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>
</listitem>
</orderedlist>

<para
>Вам не потрібно використовувати один або інший інтерфейс, обидва можна використовувати одночасно. Дії з інтерфейсу <guilabel
>карти неба</guilabel
> автоматично повторюються на <guilabel
>панелі керування INDI</guilabel
>, і навпаки. </para>

<para
>Щоб з’єднатися з вашим телескопом, ви можете вибрати пункт <guimenuitem
>З’єднатися</guimenuitem
> з контекстного меню вашого пристрою або натиснути кнопку <guibutton
>З’єднатися</guibutton
> на вкладці вашого пристрою на <guilabel
>Панелі керування INDI</guilabel
>. </para>

<important
><para
>Типово, &kstars; здійснить спробу з’єднатися з портом <constant
>/dev/ttyS0</constant
>. Щоб змінити порт з’єднання, виберіть пункт <guilabel
>Панель керування INDI</guilabel
> з меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
> і змініть порт на вкладці відповідного пристрою. </para
></important>

<para
>&kstars; автоматично оновлює дані щодо координат широти і довготи телескопа, а також часу на основі поточних параметрів роботи &kstars;. Увімкнути або вимкнути цю типову поведінку можна за допомогою сторінки <guimenuitem
>INDI</guimenuitem
> вікна, яке можна відкрити за допомогою пункту меню <menuchoice
><guimenu
>Параметри</guimenu
><guimenuitem
>Налаштувати &kstars;...</guimenuitem
></menuchoice
>. За допомогою сторінки <guimenuitem
>INDI</guimenuitem
> ви також можете налаштувати &kstars; на показ або вимикання повідомлень щодо стану INDI на смужці стану. Типово, порти сервера INDI мають номери у діапазоні від 7624 до 9000, але ви можете змінити цей діапазон за допомогою пунктів <guilabel
>Від</guilabel
> і <guilabel
>До</guilabel
> розділу <guilabel
>Порт сервера</guilabel
>. </para>

<para
>Якщо &kstars; вдасться зв’язатися з телескопом, програма отримає від нього поточні дані про <abbrev
>ПС</abbrev
> і <abbrev
>СХЛ</abbrev
> і покаже на зоряній карті візир, що позначає точку, у яку спрямовано телескоп. Ви можете наказати програмі приховати візир, що позначає цю точку за допомогою сторінки <guimenuitem
>INDI</guimenuitem
> у вікні, яке можна відкрити за допомогою пункту меню <menuchoice
><guimenu
>Параметри</guimenu
><guimenuitem
>Налаштувати &kstars;...</guimenuitem
></menuchoice
> submenu. </para>

<note id="indi-sync">
<title
>Синхронізація вашого телескопа</title>
<para
>Якщо ви виконали візирування вашого телескопа і останньою зіркою для візирування була, наприклад Вега, позначка візира має знаходитися поряд з Вегою. Якщо візир не знаходить у правильній позиції, ви можете навести вказівник миші на Вегу, клацнути <mousebutton
>правою</mousebutton
> кнопкою і вибрати команду <command
>Sync</command
> з меню вашого телескопа. Виконана вами дія — це наказ телескопу синхронізувати його внутрішні координати з координатами Веги, тепер візир має знаходитися на позначці Веги. </para>
</note>

<para
>Ну ось: тепер ваш телескоп готовий до вивчення небес! </para>

<warning>
<title
>ПОПЕРЕДЖЕННЯ</title>
<para
>Ніколи не спрямовуйте телескоп на Сонце. Спрямування телескопа на Сонце може спричинити невиправні ушкодження ваших очей і вашого обладнання. </para>
</warning>
</sect1>

<sect1 id="indi-other-setup">
<title
>Налаштування ПЗЗ і захоплення відео</title>
<indexterm
><primary
>Керування ПЗЗ-відео</primary>
<secondary
>Налаштування</secondary>
</indexterm>

<para
>Запустити пристрої ПЗЗ і відео-захоплення можна за допомогою пункту <guimenuitem
>Керування пристроями</guimenuitem
> у меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
>. Так само, як і для всіх пристроїв INDI, доступ до деяких з елементів керування пристроями можна отримати напряму з зоряної карти. Повноцінне керування пристроєм можна здійснювати за допомогою <guimenuitem
>Панелі керування INDI.</guimenuitem
> </para>

<para
>Стандартним форматом, у якому проводитиметься захоплення зображень є FITS. Одразу після захоплення і отримання зображення автоматично буде показано у вікні <link linkend="fitsviewer"
>Переглядача FITS</link
> &kstars;. </para>
</sect1>

<sect1 id="indi-configure">
<title
>Налаштування INDI</title>
<indexterm
><primary
>Налаштувати</primary>
<secondary
>INDI</secondary>
</indexterm>

<para
>За допомогою сторінки налаштовування <guilabel
>INDI</guilabel
> ви можете змінювати <emphasis
>клієнтські</emphasis
> параметри INDI. Щоб відкрити її, натисніть пункт <guimenuitem
>INDI</guimenuitem
> у вікні, яке відкривається пунктом меню <menuchoice
><guimenu
>Параметри</guimenu
><guimenuitem
>Налаштувати &kstars;...</guimenuitem
></menuchoice
>. Це вікно поділено на декілька основних категорій: Загальна, Оновлення пристроїв, Показ та Порт сервера: </para>

<itemizedlist>
  <listitem
><para
><guilabel
>Загальне</guilabel
></para>
    <itemizedlist>
      <listitem
><para
><guilabel
>Сервер INDI:</guilabel
> вкажіть виконуваний файл сервера INDI у вашій системі. Типово, у &kstars; використовується виконуваний файл <quote
>/usr/bin/indiserver</quote
>.</para
></listitem>
      <listitem
><para
><guilabel
>Каталог XML-драйверів INDI:</guilabel
> вкажіть каталог, у якому зберігаються драйвери INDI у вашій системі. Типово, у &kstars; використовується каталог <quote
>/usr/share/indi</quote
>.</para
></listitem>
      <listitem
><para
><guilabel
>Типова тека FITS:</guilabel
> визначає теку, куди буде збережено всі захоплені зображення FITS. Якщо не вказано ніякої теки, зображення зберігатимуться у теці, на яку вказує системна змінна <varname
>$HOME</varname
>.</para
></listitem>
    <!-- Telescope port & Video port:
      <listitem
><para
><option
>Telescope port:</option
> The default telescope port. When you connect to a local or remote telescope service, &kstars; will automatically fill the telescope's device port with the specified default port.</para
></listitem>
      <listitem
><para
><option
>Video port:</option
> The default video port. When you connect to a local or remote video service, &kstars; will automatically fill the webcam's device port with the specified default port.</para
></listitem
>	
    -->
    </itemizedlist>
  </listitem>
  <listitem
><para
><guilabel
>Оновлення дати і розташування</guilabel
></para>
    <itemizedlist>
      <listitem
><para
><guilabel
>KStars оновлює усі пристрої</guilabel
>: KStars є основним джерелом даних щодо часу і розташування. Дані щодо часу і розташування для усіх пристроїв INDI синхронізуються із даними у параметрах KStars.</para
></listitem>
      <listitem
><para
><guilabel
>Лафет оновлює дані KStars</guilabel
>: лафет є основним джерелом даних щодо часу і розташування. Дані щодо часу і розташування у KStars синхронізуються із даними у параметрах контролера.</para
></listitem>
      <listitem
><para
><guilabel
>GPS оновлює дані KStars</guilabel
>: драйвер GPSт є основним джерелом даних щодо часу і розташування. Дані щодо часу і розташування у KStars синхронізуються із даними у параметрах GPS.</para
></listitem>
      <listitem
><para
><guilabel
>Час</guilabel
>: автоматично синхронізувати дату і час KStars з джерелом оновлення.</para
></listitem>
      <listitem
><para
><guilabel
>Розташування</guilabel
>: синхронізувати параметри розташування KStars з джерелом оновлення.</para
></listitem>
    </itemizedlist>
  </listitem>
  <listitem
><para
><guilabel
>Дисплей</guilabel
></para>
    <itemizedlist>
      <listitem
><para
><guilabel
>Перехрестя телескопа:</guilabel
> якщо позначено цей параметр, &kstars; показуватиме рамку пристрою телескопа на зоряній карті. Перехрестя буде показано після успішного з’єднання з телескопом, а його розташування періодично оновлюватиметься. Поряд з рамкою буде розміщено назву телескопа. &kstars; показує по рамці на кожен з’єднаний телескоп. Щоб змінити колір рамки телескопа, скористайтеся вікном <link linkend="viewops"
>Налаштувати &kstars;</link
>. Виберіть у ньому сторінку <guilabel
>Кольори</guilabel
>, а потім змініть колір пункту <guimenuitem
>Індикатор цілі</guimenuitem
> на бажаний.</para
></listitem>
      <listitem
><para
><guilabel
>Незалежне вікно</guilabel
>: робить вікно <guilabel
>Переглядач FITS</guilabel
> незалежним від основного вікна програми.</para
></listitem>
      <listitem
><para
><guilabel
>Сповіщення</guilabel
>: показувати повідомлення INDI як сповіщення стільниці замість вікон.</para
></listitem>
    </itemizedlist>
  </listitem>
<!--
  <listitem
><para
>Update Source: Synchronize &kstars; according to either the
    computer or device time and location settings.</para>
  </listitem>
  <listitem
><para
>Filter Wheel: Assign color codes to the filter wheel slots (&eg; Slot #0 Red, Slot #1 Blue, &etc;) You can assign color codes for up to 10 filter slots (0 to 9). To assign a color code, select a slot number from the drop down combo box, and then type the corresponding color code in the edit field. Repeat the process for all desired slots and then press OK.</para>
  </listitem>
-->
  <listitem
><para
><guilabel
>Порт сервера</guilabel
></para>
    <itemizedlist>
      <listitem
><para
>Задайте діапазон портів, які буде прослуховувати INDI сервер після запуску нових драйверів.</para
></listitem>
    </itemizedlist>
  </listitem>
</itemizedlist>

</sect1>

<sect1 id="indi-concepts">
<title
>Принципи INDI</title>
<indexterm
><primary
>Керування телескопом</primary>
<secondary
>Принципи</secondary>
</indexterm>

<para
>Одним з ключових елементів INDI є припущення, що пристрої можуть самі надавати свій опис. Його реалізовано за допомогою XML, який описує загальну ієрархію, яка відповідає канонічним і неканонічним пристроям. У INDI коженl <emphasis
>пристрій</emphasis
> може мати одну або декілька <emphasis
>властивостей</emphasis
>. Кожна з <emphasis
>властивостей</emphasis
> може мати один або декілька <emphasis
>елементів</emphasis
>. Всього існує чотири типи властивостей INDI: </para>
<itemizedlist>
<listitem
><para
>Текстова властивість.</para
></listitem>
<listitem
><para
>Числова властивість.</para
></listitem>
<listitem
><para
>Властивість-перемикач (у графічному інтерфейсі таким властивостям відповідають кнопки або поля для позначок).</para
></listitem>
<listitem
><para
>Властивість світла (у графічному інтерфейсі таким властивостям відповідають кольорові лампочки).</para
></listitem>
</itemizedlist>

<para
>Наприклад, всі пристрої INDI маються стандартну <emphasis
>властивість</emphasis
>-перемикач CONNECTION. Властивість CONNECTION має два елементи-стани перемикання: CONNECT і DISCONNECT. &kstars; обробляє загальний опис властивостей у XML і будує графічний відповідник властивості придатний для людського сприйняття. </para>

<para
>На панелі керування INDI ви можете знайти багато властивостей, доступ до яких не можна отримати з зоряної карти. Перелік цих властивостей залежить від конкретного пристрою. Але всі властивості мають спільні риси, які визначають спосіб, у який їх буде показано і використано: </para>

<itemizedlist>
<listitem>
<para
>Дозвіл: властивість може бути придатною лише для читання, лише для запису або придатною як для читання, так і для запису. Прикладом придатної для читання і для запису властивості є координата прямого сходження телескопа. Ви можете ввести нову координату прямого сходження, і телескоп, відповідно до поточних параметрів, змінить спрямування або синхронізується у відповідності з введеним значенням. Крім того, після зміни спрямування телескопа його координату прямого сходження буде оновлено і надіслано як підтвердження клієнтові. </para>
</listitem>
<listitem>
<para
>Стан: перед пунктом кожної властивості є індикатор стану (кругла лампочка). Кожна властивість має певний стан і відповідне позначення кольором: </para>
<table frame="top"
><title
>Кольори станів INDI</title>
<tgroup cols="3" colsep="1" rowsep="1">
<thead>
<row>
<entry
>Стан</entry>
<entry
>Колір</entry>
<entry
>Опис</entry>
</row>
</thead>
<tbody>
<row>
<entry
>Не задіяно</entry>
<entry
>Сірий</entry>
<entry
>Щодо цієї властивості пристрій не виконує ніяких дій</entry>
</row>
<row>
<entry
>Гаразд</entry>
<entry
>Зелений</entry>
<entry
>Остання дія з цією властивістю пройшла вдало, її задіяно</entry>
</row>
<row>
<entry
>Зайнятий</entry>
<entry
>Жовтий</entry>
<entry
>Властивість пов’язана з поточною дією</entry>
</row>
<row>
<entry
>Попередження</entry>
<entry
>Червоний</entry>
<entry
>Властивість перебуває у критичному стані і вимагає негайного втручання</entry>
	</row>
	</tbody>
</tgroup>
</table>

<para
>У разі потреби стани властивостей оновлюються драйвером пристрою. Наприклад, якщо телескоп знаходиться у стані переспрямування на нову ціль, властивості RA/DEC буде показано як <guilabel
>Зайнятий</guilabel
>. Якщо процес переспрямування буде успішно завершено, властивості змінять стан на <guilabel
>Гаразд</guilabel
>. </para>
</listitem>
<listitem>
<para
>Контекст: числові властивості можуть приймати і обробляти числа у двох форматах: десятковому і шестидесятковому. Шестидесятковий формат зручний для екваторіальних та географічних координат. Ви можете використовувати будь-який зручний для вас формат. Наприклад, наступні числа є рівними між собою: </para>
<itemizedlist>
<listitem
><para
>-156.40</para
></listitem>
<listitem
><para
>-156:24:00</para
></listitem>
<listitem
><para
>-156:24</para
></listitem>
</itemizedlist>
</listitem>
<listitem>
<para
>Час: стандартним часом для пов’язаного з INDI обміну інформацією є Всесвітній час UTC у вигляді РРРР-ММ-ДДTГГ:ХХ:СС, у відповідності зі стандартом ISO 8601. &kstars; автоматично використовує для обміну інформацією правильний формат часу UTC. Ви можете увімкнути або вимкнути автоматичне оновлення часу за допомогою сторінки налаштування <guilabel
>INDI</guilabel
> у параметрах програми. </para>
</listitem>
</itemizedlist>
</sect1>

<sect1 id="indi-remote-control">
<title
>Керування віддаленими пристроями</title>
<indexterm
><primary
>Керування телескопом</primary>
<secondary
>Віддалені пристрої</secondary>
</indexterm>

<para
>&kstars; надає доступ до простого, але водночас потужного рівня віддаленого керування пристроями. Докладний опис цього рівня наведено у <ulink url="https://www.clearskyinstitute.com/INDI/INDI.pdf"
>білій книзі</ulink
> INDI. </para>

<para
>Для віддаленого керування вам потрібно налаштувати обидва комп’ютери: сервер і клієнт. </para>

<orderedlist>
<listitem>
<para
><guilabel
>Сервер</guilabel
>: щоб підготувати пристрій до віддаленого керування, виконайте дії згідно кроків, зазначених у описі налаштування <link linkend="indi-kstars-setup"
>клієнта/сервера</link
>. Після запуску служби пристрою у <guilabel
>Керуванні пристроями</guilabel
> у стовпчику <guilabel
>Порт</guilabel
> з’явиться номер порту. Окрім номеру порту вам потрібна буде назва вузла або IP-адреса вашого сервера. </para>

</listitem>
<listitem>
<para
><guilabel
>Клієнт</guilabel
>: виберіть пункт <guimenuitem
>Керування пристроями</guimenuitem
> з меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
>, а потім відкрийте у відповідному вікні вкладку <guilabel
>Клієнт</guilabel
>. На вкладці <guilabel
>Клієнт</guilabel
> ви можете додавати, змінювати або вилучати вузли. Додати вузол можна натисканням кнопки <guibutton
>Додати</guibutton
>. Введіть назву вузла або IP-адресу сервера у поле <guilabel
>Вузол</guilabel
>, а замість номера порту введіть номер порту отриманий від комп’ютера-<emphasis
>сервера</emphasis
> на першому кроці. </para>
</listitem>
</orderedlist>

<screenshot>
<screeninfo
>Клієнт INDI</screeninfo>
<mediaobject>
<imageobject>
<imagedata fileref="indiclient.png" format="PNG"/>
</imageobject>
</mediaobject>
</screenshot>

<para
>Після додавання вузла відкрийте його контекстне меню за допомогою правої кнопки миші, щоб <guimenuitem
>З’єднатися</guimenuitem
> з ним або <guimenuitem
>Від’єднатися</guimenuitem
> від нього. Якщо з’єднання буде встановлено, ви зможете керувати вашим телескопом з <guilabel
>Зоряної карти</guilabel
> або <guilabel
>Панелі керування INDI</guilabel
> у той спосіб, що описано у розділі щодо <link linkend="indi-kstars-setup"
>клієнтського і серверного режиму</link
>. Ну ось, власне, і все. </para>

<sect2 id="indi-commandline">
<title
>Як запустити сервер INDI з командного рядка</title>
<para
>Хоча &kstars; надає вам змогу без проблем запустити сервер INDI, ви можете зробити це і з командного рядка. </para>

<para
>Оскільки INDI є незалежним серверним компонентом, ви можете запускати сервер INDI на вузлах, де не встановлено &kstars;. Для запуску на віддалених вузлах INDI можна зібрати окремо. Крім того, драйвери пристроїв записують повідомлення у <constant
>stderr</constant
>, ці повідомлення будуть корисними для усунення можливих проблем. Синтаксис команд сервера INDI такий: </para>

<para
>$ <command
>indiserver</command
> [параметри] driver [<filename
>драйвер</filename
> ...] </para>

<para
><screen
>Параметри:
 -l d     : записувати журнал драйвер а до файла &lt;d&gt;/РРРР-ММ-ДД.islog
 -m m     : «вбити» клієнт, якщо він споживатиме понад вказану кількість мегабайтів, типово, 128.
 -d m     : відкидати потоків блоки даних, якщо клієнт споживатиме понад вказану кількість мегабайтів, типово 5. 0 — вимкнути.
 -p p     : змінити IP-порт, типовим є порт 7624.
 -r r     : максимальна кількість перезапусків драйвера при помилці, типова кількість — 10.
 -f шлях  : шлях до каналу fifo для динамічного запуску та завершення роботи драйверів.
 -v       : показати ключові події, без обміну даними.
 -vv      : -v + вміст ключових повідомлень.
 -vvv     : -vv + увесь xml.
 driver   : виконуваний файл або [пристрій]@вузол[:порт]
</screen
></para>

<para
>Наприклад, щоб запустити сервер INDI разом з драйвером LX200 GPS так, щоб він очікував на з’єднання з портом 8000, слід виконати команду: </para>

<para
>$ <command
>indiserver</command
> -p 8000 <filename
>lx200gps</filename
></para>
</sect2>

<sect2 id="indi-secure-remote">
<title
>Безпечне віддалене керування</title>

<para
>Припустімо, що нам потрібно запустити indiserver з драйверами INDI на віддаленому вузлі, <constant
>віддалений_вузол</constant
>, а потім зв’язатися з ним з &kstars;, запущеного на локальному комп’ютері. </para>

<para
>Увійдіть з локального комп’ютера на <constant
>віддалений_вузол</constant
> за допомогою команди: </para>

<para
>$ <command
>ssh</command
> -L <varname
>локальний_порт</varname
>:<constant
>віддалений_вузол</constant
>:<varname
>віддалений_порт</varname
></para>

<para
>Ця команда пов’яже <varname
>локальний_порт</varname
> на локальному комп’ютері з <varname
>віддаленим_портом</varname
> на <constant
>віддаленому_вузлі</constant
>. Після вдалого входу до віддаленого вузла, запустіть на ньому indiserver: </para>

<para
>$ <command
>indiserver</command
> -p <varname
>віддалений_порт</varname
> [<filename
>драйвер</filename
>...]</para>

<para
>На локальному комп’ютері запустіть &kstars;, потім відкрийте вікно <guimenuitem
>Керування пристроями</guimenuitem
> і додайте вузол на вкладці <guilabel
>Клієнт</guilabel
>. Вузлом має бути назва локального комп’ютера (зазвичай, 127.0.0.1), а номером порту має бути номер <varname
>локальний_порт</varname
>, використаний у попередніх кроках. Наведіть вказівник миші на запис вузла і клацніть <mousebutton
>правою</mousebutton
> кнопкою, а потім виберіть з контекстного меню пункт <guimenuitem
>З’єднатися</guimenuitem
>. Відбудеться безпечне з’єднання &kstars; з віддаленим сервером INDI. Інформацію про вузол буде збережено для наступних сеансів роботи з програмою.</para>
</sect2>
</sect1>

<sect1 id="indi-faq">
<title
>Питання і відповіді щодо INDI</title>
<indexterm
><primary
>Керування телескопом</primary>
<secondary
>Поширені питання та відповіді на них</secondary>
</indexterm>

<qandaset defaultlabel="qanda">
<qandaentry>
<question id="what-is-indi">
<para
>Що таке INDI?</para>
</question>
<answer>
<para
><acronym
>INDI</acronym
> — це скорочення від <ulink url="https://indilib.org"
>Instrument-Neutral-Distributed-Interface</ulink
> (незалежний від інструментів розподілений інтерфейс), він є протоколом керування, розробленим <author
><firstname
>Elwood</firstname
><surname
>C. Downey</surname
></author
> з <ulink url="https://www.clearskyinstitute.com/"
>Інституту ClearSky</ulink
>. &kstars; використовує драйвери пристроїв, сумісні з протоколом INDI. INDI має багато переваг, серед них вільне з’єднання між апаратними пристроями і програмними драйверами. Авторам клієнтських програм, що використовують драйвери пристроїв (зокрема, &kstars;), зовсім не потрібно перейматися точним визначенням можливостей того, чи іншого пристрою. Під час запуску &kstars; просто отримує інформацію від драйверів пристрою, а потім будує динамічний графічний інтерфейс відповідно до повідомлених можливостей пристрою. Тому ви можете отримувати повний спектр можливостей нових драйверів пристроїв без будь-яких змін у клієнтській частині &kstars;. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Чи існують плани підтримки більшої кількості пристроїв? </para>
</question>
<answer>
<para
>Так. Автори планують розширити підтримку основних типів ПЗЗ фотокамер, засобів фокусування і телескопів. Якщо вам потрібна підтримка у INDI якогось окремого пристрою, будь ласка, надішліть про це листа за адресою електронної пошти <email
>indi-devel@lists.sourceforge.net</email
> </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Які дії з керування телескопом може виконувати &kstars;? </para>
</question>
<answer>
<para
>Все залежить від марки вашого телескопа, але ви можете використовувати принаймні три команди: <command
>Slew</command
>, <command
>Track</command
> і <command
>Sync</command
>, які можна віддавати напряму з зоряної карти. Щоб виконання цих команд призводило до правильних результатів, вам слід спочатку вирівняти ваш телескоп. Для деяких телескопів список можливих дій значно ширший: керування розташуванням, режими зміни спрямування, фокусування, паркування тощо. Доступ до додаткових можливостей телескопа можна отримати з Панелі керування INDI, яка відкривається з меню <menuchoice
><guimenu
>Інструменти</guimenu
><guimenuitem
>Пристрої</guimenuitem
></menuchoice
>. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>У чому точно полягає різниця між командами <command
>Slew</command
>, <command
>Track</command
> і <command
>Sync</command
>? </para>
</question>
<answer>
<para
>Команда <command
>Slew</command
> наказує телескопу спрямуватися у певну точку, після того, як телескоп буде спрямовано у цю точку, його механізм продовжить слідкування за цією точкою з <emphasis
>сидеричною</emphasis
> швидкістю (тобто зі швидкістю, з якою рухаються небом зірки). Таке стеження добре спрацьовує для зірок, об’єктів каталогу Месьє, і майже всіх об’єктів поза нашою сонячною системою. Але рух небом об’єктів сонячної системи відрізняється від руху віддалених об’єктів, отже телескопові потрібна інша команда, щоб стежити за рухом об’єктів сонячної системи. </para>
<para
>Для таких випадків призначено команду «track», вона наказує телескопові стежити за об’єктом з несидеричним рухом. Команду ж <command
>Sync</command
> призначено для синхронізації внутрішніх координат телескопа з координатами об’єкта, який ви обрали. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Чи можу я віддалено керувати моїм телескопом? </para>
</question>
<answer>
<para
>Так. Ви можете запустити сервер INDI на комп’ютері з’єднаному з вашим телескопом, цей сервер очікуватиме на запити від клієнтів &kstars;. Після з’єднання з сервером ви зможете віддавати телескопові команди напряму з карти неба. Весь процес детально описано у розділі <link linkend="indi-remote-control"
>Віддалене керування пристроями</link
>. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Під час спроб <guibutton
>З’єднатися</guibutton
>, &kstars; повідомляє, що телескоп не з’єднано з послідовним або USB-портом. Що робити? </para>
</question>
<answer>
<para
>Таке повідомлення з’являється, якщо &kstars; не може зв’язатися з телескопом. Ось декілька дій, які можуть вам допомогти у визначенні причин помилки:</para>

   <orderedlist>
   <listitem>
<para
>Перевірте, чи є у вас дозволи на читання і запис до порту, з яким ви намагаєтеся з’єднатися.</para>
   </listitem>
   <listitem>
<para
>Перевірте з’єднувальний кабель, переконайтеся, що його не пошкоджено, і перевірте його за допомогою інших програм.</para>
   </listitem>
   <listitem>
<para
>Перевірте живлення вашого телескопа, переконайтеся, що його увімкнено і що телескоп отримує достатньо енергії.</para>
   </listitem>
   <listitem>
<para
>Виберіть пункт меню <menuchoice
><guimenu
>Інструменти</guimenu
> <guisubmenu
>Пристрої</guisubmenu
> <guimenuitem
>Панель керування INDI...</guimenuitem
></menuchoice
> і вкажіть належний порт у вікні <guilabel
>Панель керування INDI</guilabel
>. Типовим пристроєм є <constant
>/dev/ttyS0</constant
></para>
   </listitem>
   <listitem>
   <para
>Перезапустіть &kstars; і спробуйте ще раз.</para>
   </listitem>
   </orderedlist>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>&kstars; повідомляє про те, що телескоп з’єднано і він готовий до виконання команд, але я не можу знайти візиру телескопа, де він?</para>
</question>
<answer>
<para
>&kstars; отримує координати RA і DEC від телескопа за допомогою з’єднання. Якщо вирівнювання телескопа було виконано правильно, ви повинні побачити рамку поля зору навколо вашої цілі на карті неба. Але надані телескопом значення RA і DEC можуть бути і неправильними (навіть знаходитися під лінією горизонту), в такому разі вам потрібно буде відати команду <link linkend="indi-sync"
>Sync</link
> для спрямування телескопа на вашу поточну ціль. Щоб спрямувати телескоп у центр зображення і змусити його стежити за цією точкою, ви можете скористатися контекстним меню карти неба. </para>
</answer>
</qandaentry>

<qandaentry>
<question>
<para
>Рухи телескопа є помилковими, або він взагалі не рухається. Що робити?</para>
</question>
<answer>
<para
>Таку поведінку, зазвичай, спричинено некоректними параметрами, будь ласка, перевірте:</para>
<orderedlist>
<listitem>
<para
>Чи було виконано вирівнювання телескопа.</para>
</listitem>
<listitem>
<para
>Чи правильно вибрано режим вирівнювання. Скористайтеся <guilabel
>Центром керування INDI</guilabel
>, щоб перевірити і змінити параметри (<constant
>Alt/Az,Polar, Land</constant
>). </para>
</listitem>
<listitem>
<para
>Чи правильно встановлено час і дату на телескопі.</para>
</listitem>
<listitem>
<para
>Чи правильно встановлено довготу і широту на телескопі.</para>
</listitem>
<listitem>
<para
>Чи правильно встановлено часовий пояс телескопа.</para>
</listitem>
<listitem>
<para
>Чи міцно закріплено осі RA і DEC телескопа.</para>
</listitem>
<listitem>
<para
>Чи правильно встановлено перемикач N/S (якщо такий є) на вашому телескопі, тобто чи відповідає він земній півкулі, у якій ви знаходитеся?</para>
</listitem>
<listitem>
<para
>Чи не пошкоджено кабель, що з’єднує телескоп з комп’ютером.</para>
</listitem>
</orderedlist>

<para
>Якщо ви переконані, що всі параметри було встановлено правильно, але телескоп все ж рухається неправильно, або взагалі не рухається, будь ласка, надішліть звіт про цю несправність за адресою електронної пошти <email
>indi-devel@lists.sourceforge.net</email
>. </para>
</answer>
</qandaentry>
</qandaset>
</sect1>
</chapter>

