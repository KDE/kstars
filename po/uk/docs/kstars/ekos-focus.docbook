<?xml version="1.0" encoding="UTF-8"?>
<sect1 id="ekos-focus">
  <title
>Фокусування</title>

  <indexterm>
    <primary
>Інструменти</primary>

    <secondary
>Ekos</secondary>

    <tertiary
>Фокусування</tertiary>
  </indexterm>

  <sect2 id="focus-theory">
    <title
>Теорія роботи</title>

    <screenshot>
      <screeninfo
>Фокусування у Ekos </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="ekos_focus.png" format="PNG" width="75%"/>
        </imageobject>

        <textobject>
          <phrase
>Фокусування у Ekos</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Для фокусування зображення Ekos має встановити обчислювальний метод, який надасть змогу визначити наскільки <emphasis
>якісним</emphasis
> є фокусування. Доволі просто поглянути на зображення і визначити, що воно є <emphasis
>розфокусованим</emphasis
> — людське око доволі просто виконує це завдання. Але <emphasis
>як</emphasis
> може Ekos встановити це без людини? </para>

    <para
>Найперевіренішим методом є радіус половинного потоку (РПП або HFR), тобто використання вимірювання ширини у пікселях від центру зірки до накопичення інтенсивності у половину загального потоку випромінювання зірки. При наближенні до точки оптимального фокусування зменшується РПП, досягаючи мінімуму у точці фокусування і збільшуючись після неї. Використання РПП на різних типах обладнання довело стабільність методики за широкого діапазону випадків. </para>

    <para
>На додачу до РПП в Ekos передбачено підтримку інших мір фокусування, включно із коригованою мірою РПП, ПШПМ, кількістю зірок та кривою Фур'є. Рекомендуємо почати з РПП, а потім, із накопиченням досвіду у фокусуванні обладнання, спробувати інші вимірювання. </para>

    <para
>Після обробки зображення за допомогою Ekos буде або вибрано одну зірку і розпочато вимірювання її радіуса половинного потоку, або вибрано набір зірок, що відповідають встановленим критеріям, і обчислено середнє значення радіуса половинного потоку. Програма може автоматично вибрати зірку або ви можете вибрати зірку вручну. Рекомендовано дозволити Ekos автоматично вибрати набір зірок. </para>

    <para
>У Ekos передбачено підтримку 4 різних алгоритмів фокусування: лінійного однопрохідного, лінійного, ітеративного, поліноміального. Рекомендованим є лінійних однопрохідний алгоритм. </para>

    <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Лінійний однопрохідний</emphasis
>: у межах лінійного однопрохідного алгоритму Ekos встановлює V-криву і апроксимацію для пошуку розв'язку. Далі, він просувається безпосередньо до обчисленого мінімуму. Ключові особливості: </para>

        <itemizedlist>
          <listitem>
            <para
>Алгоритм компенсує люфт засобу фокусування. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм є швидким, для його реалізації потрібен один прохід для визначення оптимального фокусування. </para>
          </listitem>

          <listitem>
            <para
>В алгоритмі використано складнішу апроксимацію кривої для визначення оптимальної позиції фокусування. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм є дуже гнучким у налаштовуванні: користувач може керувати багатьма параметрами, зокрема розміром кроку, кількістю кроків та тим, як обробляти викиди у точках даних. </para>
          </listitem>
        </itemizedlist>
      <para
>Якщо засіб фокусування поводить себе у повторюваний спосіб, тобто при надходженні команди щодо пересування до позиції X він завжди переходить до тієї самої позиції, цей алгоритм є найкращим з використаних.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Лінійний</emphasis
>: у межах лінійного алгоритму Ekos відступає від початкової точки назовні, потім рухається всередину, створюючи регулярні точки даних до точки оптимального фокусування, а потім далі всередину для малювання V-кривої. Потім буде виконано апроксимацію квадратичною кривою до точок даних і обчислено точку оптимального фокусування. Далі, алгоритм знову почне рух на другому проході. Рух відбуватиметься за кривою з першого проходу з метою пошуку мінімального радіуса половинного потоку. Через випадкових характер вимірювання радіуса половинного потоку, в алгоритмі буде використано частку допуску з метою допомогти у визначенні моменту віднайдення розв'язку. Ключові особливості: </para>

        <itemizedlist>
          <listitem>
            <para
>Алгоритм компенсує люфт засобу фокусування. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм є повільним, для його реалізації потрібно два проходи для визначення оптимального фокусування. </para>
          </listitem>

          <listitem>
            <para
>В алгоритмі використано апроксимацію кривої для визначення оптимальної позиції фокусування на проході 1 з наступним використанням допуску з метою зупинки якомога ближче до цього радіуса половинного потоку на проході 2. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм є дуже гнучким у налаштовуванні: користувач може керувати багатьма параметрами, зокрема розміром кроку та кількістю кроків. </para>
          </listitem>
        </itemizedlist>
        <para
>Якщо засіб фокусування поводить себе некоректно, тобто при отриманні наказу перейти до позиції X, переходить до різних позицій, найкращим буде використання цього алгоритму, оскільки до нього вбудовано допуски для відхилень від позиції.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Ітеративний</emphasis
>: в межах ітеративного алгоритму Ekos виконує ітеративно дискретні кроки, спочатку використовуючи налаштований користувачем розмір кроку, а потім враховуючи нахил V-кривої, для отримання близької до оптимальної позиції фокусування, де змінює темп і починає виконувати дуже малі точні кроки для досягнення оптимального фокусування. Якщо використовується типовий <guilabel
>Ітеративний</guilabel
> алгоритм, процедура фокусування зупиняється, коли виміряний радіус половинного потоку відрізнятиметься від найменшого записаного значення радіуса половинного потоку на величину, яка є меншою за налаштовану точність. Іншими словами, при пошуку розв'язку задачі мінімізації у вузькому обмеженому діапазоні значень програма перевіряє різницю у відсотках поточного значення радіуса половинного потоку від найменшого записаного значення радіуса половинного потоку, і якщо ця різниця є меншою за вказане користувачем значення, процедура автофокусування вважається успішно завершеною. Типовою є різниця у 1% — вона є достатньою у переважній кількості випадків. Параметри групи <guilabel
>Крок</guilabel
> визначають кількість <emphasis
>початкових</emphasis
> кроків фокусування. Якщо зображення є дуже розфокусованим, слід встановити велике значення кроку (тобто &gt; 250). З іншого боку, якщо фокусування близьке до оптимального, можна вибрати невеликий розмір кроку (менше за 50). Початковий крок для вашого обладнання можна вибрати способом спроб і помилок. Втім, слід зважати на те, що Ekos використовує це значення лише на першому кроці фокусування, оскільки усі наступні кроки буде виконано на основі даних щодо нахилу дотичної до V-кривої. Ключові особливості:</para>

        <itemizedlist>
          <listitem>
            <para
>В алгоритмі зроблено припущення щодо того, що люфт засобу фокусування є добре контрольованим. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм може працювати швидко із використанням мінімальної кількості кроків. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм працює у межах парадигми достатності, де припинення обчислень відбувається, коли радіус половинного потоку потрапляє до допуску у частках щодо визначеного мінімуму. </para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Поліноміальний</emphasis
>: у межах поліноміального алгоритму, процедура розпочинається у режимі, подібному до ітеративного алгоритму, але при переході на інший бік V-кривої (тобто у ситуації, коли радіус половинного потоку після зменшення починає знову зростати), Ekos виконує квадратичну апроксимацію для пошуку розв'язку, який даватиме позицію мінімального можливого радіуса половинного потоку. Ключові особливості:</para>

        <itemizedlist>
          <listitem>
            <para
>В алгоритмі зроблено припущення щодо того, що люфт засобу фокусування є добре контрольованим. </para>
          </listitem>

          <listitem>
            <para
>Алгоритм може працювати швидко із використанням мінімальної кількості кроків. </para>
          </listitem>

          <listitem>
            <para
>В алгоритмі використано апроксимацію кривої для визначення оптимальної позиції фокусування. </para>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="optical-train-group">
    <title
>Група оптичного тракту</title>

    <screenshot>
      <screeninfo
>Оптичний тракт </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="optical_train_group.png" format="PNG"
                     width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Параметри оптичного тракту</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>У групі «Оптичний тракт» буде показано поточний вибраний оптичний тракт. Типово, цей буде основний тракт створення зображення, але можна вибрати інші тракти. Група складається з таких елементів:</para>

    <itemizedlist>
      <listitem>
        <para
><guibutton
>Тракт</guibutton
>: поточний використаний оптичний тракт на вкладці «Фокус». Наведіть вказівник миші на це поле, щоб отримати докладніший опис позначеного тракту.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Кнопка редагування</guibutton
>: відкриває вікно «Оптичний тракт» для перегляду та потенційного редагування оптичних трактів.</para>
      </listitem>
    </itemizedlist>

    <para
>Параметри фокусування зберігаються для оптичного тракту автоматично.</para>
  </sect2>

  <sect2 id="focus-focuser-group">
    <title
>Група засобів фокусування</title>

    <screenshot>
      <screeninfo
>Параметри засобу фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focuser_group.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Параметри засобу фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Передбачено підтримку усіх сумісних із INDI засобів фокусування. Рекомендуємо користуватися <emphasis role="bold"
>абсолютними</emphasis
> засобами фокусування для отримання найкращих результатів, оскільки їхня абсолютна позиція є відомою на час вмикання. У INDI, <emphasis
>нульовою</emphasis
> позицією засобу фокусування вважається позиція, у якій тубус <emphasis role="bold"
>повністю втягнено</emphasis
>. При фокусуванні <emphasis
>назовні</emphasis
> позиція засобу фокусування зростає, а при фокусуванні <emphasis
>всередину</emphasis
> — зменшується. Передбачено підтримку таких типів засобів фокусування: </para>

    <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Абсолютний</emphasis
>: засоби фокусування з абсолютною позицією, зокрема RoboFocus, MoonLite, ASI ZWO. </para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Відносний</emphasis
>: прилади фокусування з відносною позицією. </para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>На основі часу</emphasis
>: засновані на часу засоби фокусування без зворотного зв'язку за позицією, які коригують позицію фокусування пересуванням на певний часовий крок. </para>
      </listitem>
    </itemizedlist>

    <para
>У полі <guibutton
>Засіб фокусування</guibutton
> міститься запис засобу фокусування у долученому оптичному тракті. </para>

    <para
>Для засобів абсолютного і відносного фокусування одиницями розміру кроку будуть <emphasis
>позначки</emphasis
>, для простих, заснованих на часу, засобів фокусування розмір вимірюватиметься у <emphasis
>мілісекундах</emphasis
>. Кнопками <guibutton
>Всередину</guibutton
> і <guibutton
>Назовні</guibutton
> можна скористатися для пересування засобу фокусування на кількість позначок, яку указано у полі <guibutton
>Розмір початкового кроку</guibutton
> на вкладці <link linkend="focus-mechanics"
>Механіка</link
>.</para>

    <para
>Поля панелі «Кроки» мають дві частини:</para>
    <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Ліва частина</emphasis
>: позиція поточного засобу фокусування. Це лише виведені дані, вони оновлюються при пересуванні засобу фокусування для встановлення відповідності поточній позиції.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Права частина</emphasis
>: це вхідні дані, тут користувач може ввести бажану позицію. Якщо натиснуто кнопку <guibutton
>Перейти</guibutton
>, засіб фокусування буде пересунуто з його поточної позиції до позиції, яку вказано у цьому полі. </para>
      </listitem>
    </itemizedlist>

    <para
>Після запуску ліворуч буде показано поточну позицію засобу фокусування. У правому полі типово буде показано дані зі збережених параметрів оптичного тракту. Це корисно, наприклад, якщо у вас декілька оптичних трактів, де використано той самий засіб фокусування, але із розв'язанням у різних позиціях. У цьому випадку у правих полях міститиметься останні стале значення для цього поля для вибраного оптичного тракту. Отже, після зміни обладнання і вибору оптичного тракту, якщо користувач натискає кнопку <guibutton
>Перейти</guibutton
>, засіб фокусування буде пересунуто до доброї початкової позиції для фокусування.</para>

    <para
>Кнопка <guibutton
>Перейти до позиції фокусування</guibutton
> пересуває засіб фокусування у позицію, яку вказано у правому полі «Кроки». </para>

    <para
>Натискання кнопки <guibutton
>Припинити рух засобу фокусування</guibutton
> припиняє поточний рух засобу фокусування. </para>

    <para
>Натискання кнопки <guibutton
>Автоматичне фокусування</guibutton
> розпочинає процедуру автоматичного фокусування. Кнопкою <guibutton
>Зупинити</guibutton
> можна скористатися для припинення процедури. </para>

    <para
>За допомогою натискання кнопки <guibutton
>Захопити зображення</guibutton
> можна створити кадр на основі поточних параметрів у групі <link linkend="focus-ccd-filter-wheel"
>Камера і барабан фільтрів</link
>. Натискання кнопки <guibutton
>Розпочати кадрування</guibutton
> призведе до повторного захоплення кадрів, аж до натискання кнопки <guibutton
>Припинити</guibutton
>. </para>

    <para
>Деякі алгоритми фокусування намагаються вирішувати проблеми із початковими позиціями, які перебувають далеко від оптимального фокуса, але для отримання передбачуваних результатів краще починати з позиції, яка є близькою до фокуса. Для початку, можна скористатися полем <guibutton
>Початкове кадрування</guibutton
> із кнопками <guibutton
>Всередину</guibutton
> і <guibutton
>Назовні</guibutton
> для користування позиції фокусування з метою грубої мінімізації РПП зірок у захоплених зображень. Якщо кадрування використано у цей спосіб, на графіку <link linkend="focus-v-curve"
>V-кривої</link
> буде показано послідовність моментів часу для кадрів та відповідні значення РПП. Це значно спрощує виконання процедури кадрування.</para>

    <para
>Якщо ви є початківцем в астрономії, варто ознайомитися із вашим обладнанням при світлі дня. Зокрема, варто спробувати виконати приблизне фокусування на віддаленому об'єкті. Це надасть вам добру початкову позицію для фокусування на зірках уночі.</para>
  </sect2>

  <sect2 id="focus-ccd-filter-wheel">
    <title
>Група «Камера і барабан з фільтрами»</title>

    <screenshot>
      <screeninfo
>Група «Камера фокусування і барабан з фільтрами» </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_ccdfw_group.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Група «Камера фокусування і барабан з фільтрами»</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>У цьому розділі зібрано параметри, які пов'язано із параметрами фотоапарата та фільтрів, які буде використано під час фокусування.</para>

    <para
>Верхній рядок елементів керування пов'язано із параметрами ПЗЗ, які слід використати.</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Експ</guilabel
>: тривалість експонування у секундах.</para>
      </listitem>

      <listitem>
        <para
>Натискання кнопки <guibutton
>Увімкнути або вимкнути повноекранний режим</guibutton
> відкриває окреме вікно із показом рамки фокусування. Повторне натискання кнопки поверне вас до фокусованого вікна.</para>
      </listitem>

      <listitem>
        <para
>Кнопка <guibutton
>Показати у засобі перегляду FITS</guibutton
> відкриває окреме вікно засобу перегляду даних FITS для показу рамки фокусування, на додачу до рамки фокусування, яку показано у вікні фокусування.</para>
      </listitem>

      <listitem>
        <para
>Кнопка <guibutton
>Інтерактивне відео</guibutton
> відкриває відповідне контекстне вікно.</para>
      </listitem>
    </itemizedlist>

    <para
>Наступний рядок засобів керування надає змогу встановити параметри фотоапарата. Виберіть значення зі спадного списку, а потім вкажіть, слід підсилювати камеру чи скористатися ISO.</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Кроки</guilabel
>: збільшення кількості кроків змінить масштаб зображення, а також дає яскравіші пікселі. Загалом, вибір варіантів, більших за 1x1, вартий, лише якщо масштаб вашого зображення є надмірним, де збільшення масштабу не веде до втрати роздільної здатності. Якщо ви хочете збільшити яскравість зірок, спробуйте збільшити час експонування і/або підсилення. Якщо ви не певні, лишіть варіант 1x1.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Підсилення</guilabel
>: встановіть підсилення для фотоапарата, який використано для фокусування. Значення має бути достатньо великим для отримання чистого візерунка зірок, але недостатньо великим, щоб створювати надмірне зашумення, яке заважатиме фокусуванню. Для пошуку оптимального значення потрібні певні досліди. Якщо ви не впевнені, з чого почати, спробуйте одиничний приріст для вашої камери і почати коригування з нього.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>ISO</guilabel
>: встановіть ISO для фотоапарата, який буде використано для фокусування. Для визначення оптимального значення знадобиться певне експериментування.</para>
      </listitem>
    </itemizedlist>

    <para
>Третій рядок елементів керування призначено для джерела даних температури і фільтрування, якщо таке є:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>ДТ</guilabel
>: вибрати джерело даних щодо температури зі спадного списку. Нижче буде показано поточну температуру з вибраного джерела температури та зміну температури між моментом останньої успішної процедури автофокусування і поточним моментом. Поширеною практикою виконання повторного фокусування після значної зміни температури, яка змінює точку фокусування телескопа.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Фільтр</guilabel
>: вибрати фільтр, яким слід скористатися.</para>

        <para
>Щоб розпочати фокусування, ймовірно, варто вибрати фільтр, який пропускає найбільше світла, наприклад фільтр світності. Натисніть піктограму фільтрування <inlinemediaobject
><imageobject
><imagedata fileref="view-filter.png" format="PNG"/></imageobject
></inlinemediaobject
> для відкриття контекстного вікна <link linkend="focus-filter-settings"
>Параметри фільтрування</link
>. За її допомогою можна встановити значення параметрів окремого фільтра, які буде використано під час автоматичного фокусування.</para>
      </listitem>

      <listitem>
        <para
>Натискання кнопки <guibutton
>Скинути</guibutton
> відновить для допоміжного кадру фокусування розміри повного кадру.</para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="focus-tools">
    <title
>Група інструментів</title>

    <screenshot>
      <screeninfo
>Група інструментів фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_tools_group.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Група інструментів фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>У цьому розділі наведено опис інструментів фокусування, які доступні у поточній версії.</para>

    <itemizedlist>
      <listitem>
        <para
>Натискання кнопки <guibutton
>Інспектор аберації</guibutton
> запускає <link linkend="focus-aberration-inspector"
>інспектор аберації</link
>. Кнопкою <guibutton
>Зупинити</guibutton
> можна скористатися для припинення процедури. </para>
      </listitem>
      <listitem>
        <para
>Кнопка <guibutton
>КЗФ</guibutton
> відкриває вікно інструмента <link linkend="focus-cfz"
>Критична зона фокусування</link
>. </para>
      </listitem>
      <listitem>
        <para
>Кнопка <guibutton
>Радник</guibutton
> відкриває вікно інструмента <link linkend="focus-advisor"
>Радник з фокусування</link
>. </para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="focus-options">
  <title
>Параметри фокусування</title>

  <screenshot>
    <screeninfo
>Параметри фокусування </screeninfo>

    <mediaobject>
      <imageobject>
        <imagedata fileref="focus_options.png" format="PNG" width="50%"/>
      </imageobject>

      <textobject>
        <phrase
>Параметри фокусування</phrase>
      </textobject>
    </mediaobject>
  </screenshot>

  <para
>Доступ до параметрів фокусування можна отримати натисканням кнопки <guibutton
>Параметри...</guibutton
>. У відповідь буде відкрито вікно з трьома панелями:</para>

  <itemizedlist>
    <listitem>
      <para
><link linkend="focus-settings"
>Параметри</link
>: тут зібрано загальні параметри фокусування.</para>
    </listitem>
    <listitem>
      <para
><link linkend="focus-process"
>Процес</link
>: тут зібрано параметри, які пов'язано із процесом автофокусування.</para>
    </listitem>
    <listitem>
      <para
><link linkend="focus-mechanics"
>Механіка</link
>: параметри, які пов'язано із механікою фокусування.</para>
    </listitem>
  </itemizedlist>

  <para
>Параметри зберігаються для кожного окремого оптичного тракту. Це надає змогу мати різні налаштування для різного обладнання. Параметри зберігатимуться одразу після внесення змін, отже, пілся запуску буде завантажено останні використані налаштування для вибраного оптичного тракту.</para>

  <sect3 id="focus-settings">
    <title
>Параметри фокусування</title>

    <screenshot>
      <screeninfo
>Параметри фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_settings.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Параметри фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Загальний розділ параметрів:</para>
    <itemizedlist>
      <listitem>
        <para
><guilabel
>Автовибір зірки</guilabel
>: цей параметр має значення, лише якщо позначено пункт <guilabel
>Підкадр</guilabel
>. У цьому випадку, якщо позначено пункт <guilabel
>Автовибір зірки</guilabel
>, Ekos вибере зірку для фокусування. Якщо ж пункт не позначено, користувачеві доведеться вручну вибрати зірку за допомогою переглядача FITS.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Призупиняти наведення</guilabel
>: позначте цей пункт, щоб призупинити наведення під час процедури автофокусування. Призначенням цього пункту є запобігання проблемам наведення через розфокусовані зірки під час процедури фокусування, зокрема, наприклад, у випадках, коли телескоп наведення з'єднано із основним телескопом позаосьовим засобом з'єднання.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Темний кадр</guilabel
>: позначте цей пункт для віднімання темного кадру від основного. Цей пункт може бути корисним для зашумлених зображень, для яких слід відняти від зображення фокусування попередньо знятий темний кадр, щоб покращити результати подальшої обробки.</para>

        <para
>Якщо пошкоджені яскраві пікселі спричиняють проблеми із фокусуванням, виберіть темні кадри і або налаштуйте звичайний основний темний кадр, або виберіть пункт мапи дефектів.</para>

        <para
>Темні кадри використовують при фокусуванні, вирівнюванні та наведенні. Див. опис можливості бібліотеки темних кадрів у розділі щодо <link linkend="ekos-capture"
>модуля захоплення</link
>, щоб дізнатися більше про те, як налаштувати темні кадри.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Повне поле</guilabel
>: позначте цей пункт, щоб скористатися повним полем зору камери. У цьому режимі алгоритм фокусування автоматично вибере декілька зірок для обробки під час автоматичного фокусування. Альтернативним варіантом є <guilabel
>Підкадр</guilabel
>.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Підкадр</guilabel
>: позначте, щоб скористатися єдиною зіркою для процедури автоматичного фокусування. Альтернативним варіантом є <guilabel
>Повне поле</guilabel
>, який призводить до використання декількох зірок для автоматичного фокусування. Залежно від значення параметра <guilabel
>Автовибір зірки</guilabel
>, вибір зірки буде здійснено користувачем або Ekos.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Прямокутник</guilabel
>: виберіть розмір прямокутника для вибору зірки фокусування при використанні <emphasis role="bold"
>підкадру</emphasis
>. Збільште значення, якщо зірки на знімку дуже великі. Для фокусування за Бахтіновим розмір прямокутника може бути додатково збільшено для кращого покриття шаблона дифракції Бахтінова.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Одиниці показу</guilabel
>: виберіть одиниці для показу на V-кривій автофокусування, якщо вибрано РПП або ПШПМ. Передбачено підтримку <emphasis role="bold"
>пікселів</emphasis
> та <emphasis role="bold"
>кутових секунд</emphasis
>.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Врівноваження наведення</guilabel
>: цей пункт використовують у поєднанні із <guilabel
>Призупиняти наведення</guilabel
>. Цей пункт уможливлює заспокоєння усіх вібрацій в оптичному обладнанні шляхом очікування протягом вказаної кількості секунд з моменту завершення процесу автофокусування, перш ніж розпочнеться наведення.</para>
      </listitem>
    </itemizedlist>

    <para
>Розділ параметрів маскування:</para>

    <para
>Ці засоби керування пов'язано із <emphasis role="bold"
>параметрами маскування</emphasis
>, які буде використано у режимі <guilabel
>Повне поле</guilabel
>. Результат застосування параметрів маскування можна переглянути у вікні <link linkend="focus-display"
>переглядача FITS</link
>/</para>
    <itemizedlist>
      <listitem>
        <para
><guilabel
>Використовувати усі зірки для фокусування</guilabel
>: позначте цей пункт, якщо для фокусування слід враховувати усі зірки у полі.</para>
      </listitem>
	    
      <listitem>
        <para
><guilabel
>Кільцева маска</guilabel
>: для кільця передбачено два поля для введення, які разом визначають кільце навколо поля зору камери. Зірки, що потрапляють за межі кільця, виключають з обробки. Встановлення додатного значення для внутрішнього кола призведе до того, що зірки у центрі поля зору буде відкинуто. Це може бути корисним, щоб уникнути використання зірок цілі (наприклад галактики) для потреб фокусування. Встановлення меншого за 100% значення для зовнішнього кола призведе до того, що зірки на краях поля зобу буде виключено з обробки під час фокусування. Це може бути корисним, якщо у вас немає зображення плоского поля на краях поля зору.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Мозаїчна маска</guilabel
>: мозаїка 3x3, яка складається з плиток центру зображення, його кутів та країв. Цей варіант буде корисним, якщо ви хочете перевірити потужність оптики — щоб подібне до сценарію вивчення аберації PixInsight. Розмір плитки можна налаштувати у відсотках до ширини кадру, а також можна визначити значення інтервалу між плитками.</para>
        <para
>Мозаїчною маскою можна скористатися у чотирьох випадках: <itemizedlist>
            <listitem>
                <para
>Перевірка фокусування в усіх частинах датчика: маска уможливлює просту візуальну перевірку і порівняння зірок у центрі, кутах та на краях датчика. Це особливо корисно для оптики із видимою аберацією, якщо 100% фокусування не досягнуто.</para>
            </listitem>
            <listitem>
                <para
>Виправлення нахилу зображення: великі датчики є особливо чутливими до помилкового визначення відстані та нахилу датчика. У таких випадках на зображенні помітка аберація, особливо у кутах зображення. Якщо у всіх кутах спостерігається той самий ефект, слід виправити відстань. Якщо аберація у кутах є різною, це, типово, є результатом нахилу датчика.</para>
            </listitem>
            <listitem>
                <para
>Колімаційні ньютонівські телескопи: для колімації ньютонівських телескопів типово використовують вивчення кадрів у розфокусованому стані. Див., наприклад, Tommy Nawratil's <ulink url="https://teleskop-austria.at/information/pdf/JUS_Photonewton_Collimation_Primer_EN.pdf"
>Підручник з фотоньютонівської колімації</ulink
> від Tommy Nawratil, щоб дізнатися більше.</para>
            </listitem>
            <listitem>
                <para
>Запуск інструмента <link linkend="focus-aberration-inspector"
>інспектора аберації</link
>.</para>
            </listitem>
          </itemizedlist
></para>
      </listitem>
    </itemizedlist>

    <para
>Параметри адаптивного фокусування:</para>

    <para
>Наступний набір засобів керування стосується <emphasis role="bold"
>Адаптивного фокусування</emphasis
>. Ідея полягає у підтримання фокусування телескопа коригуванням позиції засобу фокусування на основі змін в умовах середовища без потреби у виконання повної процедури автоматичного фокусування. Див. <link linkend="focus-adaptive"
>розділ щодо адаптивного фокусування</link
>, щоб дізнатися більше.</para>

    <para
>Наприклад, зі зміною температури під час сеансу знімання змінюється точка фокусування. Шляхом дискретизації температури між підкадрами можна спочатку обчислити зміну у температурі, а потім перетворити дані на кількість поділок руху засобу фокусування для застосування між підкадрами.</para>

    <para
>Щоб скористатися <emphasis role="bold"
>адаптивним фокусуванням</emphasis
>, потрібно вказати певні дані для вашої системи. Зокрема, вам потрібно повідомити Ekos, на скільки поділок (і у якому напрямку) слід пересунути засіб фокусування при зміні умов середовища. Це заповнюється на контекстній панелі <link linkend="focus-filter-settings"
>Параметри фільтрування</link
>. Відкрити контекстну панель можна натисканням кнопки фільтрування <inlinemediaobject
><imageobject
><imagedata fileref="view-filter.png" format="PNG"/></imageobject
></inlinemediaobject
>.</para>

    <para
>Доступними є такі засоби керування: <itemizedlist>
            <listitem>
              <para
><guilabel
>Адаптивне фокусування</guilabel
>: виберіть цей варіант, щоб активувати <emphasis role="bold"
>адаптивне фокусування</emphasis
>.</para>
            </listitem>

            <listitem>
              <para
><guilabel
>Мін. рух</guilabel
>: мінімальний дозволений рух під час адаптивного фокусування.</para>
            </listitem>

            <listitem>
              <para
><guilabel
>Адаптувати початкову позицію</guilabel
>: позначте, щоб надати змогу підпрограмі адаптивного фокусування обчислювати початкову позицію для автоматичного фокусування. Початкова позиція є остання якісна позиція розв'язання для вибраного фільтра, адаптована до змін у навколишньому середовищі.</para>

              <para
>Наприклад, якщо поточною позицією засобу фокусування є 1000, температура = 4C та вибрано червоний фільтр (останньою якісною позицією фокусування для червоного була 990 при 5C і Ekos налаштовано на пересування +3 <guilabel
>поділки / °C</guilabel
>). Тоді, якщо адаптування початкової позиції вимкнено, автоматичне фокусування розпочнеться з 1000. Якщо адаптування початкової позиції увімкнено, автоматичне фокусування розпочнеться з 990 + (5 - 4) * 3 = 993.</para>

              <para
>Ця можливість корисна для забезпечення початку фокусування з позиції, яка близька до точки фокусування, що означатиме симетричнішу V-криву. Це зокрема корисно при зміні фільтрів, коли різниця у точках фокусування є великою.</para>

              <para
>Цією можливістю можна скористатися і без адаптивного фокусування. Просто позначте пункт і лишіть нульове значення поділок на градус C. Це зробить початкову позицію автоматичного фокусування залежною від фільтра. Кожна процедура автоматичного фокусування розпочинатиметься у точці фокусування, яку було знайдено під час останнього успішного автофокусування для відповідного фільтра.</para>
            </listitem>

            <listitem>
              <para
><guilabel
>Макс. загальний рух</guilabel
>: максимальний загальний рух засобу фокусування, який дозволено під час адаптивного фокусування у сеансі спостереження. Цей параметр є «резервною кнопкою» для адаптивного фокусування, якщо обробка даних призводитиме до розбіжності. Наприклад, якщо виникне помилка джерела даних температури і воно повертатиме помилкові значення температури будучи недоступним для обслуговування, результатом може бути спроба надто великих змін фокусування під час застосування алгоритму адаптивного фокусування.</para>

              <para
>Якщо буде досягнуто значення максимального загального руху, програма зніме позначення з пункту <guilabel
>Адаптивне фокусування</guilabel
>, аж доки його не буде знову позначено користувачем вручну.</para>
            </listitem>
        </itemizedlist>
    </para>
  </sect3>

  <sect3 id="focus-process">
    <title
>Процедура фокусування</title>

    <screenshot>
      <screeninfo
>Процедура фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_process.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Процедура фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Параметри процесу фокусування:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Виявлення</guilabel
>: виберіть алгоритм виявлення зірок. У кожного з алгоритмів є свої переваги і недоліки. Рекомендуємо використовувати SEP, якщо ваш випадок є специфічним. Доступні такі параметри:</para>

        <itemizedlist>
          <listitem>
            <para
><emphasis role="bold"
>SEP</emphasis
>: вбудована бібліотека видобування початкових даних і фотометрії (Source Extraction and Photometry). Це типове значення.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Центр ваги</emphasis
>: метод видобування даних на основі оцінки маси зірки навколо піків сигналів.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Градієнт</emphasis
>: модель видобування з єдиного джерела на основі фільтрування Собеля. </para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Поріг</emphasis
>: алгоритм виявлено єдиного джерела на основі значень пікселів. </para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Бахтінов</emphasis
>: цим методом виявлення можна скористатися, якщо для фокусування використано маску Бахтінова. Спочатку створіть знімок, потім виберіть зірку для фокусування. Програма створить новий знімок і проаналізує дифракційний шаблон. На дифракційному шаблоні буде показано три прямі, які вказуватимуть на те, наскільки добре було розпізнано шаблон, і наскільки фокусовано зображення. Якщо шаблон розпізнано не дуже добре, можна скоригувати значення параметра <emphasis
>К-ть рядків</emphasis
>. Лінія із колами на кінцях є збільшеним індикатором для фокусування. Чим коротшою є лінія, тим фокусованішим є зображення.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
><guilabel
>Профіль SEP</guilabel
>: якщо встановлено алгоритм виявлення зірки <emphasis
>SEP</emphasis
>, виберіть профіль параметрів, яким слід скористатися в алгоритмі. Рекомендуємо для початку скористатися типовим профілем «1-Focus-Default».</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Алгоритм</guilabel
>: виберіть алгоритм процедури автофокусування: </para>

      <itemizedlist>
        <listitem>
          <para
><emphasis role="bold"
>Лінійний однопрохідний</emphasis
>: це рекомендований алгоритм. у межах лінійного однопрохідного алгоритму Ekos встановлює V-криву першого проходу і апроксимації для пошуку розв'язку фокусування. Далі, програма виконує фокусування за обчисленим розв'язком.</para>

          <para
>У цьому алгоритмі передбачено підтримку давнішого стилю типу квадратичної кривої, а також новішого <link linkend="Levenberg-Marquardt"
>розв'язувача Левенберга-Марквардта</link
> для гіперболічних та параболічних кривих. У його межах програма виконує зважування точок даних у процесі апроксимації кривої, якщо позначено пункт <guilabel
>Використовувати вагову функцію</guilabel
>, і виконує процедуру коригування, якщо позначено пункт <guilabel
>Удосконалення апроксимації кривої</guilabel
>.</para>
        </listitem>

        <listitem>
          <para
><emphasis role="bold"
>Лінійний</emphasis
>: у межах цього алгоритму програма будує V-криву із приблизною кількістю у <emphasis role="bold"
>Коефіцієнт зовнішніх кроків</emphasis
> кроків на кожному боці від мінімуму. Після побудови V-кривої виконується апроксимація кривої квадратичним рівнянням (параболічною формою), а результати апроксимації використовуються для обчислення позиції засобу фокусування, яка дає мінімальний РПП. Після визначення мінімуму програма виконує другий прохід із зменшеним удвічі кроком, повторно створюючи криву на основі даних першого проходу. Програма намагається утриматися у межах <emphasis role="bold"
>допуску</emphasis
> щодо мінімального РПП, який обчислено під час першого проходу.</para>
        </listitem>

        <listitem>
          <para
><emphasis role="bold"
>Ітеративний</emphasis
>: пересування засобу фокусування кроками, розмір яких початково задається. Щойно буде визначено нахил кривої, програма визначить розмір кроку для досягнення оптимального розв’язку. Роботу алгоритму буде припинено, коли виміряне значення радіуса половинного потоку (HFR) перебуватиме у межах визначеного у межах<emphasis role="bold"
>допуску</emphasis
> мінімального радіуса половинного потоку, який було зареєстровано під час виконання процедури.</para>
        </listitem>

        <listitem>
          <para
><emphasis role="bold"
>Поліноміальний</emphasis
>: починається з ітеративного методу. Під час переходу на інший бік V-кривої обчислюються коефіцієнти полінома наближення та можливий мінімальний розв’язок. Цей алгоритм може працювати швидше за суто ітеративний підхід за якісного набору даних.</para>
        </listitem>
      </itemizedlist>
      </listitem>

      <listitem>
        <para
><guilabel
>Апроксимація кривої</guilabel
>: тип кривої для апроксимації точок даних. </para>
        <itemizedlist>
          <listitem>
            <para
><emphasis role="bold"
>Гіпербола</emphasis
>: апроксимація гіперболою із використанням нелінійного алгоритму найменших квадратів з GSL (GNU Science Library). Див. <link linkend="Levenberg-Marquardt"
>розв'язувач Левенберга-Марквардта</link
>, щоб дізнатися більше.</para>

            <para
>Це рекомендований варіант.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Парабола</emphasis
>: апроксимація параболою із використанням нелінійного алгоритму найменших квадратів з GSL (GNU Science Library). Див. <link linkend="Levenberg-Marquardt"
>розв'язувач Левенберга-Марквардта</link
>, щоб дізнатися більше.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Квадратична</emphasis
>: використати квадратичне рівняння з використанням алгоритму методу найменших квадратів у лінійному стилі з GSL (GNU Science Library). У результаті буде отримано параболічну криву.</para>

            <para
>Не рекомендуємо надалі використовувати цю криву.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
><guilabel
>Вимірювати</guilabel
>: виберіть вимірювання, яке буде використано у процедурі фокусування. Доступні такі варіанти:</para>

        <itemizedlist>
          <listitem>
            <para
><emphasis role="bold"
>РПП</emphasis
>: радіус половинного потоку (HFR) є рекомендованим вимірюванням. При виявленні зірки Ekos обчислить РПП для зірки. Це радіус уявного кола із центром у центрі зірки, у якому зосереджено половину загального потоку випромінювання зірки.</para>

            <para
>Точка найкращого фокусування відповідає мінімальному значенню РПП.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Кор. РПП</emphasis
>: це можливість, у якій використано обчислення корегованого на яскравість РПП для врахування того факту, що РПП яскравіших зірок є більшим за РПП менших зірок.</para>

            <para
>Алгоритм коригує значення виміряного РПП, зазвичай, вгору, отже РПП, які отримано із коригуванням, будуть більшими за виміряні значення РПП. Це не означає, що ви отримуватимете гірші результати з коригуванням, а просто змінює спосіб вимірювання.</para>

            <para
>При використанні цього вимірювання смужки похибок для точок даних будуть меншими, якщо вибрано <guilabel
>Використовувати вагову функцію</guilabel
>.</para>

            <para
>Точка найкращого фокусування відповідає мінімальному корегованому значенню РПП.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>ПШПМ</emphasis
>: це можливість, за використання якої буде виконано апроксимацію гаусової поверхні для кожної зірки і використано цю апроксимацію для обчислення повної ширини половинного максимуму (ПШПМ) зірки. ПШПМ є шириною кола (або еліпса) із центром у центрі зірки, яке є межею області зірки при половині максимальної інтенсивності її випромінювання.</para>

            <para
>Точка найкращого фокусування відповідає мінімальному значенню ПШПМ.</para>

            <para
>ПШПМ приблизно удвічі перевищує РПП зірки.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>К-ть зірок</emphasis
>: це можливість, за використання якої буде обчислено кількість зірок на зображенні і використано цю кількість як міру фокусування. Ідея полягає у тому, що при пересуванні ближче до фокуса збільшується кількість виявлених зірок.</para>

            <para
>Перевагою цього способу вимірювання є те, що він дуже простий і не потребує алгоритмів для обчислення РПП або ПШПМ.</para>

            <para
>Точка найкращого фокусування відповідає максимальній кількості зірок.</para>
          </listitem>

          <listitem>
            <para
><emphasis role="bold"
>Фур'є</emphasis
>: виконує перетворення Фур'є зображення і обчислює потужність зображення у просторі частот. Припущення полягає у тому, що на астрономічному зображенні зірок і тла зірки будуть представлені гаусовими кривими. Після перетворення Фур'є гаусові криві перетворюються в інші гаусові криві; але ширші криві перетворюються у вужчі гаусові криві у просторі частот, і навпаки. Тому, у фокусі, додаючи дані у просторі частот, які, фактично, є мірою потужності, матимемо максимум.</para>

            <para
>Тут використано основну ідею, яку запропоновано Tan і Schulz у їхній роботі <ulink url="https://arxiv.org/pdf/2201.12466.pdf"
>A Fourier method for the determination of focus for telescopes with stars</ulink
>. Будь ласка, зауважте, що у цій роботі внесено інші пропозиції щодо обробки, окрім ідеї щодо використання перетворення Фур'є, які не включено до Ekos</para>

            <para
>Це відносно новий метод у спільноті астрономів, який не потребує виявлення зірок. Tan і Schulz повідомляють про добрі результати для аматорських і професійних телескопів.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
><guilabel
>ФРТ</guilabel
>: якщо для пункту <guilabel
>Виміряти</guilabel
> встановлено значення ПШПМ, можна вибрати віджет ФРТ для використання під час наближення поверхні для зірки. У поточній версії передбачено підтримку лише гаусових кривих.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Використовувати вагову функцію</guilabel
>: це параметр, який є доступним лише у лінійному однопрохідному алгоритмі фокусування і лише для апроксимацій кривих «Гіпербола» і «Парабола». Для того, щоб ним скористатися, потрібно працювати із повним полем. Якщо використано параметр, програма обчислює стандартне відхилення вимірювання зірок і використовує квадрат цієї величини (математичну дисперсію) як вагу у процесі апроксимації кривої. Перевагою є те, що точкам даних із ненадійними даними, тобто більшими стандартними відхиленням РПП, буде надано меншої ваги, ніж точкам із надійнішими даними. Якщо цей пункт не позначено та для усіх інших типів апроксимації кривої, де цей параметр не діє, усім точкам даних буде надано однакову вагу у процедурі апроксимації кривої.</para>

        <para
>Стандартне відхилення буде намальовано на V-кривій для кожної точки даних як смужку похибки.</para>

        <para
>Рекомендуємо позначити цей пункт.</para>

        <para
>Щоб дізнатися більше, зверніться до розділу <link linkend="Levenberg-Marquardt"
>Розв'язувач Левенберга-Марквардта</link
>.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Обмеження R²</guilabel
>: це параметр, який є доступним лише при використанні лінійного однопрохідного алгоритму і апроксимацій кривих «Гіпербола» і «Парабола». У межах лінійного однопрохідного алгоритму буде обчислено степінь, до якого крива відповідає точкам даних або <link linkend="Coefficient_of_Determination"
>коефіцієнта визначеності, R²</link
>. Цей параметр надає змогу визначати мінімальне прийнятне значення R², яке буде порівняно із значенням, отриманим у процесі апроксимації кривої. Якщо мінімальне значення не було досягнуто, процедуру автофокусування буде перезапущено. Буде виконано один повторний запуск і, навіть якщо мінімальне R² не буде досягнуто удруге, запуск автофокусування все одно буде визнано успішним.</para>

        <para
>Можете поекспериментувати із пошуком належного значення, але достатньо добрими, зазвичай, бувають значення 0,8 або 0,9.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Удосконалення апроксимації кривої</guilabel
>: це параметр, яким можна скористатися лише для лінійного однопрохідного алгоритму фокусування та апроксимації кривої гіперболою та параболою. Якщо позначено цей пункт, наприкінці обходу точок даних Ekos виконує апроксимацію кривої і вимірює R². Потім програма застосовує критерій Пірса на основі методології Гоулда для виявлення викидів. Див. <ulink url="https://en.wikipedia.org/wiki/Peirce%27s_criterion"
>критерій Пірса</ulink
>, щоб дізнатися більше, зокрема переглянути початкову роботу Пірса та роботу Гоулда, посилання на які є у розділі нотаток. Якщо за допомогою критерію Пірса буде виявлено 1 або декілька викидів, програма спробує виконати апроксимацію із вилученими викидами. Знову буде обчислено R² і порівняно з початковою апроксимацією кривої R². Якщо R² буде кращим, буде використано результати найсвіжішої обробки, якщо ж ні, буде використано початкову апроксимацію (з включенням викидів).</para>

        <para
>Викиди буде явно позначено на V-кривій із X через точку даних.</para>

        <para
>Рекомендуємо позначити цей пункт.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Усереднення за</guilabel
>: кількість кадрів, які слід захопити для кожної точки даних. Зазвичай, варто почати з 1, але збільшення значення призведе використання процедури усереднення для вибраного вимірювання зірок.</para>
      </listitem>

      <listitem>
        <warning>
        <para
><guilabel
>Пончикове підсилення</guilabel
>: експериментальна можливість, якою слід користуватися з осторогою. Призначенням пончикового підсилення є удосконалення фокусування для телескопів із центральною перешкодою, яка призводить до пончикоподібних зображень зірок, якщо телескоп не фокусовано. У майбутньому ми плануємо розвинути можливості пончикового підсилення. У цьому випуску основні можливості спрямовано на збір даних з метою визначення способів удосконалення фокусування.</para>
        </warning>
      </listitem>
      <listitem>
        <warning>
        <para
><guilabel
>Коефіцієнт масштабування часу</guilabel
>: це експериментальна можливість пончикового підсилання, якою слід користуватися з осторогою. Використання цієї можливості призводить до масштабування часу експонування під час автофокусування відносно значення експонування, яке введено у полі експонування, для найвіддаленіших від фокуса точок даних. Точки даних поряд із фокусом буде оброблено без масштабування експозиції. Наприклад, якщо фокусування налаштовано із експонуванням у 2 секунди і встановлено коефіцієнт масштабування часу 4, коли автофокусування відбуватиметься назовні для першої точки даних, буде використано експонування 2 секунди * 4 = 8 секунд. Для кожної наступної точки даних експонування зменшуватиметься до 2 секунд в околі оптимального фокусування. При русі засобу фокусування експонування збільшуватиметься до 8 секунд для останньої точки даних.</para>
        <para
>Метою реалізації цієї можливості є збільшення яскравості точок даних поза фокусом, які є тьмянішими за точки даних у фокусі, а отже, точок, де складніше виявити зірки, з метою полегшення для алгоритму виявлення зірок виявлення об'єктів посеред фонового шуму.</para>
        <para
>При реалізації цієї можливості зроблено припущення, що автофокусування починається поряд із оптимальним фокусом.</para>
        </warning>
      </listitem>

      <listitem>
        <para
>Якщо для <guilabel
>Виявлення</guilabel
> встановлено пороговий алгоритм, буде доступними додаткове поле:</para>
        <itemizedlist>
          <listitem>
            <para
><guilabel
>Поріг</guilabel
>: тут міститься значення у відсотках, яке буде використано у <emphasis
>пороговому</emphasis
> алгоритмі визначення. Збільште, щоб обмежити центроїд яскравими ядрами. Зменшіть, щоб захопити розмиті зірки.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
>Якщо для <guilabel
>Виявлення</guilabel
> встановлено алгоритм Бахтінова, будуть доступними такі пункти:</para>
        <itemizedlist>
          <listitem>
            <para
><guilabel
>К-ть рядків</guilabel
>: кількість рядків, які буде показано на екрані при використанні маски Бахтінова.</para>
          </listitem>

          <listitem>
            <para
><guilabel
>σ</guilabel
>: стандартне відхилення гаусового розмивання, яке буде застосовано до зображення до застосування виявлення країв Бахтінова.</para>
          </listitem>

          <listitem>
            <para
><guilabel
>Розмір ядра</guilabel
>: розмір ядра гаусового розмивання, який буде застосовано до зображення до застосування виявлення країв Бахтінова.</para>
          </listitem>
        </itemizedlist>
      </listitem>

      <listitem>
        <para
>Якщо встановлено лінійний або ітеративний <guilabel
>Алгоритм</guilabel
>, буде доступним віджет із такими параметрами:</para>
        <itemizedlist>
          <listitem>
          <para
><guilabel
>Допуск</guilabel
>: допуск у відсотках визначає, коли завершиться процедура автофокусування. Під час процедури автофокусування програма записуватиме значення радіуса половинного потоку, і щойно фокусування наблизиться до оптимального, програма почне порівнювати РПП із мінімальним записаним РПП у сеансі і припинить процедуру, щойно виміряне значення РПП відрізнятиметься на вказане значення у відсотках від мінімального записаного РПП. Зменшіть значення, щоб зменшити відхилення від оптимального розв'язку для фокусування. Збільшення значення збільшить можливе відхилення розв'язку від оптимального. </para>

          <warning>
          <para
>Встановлення надто малого значення допуску може призвести до зациклювання і, ймовірно, невдалого завершення спроби автоматичного фокусування. </para>
          </warning>
          </listitem>
        </itemizedlist>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3 id="focus-mechanics">
    <title
>Механіка фокусування</title>

    <screenshot>
      <screeninfo
>Механіка фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_mechanics.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Механіка фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Параметри механіки фокусування:</para>

  <itemizedlist>
  <listitem>
    <para
><guilabel
>Перехід</guilabel
>: цей параметр визначає спосіб, у який автоматичне фокусування «переходить» всередину для створення V-кривої, за якою буде обчислено розв'язок для фокусування.</para>

    <para
>Доступні такі варіанти: <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Класичний</emphasis
>: це рекомендований варіант. Прохід всередину буде виконано шляхом послідовності кроків одного розміру (<guilabel
>Початковий розмір кроку</guilabel
>). До алгоритму включено логіку для визначення моменту зупинки, що робить точну кількість кроків непередбачуваною, але вона приблизно рівна 2 * (<guilabel
>Коефіцієнт зовнішніх кроків</guilabel
>) + 1.</para>
        <para
>Цей прохід є стійким до помилок в апроксимації кривої на останньому кроці, де алгоритм зробить подальший крок і спробує знову розв'язати задачу. Він також певним чином стійкий до того, що фокусування було розпочато не поблизу фокусування, тому є добрим варіантом для початкового запуску автоматичного фокусування.</para>
        <para
>Через «стійкість» цього переходу до неідеальних параметрів це консервативний варіант, але ціною є додаткові кроки, а отже надмірний час у процедурі автоматичного фокусування.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Фіксовані кроки</emphasis
>: ця можливість доступна для лінійного однопрохідного <guilabel
>Алгоритму</guilabel
>. Він дуже подібний до класичного, але для керування загальною кількістю кроків буде використано <guilabel
>Фіксовані кроки</guilabel
>.</para>
        <para
>Цей алгоритм є передбачуванішим за класичний у тому, що робить визначену кількість ходів (тому буде швидшим), але є чутливішим до проблем із апроксимацією кривої із останньою точкою даних, і розпочинати наближення доведеться поблизу від точки фокусування.</para>
        <para
>Якщо позначено, пункт <guilabel
>Коефіцієнт зовнішніх кроків</guilabel
> буде замінено на<guilabel
>Фіксовані кроки:</guilabel
> <screenshot>
          <screeninfo
>Механіка фокусування </screeninfo>
          <mediaobject
> <imageobject
> <imagedata fileref="focus_mechanics1.png" format="PNG" width="50%"/>
            </imageobject
><textobject
><phrase
>Механіка фокусування</phrase
></textobject
></mediaobject>
        </screenshot>
        </para>
      </listitem>
      <listitem>
        <para
><emphasis role="bold"
>Перемішування КЗФ</emphasis
>: ця можливість доступна для лінійного однопрохідного <guilabel
>Алгоритму</guilabel
>. Це різновид «Фіксованих кроків», тому коментарі щодо цього варіанта чинні і тут.</para>

        <para
>Різниця між «Перемішуванням КЗФ» та «Фіксованими кроками» полягає у тому, що поряд із центром проходу (який має бути поряд із критичною зоною фокусування (КФЗ)) алгоритм робить кроки у половину вказаного розміру.</para>
      </listitem>
    </itemizedlist>
    </para>
  </listitem>

  <listitem>
    <para
><guilabel
>Стабілізація засобу фокусування</guilabel
>: кількість секунд очікування, які мають минути з моменту завершення руху засобу фокусування до моменту початку захоплення наступного зображення. Призначенням параметра є усування будь-яких вібрацій, які могли завадити створенню наступного кадру, в оптичному тракті.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Початковий розмір кроку</guilabel
>: встановлює розмір кроку, який буде використано у різноманітних алгоритмах фокусування. Для абсолютних і відносних засобів фокусування це кількість позначок; для засобів фокусування на основі таймера — кількість мілісекунд.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Коефіцієнт зовнішніх кроків</guilabel
>: буде використано у лінійному та лінійному однопрохідному алгоритмі у класичному переході. Цей параметр вказує початкову кількість кроків назовні, які засіб фокусування виконає на початку процедури автофокусування.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Кількість кроків</guilabel
>: використовують у лінійному однопрохідному алгоритмі при переходах із фіксованими кроками та перемішуванням КЗФ. Цей параметр визначає загальну кількість кроків, які виконує засіб фокусування для створення V-кривої під час процедури автофокусування.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Макс. хід</guilabel
>: накладає обмеження на кількість ходів від поточної позиції засобу фокусування, які буде дозволено зробити алгоритмам автофокусування. Призначенням цього параметра є захист засобів фокусування від надмірного відходу від початкового стану і потенційного ушкодження. З іншого боку, значення має бути досить великим, щоб уможливити достатній рух засобу фокусування і завершення процедури автоматичного фокусування.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Максимальний розмір кроку</guilabel
>: буде використано ітеративним алгоритмом для обмеження максимального розміру кроку, яким можна користуватися.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Люфт драйвера</guilabel
>: див. <link linkend="focus-backlash"
>розділ щодо люфтів</link
>.</para>

    <para
>Може бути використано 2 схеми:</para>

    <itemizedlist>
      <listitem>
        <para
>Встановіть для параметра <guilabel
>Люфт драйвера</guilabel
> значення 0, щоб вимкнути його і працювати усюди із значенням «Люфт».</para>
      </listitem>

      <listitem>
        <para
>Встановіть для <guilabel
>Люфту драйвера</guilabel
> значення &gt; 0, щоб скористатися люфтом драйвера для керування люфтом у драйвері пристрою. Зауважте, що вміст цього поля можна редагувати, лише якщо у драйвері пристрою передбачено можливість встановлення люфту.</para>
        <para
>Це те саме поле даних, яке буде показано на панелі керування Indi для пристрою фокусування. Встановити значення можна у будь-якому з доступних полів.</para>
      </listitem>
    </itemizedlist>
  </listitem>

  <listitem>
    <para
><guilabel
>Пересканування АФ</guilabel
>: див. <link linkend="focus-backlash"
>розділ щодо люфтів</link
>.</para>

    <para
>Може бути використано 2 схеми:</para>
    <itemizedlist>
      <listitem>
        <para
>Встановіть для параметра <guilabel
>Пересканування АФ</guilabel
> значення 0, щоб вимкнути його і працювати усюди із значенням «Люфт».</para>
      </listitem>

      <listitem>
        <para
>Встановіть для параметра <guilabel
>Пересканування АФ</guilabel
> значення &gt; 0, щоб люфтом керували значення з модуля «Фокус».</para>
      </listitem>
    </itemizedlist>
  </listitem>

  <listitem>
    <para
><guilabel
>Час очікування на захоплення</guilabel
>: час очікування у секундах на отримання захопленого зображення до оголошення перевищення часу очікування.Варто вмикати, лише якщо маєте проблеми із камерою під час процедури фокусування. У певних випадках встановлення досить високого значення надасть змогу запобігти перевищенню у звичайних умовах.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Час очікування на рух</guilabel
>: час очікування у секундах на рух засобу фокусування у потрібну позицію до оголошення перевищення часу очікування. Варто вмикати, лише якщо маєте проблеми із засобом фокусування під час процедури фокусування. У певних випадках встановлення досить високого значення надасть змогу запобігти перевищенню у звичайних умовах.</para>
  </listitem>
  </itemizedlist>
  </sect3>
  </sect2>

  <sect2 id="focus-cfz">
    <title
>Критична зона фокусування (КЗФ)</title>

    <screenshot>
      <screeninfo
>КЗФ фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_cfz_classic.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>КЗФ фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Параметри КЗФ фокусування:</para>

  <itemizedlist>
  <listitem>
    <para
><guilabel
>Алгоритм</guilabel
>: це поле визначає алгоритм критичної зони фокусування (КЗФ). Призначенням алгоритму є обчислення КЗФ для обладнання в оптичному тракті. Використання цієї функціональної можливості не є необхідним для успішного фокусування, але воно надає корисну інформацію, якщо налаштувати усе правильно.</para>

    <para
>Для належного налаштовування потрібні певні знання. В інтернеті достатньо відомостей для вивчення цього питання.</para>

    <para
>Ідея використання вікна КЗФ полягає у тому, що програма запускає її із даними з оптичного тракту, які використано на вкладці «Фокус», і використовує їх для обчислення КЗФ. Користувач може скоригувати параметри для виконання сценаріїв «що буде, якщо», щоб визначити, як вони впливають на КЗФ. Натискання кнопки <guilabel
>Скинути до ОТ</guilabel
>, скидає усі скориговані параметри до значень з оптичного тракту.</para>

    <para
>Якщо позначено пункт <guilabel
>Показ</guilabel
>, КЗФ буде намальовано на V-кривій після успішного завершення автоматичного фокусування. <screenshot>
      <screeninfo
>Механіка фокусування </screeninfo>
      <mediaobject
> <imageobject
> <imagedata fileref="focus_cfz_moustache.png" format="PNG" width="50%"/>
        </imageobject
><textobject
><phrase
>Механіка фокусування</phrase
></textobject
></mediaobject>
    </screenshot
></para>
    <para
>Необхідно вказати параметр <guilabel
>Розмір кроку</guilabel
>, який вказує, на яку кількість мікронів просуває одна поділка фокальну площину. Для рефракторів, зазвичай, маємо співвідношення 1 до 1 між пересуванням засобу фокусування, який рухає механізм тубуса телескопа, і рухом фокальної площини. Для інших типів телескопів співвідношення, ймовірно, є складнішим. Зверніться до довідника щодо вашого телескопа або безпосередньо до його виробника, щоб дізнатися більше.</para>

    <para
>Доступні такі варіанти алгоритмів: <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Класичний</emphasis
>: це рекомендований варіант. Використане рівняння буде показано у верхній правій частині вікна, це рівняння, яке є найпоширенішим в інтернеті. Рівняння походить з лінійної оптики з використанням диска Ері і має відомі обмеження. З цієї причини до рівняння включено множник «допуску», який може скоригувати користувач. Наприклад, у часто цитованій статті «In Perfect Focus», авторами якої є Don Goldman і Barry Megdal і яку опубліковано у «Sky &amp; Telescope» у 2010 році, запропоновано значення t=1/3.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Фронт хвилі</emphasis
>: використане рівняння буде показано у верхній правій частині вікна. Рівняння походить з підходу до обчислення КЗФ на основі фронту хвилі. Знову ж таки, має обмеження, і знову ж таки, з цієї причини до нього включено коефіцієнт «допуску», який може скоригувати користувач. <screenshot>
          <screeninfo
>Механіка фокусування </screeninfo>
          <mediaobject
> <imageobject
> <imagedata fileref="focus_cfz_wavefront.png" format="PNG" width="50%"/>
            </imageobject
><textobject
><phrase
>Механіка фокусування</phrase
></textobject
></mediaobject>
        </screenshot>
        </para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Золотий</emphasis
>: цей метод засновано на роботі, яку виконано Gold Astro і представлено <ulink url="https://www.goldastro.com/goldfocus/ncfz.php"
>тут</ulink
>.</para>
        <screenshot>
          <screeninfo
>Механіка фокусування </screeninfo>
          <mediaobject
> <imageobject
> <imagedata fileref="focus_cfz_gold.png" format="PNG" width="50%"/>
            </imageobject
><textobject
><phrase
>Механіка фокусування</phrase
></textobject
></mediaobject>
        </screenshot>
      </listitem>
    </itemizedlist>
    </para>
  </listitem>

  <listitem>
    <para
><guilabel
>Допуск</guilabel
>: це значення буде використано у класичному алгоритмі та алгоритмі фронту хвилі, воно є коефіцієнтом масштабування у діапазоні від 0 до 1.</para>
    <para
>Для класичного алгоритму Goldman і Megdal пропонують значення 1/3.</para>
    <para
>Для алгоритму фронту хвилі пропонували значення 1/3 або навіть 1/10.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Допуск (τ)</guilabel
>: використано в алгоритмі «Золотий», він є допуском фокусування у відсотках загальної видимої області. Сайт Gold пропонує 3-5% для якісного засобу фокусування або 1-2% для дуже якісного засобу фокусування. Див. <ulink url="https://www.goldastro.com/goldfocus/ncfz.php"
>сайт Gold Astro</ulink
>, щоб дізнатися більше.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Показ</guilabel
>: позначте цей пункт для показу обчисленого значення КЗФ на V-кривій після успішного виконання автоматичного фокусування. КЗФ буде показано жовтим вусом.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Скинути до ОТ</guilabel
>: натисніть цю кнопку для скидання усіх параметрів до значень, які є типовими для поточного з'єднаного оптичного тракту.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Довжина хвилі (λ)</guilabel
>: довжина хвилі світла, якою слід скористатися. Типове значення буде визначено поточним використаним фільтром. Не забудьте вказати значення у <link linkend="focus-filter-settings"
>Параметрах фільтрів</link
> для ваших фільтрів.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Апертура (A)</guilabel
>: це апертура телескопа у мм. Типове значення буде взято з параметрів поточного з'єднаного оптичного тракту.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Фокальне співвідношення (f)</guilabel
>: це фокальне співвідношення телескопа. Типове значення буде взято з параметрів поточного з'єднаного оптичного тракту.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>ПШПМ (θ)</guilabel
>: використовується Золотим алгоритмом і є загальною видимостю. Є поєднанням внеску обмеження дифракції вашого телескопа і астрономічної видимості. <ulink url="https://www.goldastro.com/goldfocus/ncfz.php"
>Сайт Gold Astro</ulink
> описує те, як ви можете наблизити загальне значення, щойно буде визначено значення для окремих внесків.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>КЗФ</guilabel
>: обчислена КЗФ у мікронах і у поділках.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Розмір кроку</guilabel
>: має бути введено користувачем (оскільки не може бути обчислено Ekos). Пов'язано із розміром руху фокальної площини у мікронах на 1 поділку. </para>
    <para
>Для рефрактора це значення пересування тубуса при пересуванні фокусувальника на одну поділку. Це значення можна отримати зі специфікації вашого фокусувальника (кількості поділок для повного обертання вашого засобу фокусування) і кроку різьби тубуса вашого телескопа разом із будь-яким включеним ходом приводу.</para>
    <para
>Крім того, ви можете виміряти хід тубуса з кінця у кінець (будьте обережні, не докладайте надмірного зусилля до тубуса) набором калібрів або лінійкою. Віднімаючи найдальшу «вхідну» позицію (у поділках) від найдальшої «вихідної» позиції (у поділках) ви отримаєте кількість поділок при пересування тубуса на виміряну відстань. На цій основі ви можете обчислити відстань у мікронах, на яку одна поділка пересуває тубус.</para>
    <para
>Для інших типів телескопів існують інші способи коригування фокальної площини, наприклад, пересуванням основного або вторинного дзеркала. Вам знадобиться або отримати розмір кроку з документації до вашого обладнання або визначити спосіб вимірювання так, щоб воно узгоджувалося із описаним вище способом.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>КЗФ камери</guilabel
>: розмір у пікселях зображення камери, яку з'єднано з оптичним трактом, може обмежувати КЗФ. Тому еквівалентну КЗФ для з'єднаної камери обчислюють, беручи до уваги обмеження Найквіста 2*.</para>
  </listitem>

  <listitem>
    <para
><guilabel
>Остаточна КЗФ</guilabel
>: це більша з КЗФ, які обчислено за допомогою вибраного алгоритму для вказаного параметра та значення <guilabel
>КЗФ камери</guilabel
>. Це показане значення і отже, КЗФ вашого обладнання.</para>
  </listitem>

  </itemizedlist>
  </sect2>


  <sect2 id="focus-advisor">
    <title
>Радник з фокусування</title>

    <screenshot>
      <screeninfo
>Радник з фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_advisor.png" format="PNG" width="33%"/>
        </imageobject>

        <textobject>
          <phrase
>Радник з фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Це вікно радника з фокусування. Призначенням цієї можливості є допомогти вам у керуванні параметрами фокусування.</para>

    <para
>Метою радника з фокусування є допомогти користувачам, у яких виникають проблеми із використанням модуля фокусування у Ekos. Модуль фокусування є функціонально багатим і надає доступу до багатьох параметрів, які має бути встановлено узгоджено для отримання якісних результатів. Радник з фокусування створено так, щоб допомогти із налаштуванням базових параметрів для досягнення правильного фокусування. Його метою не є досягнення найкращого можливого фокусування для вашого обладнання одразу; вам доведеться поекспериментувати із налаштуваннями для досягнення ідеалу. Втім, радник з фокусування надає вам міцну основу, щоб розпочати експериментування.</para>

    <para
>Отже, Радник з фокусування призначено для менш досвідчених користувачів.</para>
    <para
>Якщо радник з фокусування не дає якісних результатів для вашої конфігурації, чому б не почати обговорення на форумі, щоб ми могли удосконалити програму для досягнення кращих результатів у майбутніх версіях? Таким чином, ми зможемо поступово робити програму усе більш корисною.</para>
    <para
>Після натискання на кнопки радника з фокусування програма видає набір рекомендацій щодо параметрів на основі оптичного тракту, який ви використовуєте у модулі «Фокус».</para>
    <para
>У верхній частині вікна буде показано відомості щодо з'єднаного оптичного тракту. Далі, буде показано 6 рядків, які пов'язано із різноманітними наборами параметрів, які використовують у модулі «Фокус». Поруч із кожним з рядків є поле для позначки для оновлення вмісту відповідних полів модуля «Фокус» рекомендаціями радника з фокусування.</para>
    <para
>Параметри фокусування розбито на такі групи:</para>

    <itemizedlist>
    <listitem>
    <para
><guilabel
>Розмір кроку</guilabel
>: це пропонований розмір кроку, яким слід скористатися. Це критичний параметр. Типове значення визначається на основі даних з вікна критичної зони фокусування (КЗФ). Отже, спершу слід налаштувати вміст вікна і отримати притомне значення КЗФ. Крім того, якщо вам відоме притомне значення для вашого обладнання з інших джерел, ви можете просто його вказати.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Коефіцієнт зовнішніх кроків</guilabel
>: пропонований коефіцієнт кроку назовні, яким слід скористатися.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Параметри камери і барабана фільтрів</guilabel
>: встановлює параметри у розділі <link linkend="focus-ccd-filter-wheel"
>ПЗЗ і барабан фільтрів</link
> сторінки «Фокус». Якщо навести вказівник миші на цю мітку, програма покаже панелі підказки із рекомендованими радником з фокусування значеннями.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>«Параметри»</guilabel
>: встановлює параметри у вікні <link linkend="focus-settings"
>Параметри фокусування</link
>. Наведенням вказівника миші на цю мітку можна викликати панель підказки щодо значень, які рекомендує радник з фокусування.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Параметри «Процес»</guilabel
>: встановлює параметри у вікні <link linkend="focus-process"
>Процес фокусування</link
>. Наведенням вказівника миші на цю мітку можна викликати панель підказки щодо значень, які рекомендує радник з фокусування.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Параметри «Механіка»</guilabel
>: встановлює параметри у вікні <link linkend="focus-mechanics"
>Механіка фокусування</link
>. Наведенням вказівника миші на цю мітку можна викликати панель підказки щодо значень, які рекомендує радник з фокусування.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Довідка</guilabel
>: натисніть цю кнопку, щоб отримати довідку щодо користування радником з фокусування.</para>
    </listitem>

    <listitem>
    <para
><guilabel
>Оновити параметри</guilabel
>: натисніть цю кнопку, щоб прийняти рекомендації радника з фокусування і оновити параметри фокусування там, де позначено відповідний пункт <guilabel
>Оновити</guilabel
>.</para>
    </listitem>

  </itemizedlist>
  </sect2>

  <sect2 id="focus-filter-settings">
      <title
>Параметри фільтрів</title>

      <screenshot>
          <screeninfo
>Черга фільтрування </screeninfo>
          <mediaobject>
              <imageobject>
                  <imagedata fileref="filter_settings.png" format="PNG" width="50%"/>
              </imageobject>
              <textobject>
                  <phrase
>Черга фільтрування</phrase>
              </textobject>
          </mediaobject>
      </screenshot>

      <para
>Натисніть кнопку фільтрування <inlinemediaobject
><imageobject
><imagedata fileref="view-filter.png" format="PNG"/></imageobject
> </inlinemediaobject
> на сторінці захоплення або фокусування, щоб відкрити вікно параметрів фокусування. За допомогою цього контекстного вікна користувач може налаштувати дані, які пов'язано із кожним з фільтрів, і які використовуються для різних функціональних можливостей у системі.</para>

      <para
>Фокусування з різними фільтрами у Ekos можна виконати у три різних способи.</para>

      <itemizedlist>
        <listitem>
          <para
><emphasis role="bold"
>Безпосереднє автофокусування</emphasis
>: при перемиканні захоплення зображення на цей фільтр можна автоматично виконати перефокусування. Значення експонування, які буде використано для вибраного фільтра, буде запозичено з поля <guilabel
>Експонування</guilabel
>. Таким чином, наприклад, можна використати довше експонування для вузькосмугових фільтрів, ніж для широкосмугових, при автоматичному фокусуванні.</para>

          <para
>Позначте пункт <guilabel
>Автофокусування</guilabel
>, щоб скористатися фільтром у цей спосіб.</para>
        </listitem>

        <listitem>
          <para
><emphasis role="bold"
>Автофокусування при фіксованому фільтрі</emphasis
>: можна вказати фіксований фільтр, яким слід скористатися, якщо потрібне фокусування для цього фільтра. Наприклад, якщо використано фільтр H-альфа, і потрібне автоматичне фокусування, можна виконати автоматичне фокусування для фільтра світності, а потім, після завершення процедури, скоригувати позицію фокусування на значення відступу, відповідне до попередньо визначеного значення різниці фокусів між фільтрами світності і H-альфа (100 поділок у цьому прикладі). Це зручно, коли, наприклад, складно виконати фокусування для деяких фільтрів безпосередньо через надзвичайно довгі терміни експонування. Зауважте, що цей підхід із фіксованим фільтром можна також використати у <link linkend="ekos-align"
>модулі вирівнювання</link
> при виконанні захоплення для астрометрії.</para>

          <para
>Щоб скористатися фільтром у цей спосіб, позначте пункт <guilabel
>Автоматичне фокусування</guilabel
>, вкажіть значення <guilabel
>Зафіксувати фільтр</guilabel
> і переконайтеся, що для цього фільтра встановлено «Зсуви» та позначено <guilabel
>Зафіксувати фільтр</guilabel
>.</para>
        </listitem>

        <listitem>
          <para
><emphasis role="bold"
>Використовувати зсуви</emphasis
>: можна використати зсуви фільтра для коригування фокусування при перемиканні між фільтрами без запуску автоматичного фокусування. Це потребує певної попередньої роботи, але має перевагу у зменшенні кількості запусків автофокусування, а отже, зменшенні витрат часу на автоматичне фокусування.</para>

          <para
>Щоб скористатися цією можливістю, потрібно визначити відносні позиції фокусування між усіма фільтрами, для яких ви хочете використовувати цю функціональну можливість. Наприклад, якщо фільтри світності і червоного мають однакову позицію фокусування (є парафокальними), а фільтр зеленого фокусується на 300 поділок далі від фільтра світності (або червоного), налаштуйте зсуви для світності, червоного і зеленого як 0, 0, 300, як це показано вище. Якщо послідовність створено для знімання 10 підкадрів світності, потім 10 підкадрів червоного, потім 10 підкадрів зеленого, на початку, оскільки для фільтра світності позначено пункт <guilabel
>Автофокусування</guilabel
>, буде запущено автофокусування для фільтра світності і знято 10 підкадрів. Після цього, програма перемкне фільтр на червоний. Оскільки для червоного не позначено пункту <guilabel
>Автофокусування</guilabel
>, автоматичне фокусування не відбуватиметься, і Ekos використає зсуви між червоним фільтром і фільтром світності. У цьому випадку 0 - 0 = 0. Отже, засіб фокусування не рухатиметься і модуль захоплення зображення створить ще 10 під кадрів з червоним фільтром. Далі буде здійснено перехід від червоного до зеленого фільтра. Знову ж таки, для зеленого не позначено пункт <guilabel
>Автофокусування</guilabel
>, автоматичне фокусування не відбуватиметься, і Ekos використає зсуви між зеленими і червоним. У цьому випадку 300 - 0 = 300. Отже, позицію фокусування буде скориговано на +300 (засіб фокусування буде пересунуто назовні на 300 поділок). Далі модуль захоплення зображення створить 10 підкадрів із зеленим фільтром.</para>

          <para
>Щоб скористатися фільтром у цей спосіб, зніміть позначку з пункту <guilabel
>Автофокусування</guilabel
> і переконайтеся, що встановлено «Зсуви» для цього фільтра та інших фільтрів, які можуть передувати цьому фільтру у послідовності.</para>

          <para
>Зсуви можна визначити запускаючи автоматичне фокусування із різними фільтрами, вручну обчислюючи відносні зсуви і вводячи їх до таблиці або використовуючи інструмент <link linkend="build-filter-offsets"
>Побудувати зсуви</link
>.</para>
        </listitem>
      </itemizedlist>

      <para
>Параметри налаштувань для кожного фільтра у таблиці: </para>
      <orderedlist>
          <listitem>
              <para
><guilabel
>Фільтр</guilabel
>: назва фільтра.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Експозиція</guilabel
>: встановіть час експонування (у секундах), який використовуватиметься для автоматичного фокусування із цим фільтром. Типовою тривалістю експонування є 1 секунда.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Зсув</guilabel
>: встановіть відносні зсуви. Ekos віддаватиме команду за зміну зсуву фокусування, якщо існуватиме різниця між зсувами поточного фільтра і фільтра призначення. Наприклад, якщо використано значення із прикладу на знімку вікна і поточний фільтр встановлено у значення <emphasis
>Червоний</emphasis
>, а наступним фільтром є <emphasis
>Зелений</emphasis
>, Ekos скомандує засобу фокусування виконати фокусування всередину на +300 позначок. Додатні відносні зсуви фокусування означають фокусування назовні, а від'ємні — фокусування всередину.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Автофокусування</guilabel
>: позначте цей пункт, щоб наказати програмі виконувати автофокусування кожного разу, коли фільтр змінюється на той, параметри якого ви редагуєте.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Зафіксувати фільтр</guilabel
>: встановіть, який фільтр має бути встановлено і <emphasis
>зафіксовано</emphasis
> при виконанні автоматичного фокусування для цього фільтра. «--» означає «без фіксування фільтра». Не можна використовувати наступні фільтри на глибину понад 1, тобто не можна фіксувати червоний до синього, який зафіксовано на зеленому. Фільтр не можна фіксувати на самому собі.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Останній розв'язок АФ</guilabel
>: остання успішна позиція автоматичного фокусування. За звичайних умов Ekos автоматично оновить вміст цього поля.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Остання температура АФ (°C)</guilabel
>: температура <guilabel
>Останнього розв'язку АФ</guilabel
>. За звичайних умов Ekos автоматично оновить вміст цього поля.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Остання висота АФ (°Вис)</guilabel
>: висота <guilabel
>Останнього розв'язку АФ</guilabel
>. За звичайних умов Ekos автоматично оновить вміст цього поля.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Поділок на °C</guilabel
>: кількість поділок пересування засобу фокусування, якщо температура змінюється на 1°C. Наприклад, якщо фокус пересувається назовні на 5 поділок, якщо температура збільшується на 1°C, встановіть у цьому полі значення 5. Якщо фокусування пересувається на 5 поділок всередину, якщо температура збільшується на 1°C, встановіть у цьому полі значення -5.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Поділок на °висоти</guilabel
>: кількість поділок, на які слід пересунути засіб фокусування, якщо висота змінюється на 1°. Наприклад, якщо фокус пересувається назовні на 0.5 поділок, якщо висота збільшується на 1° висоти, встановіть у цьому полі значення 0.5. Якщо фокус пересувається на 0.5 поділки, якщо висота збільшується на 1° висоти, встановіть у цьопу полі значення -0.5.</para>
          </listitem>
          <listitem>
              <para
><guilabel
>Довжина хвилі</guilabel
>: центр смуги пропускання фільтра у нанометрах. Використовують у деяких обчисленнях критичної зони фокусування (КЗФ) у модулі «Фокус».</para>
          </listitem>
      </orderedlist>

      <para
>На додачу до таблиці даних у нижній частині контекстної панелі доступні такі засоби керування:</para>
      <itemizedlist>
          <listitem>
          <para
><guilabel
>Побудувати зсуви</guilabel
>: натисніть кнопку <guibutton
>Побудувати зсуви</guibutton
>, щоб відкрити контекстне вікно <link linkend="build-filter-offsets"
>Побудувати зсуви</link
>.</para>
          </listitem>
          <listitem>
          <para
><guilabel
>Захоплювати плоскі кадри у тій самій позиції фокусування, що і світлі кадри</guilabel
>: якщо позначено, плоскі кадри буде знято у позиції <guilabel
>Останній розв'язок АФ</guilabel
>.</para>
          </listitem>
      </itemizedlist>

      <para
>Розгляньмо приклад. Якщо ми захоплюємо зображення починаючи з фільтра освітленості -> фільтр червоного -> фільтр зеленого -> фільтр синього -> Sii -> Ha -> Oiii з використанням конфігурації з контекстного вікна параметрів фільтрування:</para>
      <itemizedlist>
          <listitem>
              <para
>Lum: фільтр освітленості спочатку налаштовано на автоматичне фокусування, тому буде запущено автоматичне фокусування, а потім виконано послідовність знімання для фільтра Lum.</para>
          </listitem>
          <listitem>
              <para
>Червоний: фільтр червоного не налаштовано на автоматичне фокусування і він має зсув 0. Тому, коли почнеться послідовність червоного фільтра, автоматичне фокусування не буде запущено, а оскільки відносний зсув між фільтром освітленості та червоного дорівнює 0, засіб фокусування не рухатиметься.</para>
          </listitem>
          <listitem>
              <para
>Зелений: фільтр зеленого не налаштовано на автоматичне фокусування, він має зсув 300. Тому, коли почнеться послідовність зеленого фільтра, автоматичне фокусування виконано не буде, а відносний зсув між червоним і зеленим дорівнює 300 - 0 = +300, тому засіб фокусування буде пересунуто назовні на 300 поділок.</para>
          </listitem>
          <listitem>
              <para
>Синій: фільтр зеленого не налаштовано на автоматичне фокусування, він має зсув 0. Тому, коли почнеться послідовність синього фільтра, автофокусування не буде запущено, а відносний зсув між червоним і зеленим дорівнює -300 - 0 = -300, тому засіб фокусування буде пересунуто всередину на 300 поділок.</para>
          </listitem>
          <listitem>
              <para
>Sii: фільтр Sii налаштовано на автофокусування, зафіксовано на освітленості, вона має зсув 0. Отже, коли розпочнеться послідовність Sii, відбудеться автоматичне фокусування для освітленості, а відносний зсув між освітленістю і Sii дорівнює 0 - 0 = 0, тому засіб фокусування буде пересунуто у позицію розв'язку автоматичного фокусування для освітленості.</para>
          </listitem>
          <listitem>
              <para
>Ha: фільтр Ha налаштовано на автофокусування, зафіксовано на освітленості, вона має зсув 100. Отже, коли розпочнеться послідовність Ha, відбудеться автоматичне фокусування для освітленості, а відносний зсув між освітленістю і Ha дорівнює 100 - 0 = +100, тому засіб фокусування буде пересунуто у позицію розв'язку автоматичного фокусування для освітленості, а потім на 100 назовні.</para>
          </listitem>
          <listitem>
              <para
>Oiii: фільтр Oiii налаштовано на автофокусування, зафіксовано на освітленості, вона має зсув -100. Отже, коли розпочнеться послідовність Oiii, відбудеться автоматичне фокусування для освітленості, а відносний зсув між освітленістю і Oiii дорівнює -100 - 0 = -100, тому засіб фокусування буде пересунуто у позицію розв'язку автоматичного фокусування для освітленості, а потім на 100 всередину.</para>
          </listitem>
      </itemizedlist>
  </sect2>


  <sect2 id="build-filter-offsets">
      <title
>Побудувати зсуви</title>

      <screenshot>
          <screeninfo
>Побудова зсувів фільтра </screeninfo>
          <mediaobject>
              <imageobject>
                  <imagedata fileref="build_filter_offsets.png" format="PNG" width="33%"/>
              </imageobject>
              <textobject>
                  <phrase
>Побудова зсувів фільтра</phrase>
              </textobject>
          </mediaobject>
      </screenshot>

      <para
>Натисніть кнопку <guilabel
>Побудувати зсуви</guilabel
> на контекстній панелі <link linkend="focus-filter-settings"
>Параметри фільтрування</link
>, щоб запустити інструмент побудови зсувів. Зсуви фільтрів можна або ввести вручну у таблиці на контекстній панелі параметрів фільтрування, або можна скористатися цим інструментом для полегшення отримання цих значень. </para>
      <para>
          <emphasis
>Зауваження: не слід запускати цей інструмент під час сеансу створення знімків, оскільки він отримує виключний доступ до процесу фокусування, доки виконує свою роботу.</emphasis>
      </para>
      <para
>Для початку, налаштуйте параметри для кожного з фільтрів у таблиці на контекстній панелі параметрів фільтрування, а потім запустіть засіб побудови зсувів фільтрів. Контекстну панель буде відкрито на таблиці даних із наведеними нижче стовпчиками. </para>
      <itemizedlist>
          <listitem>
              <para
><guilabel
>Фільтр</guilabel
>: назва фільтра. Після назви першого фільтра вказано «*», у наведеному вище прикладі — «Lum *». Це означає, що Lum є еталонним фільтром, щодо якого вимірюються зсуви для інших фільтрів. Двічі клацніть на іншій назві фільтра, щоб зробити цей фільтр еталонним. </para>
          </listitem>
          <listitem>
              <para
><guilabel
>Зсув</guilabel
>: поточний зсув. </para>
          </listitem>
          <listitem>
              <para
><guilabel
>Фіксований фільтр</guilabel
>: поточний фіксований фільтр. </para>
          </listitem>
          <listitem>
              <para
><guilabel
>К-ть запусків фокусування</guilabel
>: кількість циклів фокусування для цього фільтра. Типовим значенням є 5. Щоб виключити фільтр з процесу, встановіть у цьому полі нульове значення. Зауважте, що для еталонного фільтра має бути виконано принаймні один запуск. </para>
          </listitem>
      </itemizedlist>
      <para
>Коли буде налаштовано значення <guilabel
>К-ть запусків фокусування</guilabel
>, натисніть кнопку <guilabel
>Запустити</guilabel
>, щоб розпочати автоматизований процес. </para>
      <para
>Натисніть кнопку <guilabel
>Зупинити</guilabel
>, щоб зупинити процес будь-якої миті. </para>
      <para
>Перемкніть пункт <guilabel
>Адаптивне фокусування</guilabel
> будь-коли у процесі обробки, щоб перемкнути між виміряними результатами автофокусування і результатами після застосування коригування адаптивним фокусуванням. Див. розділ <link linkend="focus-adaptive"
>Адаптивне фокусування</link
>, щоб дізнатися більше про адаптивне фокусування. </para>
      <para
>Розгляньмо приклад, де використано 7 фільтрів: Lum, Червоний, Зелений, Синій, Sii, Ha і Oiii. Восьмий слот у барабані фільтрів позначено як «Порожній». Нами виконано 5 запусків для усіх фільтрів, 0 для «Порожнього» (це насправді виключає цей фільтр з процесу). У цьому випадку у таблиці буде додано 8 додаткових стовпчиків. </para>
      <screenshot>
          <screeninfo
>Побудова зсувів фільтра </screeninfo>
          <mediaobject>
              <imageobject>
                  <imagedata fileref="build_filter_offsets2.png" format="PNG" width="50%"/>
              </imageobject>
              <textobject>
                  <phrase
>Побудова зсувів фільтра</phrase>
              </textobject>
          </mediaobject>
      </screenshot>
      <itemizedlist>
          <listitem>
              <para
>АФ, запуск 1-5: максимальним вибраним користувачем значенням параметра <guilabel
>К-ть запусків фокусування</guilabel
> є 5, тому було створено 5 стовпчиків, 1 для кожного розв'язку під час запуску автофокусування. </para>
          </listitem>
          <listitem>
              <para
>Середнє: середнє (арифметичне) розв'язків АФ. </para>
          </listitem>
          <listitem>
              <para
>Новий зсув: зсув, який обчислено за фільтром Lum. Приклад для Sii: 36731 - 36743 = -12 </para>
          </listitem>
          <listitem>
              <para
>Зберегти: позначте, щоб програма зберегла зсув для цього фільтра, коли ви натиснете кнопку <guilabel
>Зберегти</guilabel
>. Типово, ці пункти буде позначено, але зняття позначки надає змогу наказати програмі ігнорувати значення під час збереження інших фільтрів. </para>
          </listitem>
      </itemizedlist>
      <para
>На цьому кроці рекомендуємо переглянути усі запуски автофокусування, щоб переконатися, що із ними усе гаразд. Наприклад, припустімо, нам не подобаються результати 2-го запуску адаптивного фокусування для Oiii. У такому випадку ми можемо:</para>
          <itemizedlist>
            <listitem>
              <para
>Редагувати результати 2-го запуску автоматичного фокусування і встановити бажане для нас значення.</para>
            </listitem>
            <listitem>
              <para
>Редагувати вміст стовпчика «Новий зсув» і встановити бажане значення безпосередньо (в обхід логіки обчислення).</para>
            </listitem>
            <listitem>
              <para
>Відкинути результати 2-го запуску автоматичного фокусування встановленням для нього значення 0 (див. нижче). У цьому випадку середній і новий зсув для Oiii буде переобчислено на основі запусків автоматичного фокусування 1, 3, 4, 5. У наведеному нижче прикладі показано нове середнє і нові обчислені зсуви.</para>
            </listitem>
          </itemizedlist>
      <screenshot>
          <screeninfo
>Побудова зсувів фільтра </screeninfo>
          <mediaobject>
              <imageobject>
                  <imagedata fileref="build_filter_offsets3.png" format="PNG" width="50%"/>
              </imageobject>
              <textobject>
                  <phrase
>Побудова зсувів фільтра</phrase>
              </textobject>
          </mediaobject>
      </screenshot>
      <para
>Після перегляду результатів користувач може натиснути одну з таких кнопок: </para>
      <itemizedlist>
          <listitem>
              <para
>Зберегти: для усіх фільтрів, не позначено пункт <guilabel
>Зберегти</guilabel
>, нове значення зсуву буде збережено у зсувах фільтрів для використання під час наступного сеансу створення знімків. </para>
          </listitem>
          <listitem>
              <para
>Закрити: закрити інструмент побудови зсувів для фільтрів без збереження даних. </para>
          </listitem>
      </itemizedlist>
      <para
>Якщо позначено пункт <guilabel
>Адаптивне фокусування</guilabel
>, запуски автофокусування буде оновлено для адаптивного фокусування. Див. розділ <link linkend="focus-adaptive"
>Адаптивне фокусування</link
>, щоб дізнатися більше про теорію адаптивного фокусування. Перший запуск автоматичного фокусування (у цьому прикладі AF Run 1 для Lum) є основою для адаптацій. Отже, температуру і висоту для AF Run 1 для Lum буде використано як основу для усіх інших запусків автофокусування, а дані буде адаптовано до розв'язку автофокусування так, наче його виконано при температурі і висоті AF Run 1 для Lum. </para>
      <para
>У цьому прикладі адаптивне фокусування налаштовано для коригування за висотою на червоному фільтрі лише у параметрах фільтра. Тому значення запуску адаптованого автоматичного фокусування є тими самими, що і неадаптовані значення для усіх інших фільтрів. </para>

      <screenshot>
        <screeninfo
>Побудова зсувів фільтра </screeninfo>
        <mediaobject>
            <imageobject>
                <imagedata fileref="build_filter_offsets4.png" format="PNG" width="50%"/>
            </imageobject>
            <textobject>
                <phrase
>Побудова зсувів фільтра</phrase>
            </textobject>
        </mediaobject>
      </screenshot>
      <para
>Якщо ви наведете вказівник миші на пункт автоматичного фокусування, програма покаже панелі підказки засобу пояснення адаптивного фокусування. У нашому прикладі вказівник миші наведено на  перший запуск автофокусування 1 для червоного фільтра. У першому рядку засобу пояснення показано виміряний результат автофокусування для цього запуску (36683), адаптації для температури (0.0C) і висоти (0.2 градуси висоти). У другому рядку засобу пояснення буде показано адаптації: 206 загалом, 0 для температури, 205.9 для висоти. У третьому рядку показано адаптовану позицію 36889. </para>
      <para
>Користувач може перемкнутися між адаптивним фокусуванням та необробленими значеннями. Значення, які буде показано у таблиці, будуть значеннями, які буде збережено. </para>
      <para
>Ось декілька порад щодо користування цим засобом: <itemizedlist>
            <listitem
><para
>Почніть з того, що забезпечте належне функціонування автоматичного фокусування у засобі побудови зсувів фільтрів у вибраній області неба. Вибір областей високо над горизонтом призведе до знімання крізь тонший шар атмосфери із меншими, компактнішими зірками. Переконайтеся, що у кадрі достатньо зірок. Уникайте під час процедури переходів за меридіаном. Користуйтеся протягом процедури тією самою областю для кожного запуску, щоб скористатися більш-менш однаковим набором зірок. Хоча можливостями адаптивного фокусування можна скористатися для коригування за змінами навколишнього середовища, зокрема змінами температури і висоти, намагайтеся мінімізувати ці зміни протягом роботи допоміжного засобу, вибравши належну ділянку неба.</para
></listitem>

            <listitem
><para
>Переконайтеся, що ваше обладнання перебуває у термічній рівновазі, перш ніж починати процедуру. Грубо обчисліть час роботи допоміжного засобу, тобто перемножте загальну кількість запусків автофокусування на час одного запуску автофокусування. Намагайтеся зробити так, щоб протягом цього часу умови спостереження лишалися якомога сталими, наприклад, до світанку лишалося достатньо часу, місяць не впливав на фокусування на деяких зображення, ціль не зникала за горизонтом під час процедури тощо.</para
></listitem>

            <listitem
><para
>Налаштуйте допоміжний засіб на кількість запусків фокусування (5 — добре початкове значення), еталонний фільтр (наприклад Lum) і параметр адаптивного фокусування. Запустіть допоміжний засіб до завершення його роботи.</para
></listitem>

            <listitem
><para
>Перегляньте результати. Для кожного перегляду кожного автоматичного фокусування шукайте викиди. Для кожного викиду визначте спосіб обробки, наприклад, вилучити з обробки встановленням значення 0. Якщо буде виявлено фільтри, для яких результати є незадовільними, зніміть позначку з пункту «Зберегти» для цих фільтрів.</para
></listitem>

            <listitem
><para
>Коли належні параметри буде встановлено, натисніть кнопку «Зберегти», щоб зберегти зсуви до параметрів фільтра і використання у майбутньому.</para
></listitem>
            </itemizedlist>
      </para>
</sect2>

  <sect2 id="focus-display">
    <title
>Показ фокусування</title>

    <screenshot>
      <screeninfo
>Показ фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_display.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Показ фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>На панелі показу фокусування буде показано зображення FITS кадру, який створено під час процедури фокусування. Якщо позначено пункт <guilabel
>Кільцева маска</guilabel
>, на зображенні буде показано маску. Для усіх зірок, які буде виявлено Ekos на основі вибраних значень параметрів, буде показано значення РПП (якщо для вимірювання не вибрано ПШПМ). </para>

    <para
>Якщо позначено пункт <guilabel
>Маска мозаїки</guilabel
>, засіб перегляду FITS покаже таблицю мозаїки 3x3 з центральною, кутовою і бічною частинами, які налаштовано у параметрах маски мозаїки. <screenshot
><screeninfo
>Мозаїка на дисплеї фокусування</screeninfo
><mediaobject>
    <imageobject
><imagedata fileref="focus_display_mosaic.png" format="PNG" width="50%"/></imageobject>
    <textobject
><phrase
>Мозаїка на дисплеї фокусування</phrase
></textobject
></mediaobject
></screenshot
></para>

    <para
>У вікні передбачено підтримку таких параметрів перегляду FITS (у верхній частині вікна):</para>

    <itemizedlist>
      <listitem>
        <para
><guibutton
>Збільшити</guibutton
> і <guibutton
>Зменшити</guibutton
>.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Типовий масштаб</guibutton
> і <guibutton
>Підібрати за розмірами</guibutton
>.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Увімкнути/Вимкнути розтягування</guibutton
>: увімкнути або вимкнути розтягування показу.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Перехрестя</guibutton
>: увімкнути або вимкнути показ перехресть.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Піксельні лінії сітки</guibutton
>: увімкнути або вимкнути показ піксельних ліній сітки.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Зірки</guibutton
>: увімкнути або вимкнути виявлення зірок.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Переглянути профіль зірки</guibutton
>: відкриває діалогове вікно перегляду профілю зірки.</para>
      </listitem>
    </itemizedlist>
  </sect2>

  <sect2 id="focus-v-curve">
    <title
>V-крива</title>

    <screenshot>
      <screeninfo
>V-крива фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_vcurve.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>V-крива фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>V-крива є кривою залежності позиції фокусування (вісь x) від міри фокусування, наприклад радіуса половинного потоку (РПП) (вісь y). Кожну точку даних буде намальовано на графіку і представлено колом із номером, що відповідає точці даних. Кількість точок даних і пересування засобу фокусування буде визначено встановленими параметрами. </para>

    <para
>Для деяких алгоритмів Ekos також намалює криву оптимальної апроксимації точок даних. Якщо позначено пункт <guilabel
>Використати вагову функцію</guilabel
>, буде показано позначки похибок для кожної точки даних, які відповідатимуть стандартному відхиленню у виміряному значенні.</para>

    <para
>Одиниці вісі y залежать від вибраної міри фокусування. Наприклад, для РПП виміри за віссю y вестимуться або у пікселях, або у кутових секундах, залежно від значення параметра <guilabel
>Одиниці показу</guilabel
>.</para>

    <para
>Якщо позначено пункт <guilabel
>Удосконалення апроксимації кривої</guilabel
>, алгоритм фокусування знайде і потенційно виключить викиди у точках даних. У цьому випадку було виключено точки даних 1, 5 та 7.</para>

    <para
>Під V-кривою буде показано декілька параметрів:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>РПП</guilabel
>: показує РПП зірки для найновішої точки даних, якщо це застосовне.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>ПШПМ</guilabel
>: показує ПШПМ зірки для найновішої точки даних, якщо застосовне.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Зірки</guilabel
>: кількість зірок, яку використано для обчислення найновішої точки даних.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Ітерація</guilabel
>: кількість створених точок даних на поточний момент.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Відносний профіль…</guibutton
>: викликає контекстну панель <link linkend="focus-relative-profile"
>Відносний профіль</link
>.</para>
      </listitem>

      <listitem>
        <para
><guibutton
>Вилучити дані</guibutton
>: відновлює початковий стан графіка V-кривої шляхом вилучення показаних даних.</para>
      </listitem>
    </itemizedlist>

    <para
>V-крива, якщо для пункту вимірювання встановлено коригування РПП: <screenshot
><screeninfo
>Коригування V-кривої для РПП</screeninfo
><mediaobject
><imageobject>
          <imagedata fileref="focus_vcurve_hfradj.png" format="PNG" width="50%"/></imageobject
><textobject>
          <phrase
>Коригування V-кривої для РПП під час фокусування</phrase
></textobject
></mediaobject
></screenshot
></para>

    <para
>V-крива, якщо для пункту вимірювання встановлено ПШПМ: <screenshot
><screeninfo
>V-крива ПШПМ</screeninfo
><mediaobject
><imageobject>
      <imagedata fileref="focus_vcurve_fwhm.png" format="PNG" width="50%"/></imageobject
><textobject>
      <phrase
>V-крива фокусування для ПШПМ</phrase
></textobject
></mediaobject
></screenshot
></para>

    <para
>Тут наведено V-криву, якщо для вимірювання вибрано кількість зірок. У цьому випадку позначено пункт показу критичної зони фокусування у полі <guilabel
>Показ</guilabel
>, тому також показано КЗФ: <screenshot
><screeninfo
>V-крива для кількості зірок</screeninfo
><mediaobject
><imageobject>
      <imagedata fileref="focus_vcurve_numstars.png" format="PNG" width="50%"/></imageobject
><textobject>
      <phrase
>V-крива фокусування для кількості зірок</phrase
></textobject
></mediaobject
></screenshot
></para>

    <para
>V-крива, якщо для пункту вимірювання встановлено алгоритм Фур'є: <screenshot
><screeninfo
>V-крива Фур'є</screeninfo
><mediaobject
><imageobject>
      <imagedata fileref="focus_vcurve_fourier.png" format="PNG" width="50%"/></imageobject
><textobject>
      <phrase
>V-крива фокусування для алгоритму Фур'є</phrase
></textobject
></mediaobject
></screenshot
></para>

    <para
>При кадруванні формат графіка змінюється на формат послідовності значень часу, де горизонтальна вісь відповідає номерам кадрів. Це має допомогти вам у процесі кадрування, оскільки ви зможете бачити зміну міри, у цьому прикладі РПП, між кадрами. </para>

    <para
>Це дуже корисно, наприклад при спробі наближеного фокусування до запуску автоматичного фокусування. У цьому випадку розпочато кадрування і використано кнопки кроків всередину або назовні для коригування фокусу, результат можна спостерігати на V-кривій.</para>

    <screenshot>
      <screeninfo
>V-крива як часова послідовність</screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_vcurve_timeseries.png" format="PNG"
                     width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Часова послідовність V-кривої фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>
  </sect2>

  <sect2 id="focus-relative-profile">
    <title
>Відносний профіль</title>

    <screenshot>
      <screeninfo
>Відносний профіль фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_relative_profile.png" format="PNG"
                     width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Відносний профіль фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Відносний профіль — графік, на якому показано взаємозалежність відносних значень РПП. Менші значення РПП відповідають вужчим формам, і навпаки. Суцільна червона крива відповідає профілю поточного значення РПП, а точкова зелена крива — попередньому значенню РПП. Нарешті, малинова крива відповідає першому виміряному значенню РПП. Так ви зможете визначити, наскільки процедура автофокусування поліпшила якість відносного фокусування. </para>
  </sect2>

  <sect2 id="How_to_Setup_for_an_Auto_Focus_Run">
    <title
>Як налаштувати програму для виконання автофокусування</title>

    <para
>Точні значення параметрів, які найкраще працюватимуть для певної конфігурації астрономічних параметрів слід визначити методом спроб і помилок. Почати можна із читання <link linkend="focus-advisor"
>розділу щодо радника з фокусування</link
>. Запустіть радник з фокусування і прийміть його рекомендації. Він використовує лінійний однопрохідний алгоритм:</para>

    <itemizedlist>
      <listitem>
        <para
>Налаштуйте люфт. Див. <link linkend="focus-backlash"
>розділ щодо люфту</link
>, щоб дізнатися більше.</para>
      </listitem>

      <listitem>
        <para
>Початковий розмір кроку. Це критичний параметр. Значення можете запозичити у когось із подібним обладнанням. Якщо нічого знайти не вдається, ви можете спробувати визначити його на основі критичної зони фокусування (КФЗ) для вашого обладнання. Див. <link linkend="focus-cfz"
>розділ щодо КЗФ</link
>, щоб дізнатися більше.</para>
        </listitem>

      <listitem>
        <para
>Почніть поруч із точкою визначеного вручну фокуса. Скористайтеся варіантом <guibutton
>Почати кадрування</guibutton
> і скоригуйте фокусування, щоб отримати приблизне фокусування.</para>
      </listitem>

      <listitem>
        <para
>Переконайтеся, що ведеться пошук достатньої кількості зірок. Збільшення часу експонування, зазвичай, призводить до виявлення більшої кількості зірок (але уповільнює процедуру фокусування).</para>
      </listitem>
    </itemizedlist>

    <para
>Запустіть автоматичне фокусування.  Ось зразок V-кривої, яку буде отримано:</para>
    <screenshot
><screeninfo
>Добра крива фокусування </screeninfo
><mediaobject>
    <imageobject
><imagedata fileref="focus_good_focus.png" format="PNG" width="50%"/></imageobject>
    <textobject
><phrase
>Добра крива фокусування</phrase
></textobject
></mediaobject
></screenshot>

    <para
>Навпаки, наступне зображення демонструє наслідки надто малого значення «Розмір початкового кроку». Значення РПП варіюється від 0,78 до 0,72. Це дає значення відношення максимальне / мінімальне трохи більше 1. Ще однією ознакою того, що налаштування є поганими, є те, що діапазон стовпчика похибки є дуже великим, порівняно із рухом РПП, що означає, що розв'язувач кривої малює криву, борючись із навалою шуму, а це означає, що результати не будуть дуже точними.</para>
    <screenshot
><screeninfo
>Погана крива фокусування </screeninfo
><mediaobject
><imageobject>
    <imagedata fileref="focus_bad_focus.png" format="PNG" width="50%"/></imageobject>
    <textobject
><phrase
>Погана крива фокусування</phrase
></textobject
></mediaobject
></screenshot>
  </sect2>

  <sect2 id="focus-backlash">
    <title
>Люфт засобу фокусування</title>

    <para
>Люфт конфігурації засобу фокусування, ймовірно, є комбінацією люфту у самому електронному засобі фокусування (наприклад, у зубчастому механізмі), у прив'язці електронного засобу фокусування до труби телескопа та у механізмі труби телескопа. Таким чином, у кожної конфігурації є власна характеристика люфту, навіть якщо використано той самий засіб фокусування.</para>

    <para
>Важливо мати чітку стратегію обробки люфтів і налаштувати фокусування відповідно до вибраної стратегії. Найкраще визначати параметри люфтів в одному місці, щоб уникнути конфліктів. Хоча люфтами можна керувати у декількох вікнах програми (і робити це успішно), не рекомендуємо робити цього загалом, оскільки це може призвести до конфліктів між компонентами програмного забезпечення та засобом фокусування.</para>

    <para
>Існує декілька способів виміряти люфт у поділках. Зверніться до документації до вашого засобу фокусування або скористайтеся пошуком в інтернеті, зокрема на форумі Indi.</para>

    <para
>При роботі з люфтом слід взяти до уваги декілька речей: <itemizedlist>
      <listitem>
        <para
><emphasis role="bold"
>Без люфту</emphasis
>: якщо вам поталанило мати конфігурацію без люфту, має сенс встановити вимкнути <guilabel
>Люфт драйвера</guilabel
> і <guilabel
>Пересканування АФ</guilabel
> (встановити нульове значення).</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Керування люфтом з боку засобу фокусування</emphasis
>: якщо у вашому засобі фокусування передбачено можливість керування люфтом, ви можете скористатися цим і вимкнути <guilabel
>Люфт драйвера</guilabel
> і <guilabel
>Пересканування АФ</guilabel
> (встановити нульове значення). Крім того, якщо це можливо, ви можете вимкнути апаратну компенсацію люфту і скористатися драйвером пристрою або пересканування АФ для керування люфтом.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Керування люфтом з боку драйвера пристрою</emphasis
>: якщо у вашому драйвері пристрою передбачено можливість керування люфтом, ви можете скористатися цим і вимкнути <guilabel
>Пересканування АФ</guilabel
> (встановити нульове значення. Крім того, ви можете вимкнути компенсацію люфту з боку драйвера і увімкнути <guilabel
>Пересканування АФ</guilabel
>.</para>

        <para
>Щоб визначити, чи передбачено у драйвері пристрою підтримку обробки люфтів, зверніться до поля <guilabel
>Люфт драйвера</guilabel
>. Якщо воно є доступним, і ви можете встановити значення, у драйвері пристрою передбачено підтримку обробки люфтів. Якщо поле вимкнено, у драйвері не передбачено підтримки обробки люфтів.</para>
      </listitem>

      <listitem>
        <para
><emphasis role="bold"
>Пересканування АФ</emphasis
>: модуль фокусування містить вбудовані засоби керування люфтами: програма може збільшувати рухи назовні на значення у полі <guilabel
>Пересканування АФ</guilabel
>. Наприклад, якщо для параметра <guilabel
>Пересканування АФ</guilabel
> встановлено значення 40, кожного разу, коли модуль фокусування пересуває засіб фокусування назовні, він виконує цю дію у два кроки. Спочатку програма пересуне засіб фокусування на 40 поділок за позицію завершення; а потім повернеться назад на 40 поділок.</para>

        <para
>Перевагою використання <guilabel
>Пересканування АФ</guilabel
> є те, що вам не потрібно знати люфт точно, вам достатньо вказати <guilabel
>Пересканування АФ</guilabel
> &gt;= люфт. Тому, наприклад, якщо ви виміряли люфт у приблизно 60 поділок, ви можете встановити для параметра <guilabel
>Пересканування АФ</guilabel
> значення 80.</para>

        <para
><guilabel
>Пересканування АФ</guilabel
> також корисне там, де люфт не можна передбачити точно. Наприклад, якщо вимірювання люфту дає трохи інші значення, наприклад 61, 60, 59 поділок, використанням <guilabel
>Пересканування АФ</guilabel
> це відхилення можна ефективно нейтралізувати. Якщо б ви скористалися <guilabel
>Люфтом засобу фокусування</guilabel
>, ви усереднили б значення і встановили б 60. Іноді визначене таким чином значення люфту є точним, іноді дещо меншим, а іноді дещо більшим за правильне.</para>

        <para
>Для усіх пересувань засобу фокусування, якими керує модуль фокусування, буде застосовано <guilabel
>Пересканування АФ</guilabel
>, зокрема це стосується кроку назовні, переходу, запусків автоматичного фокусування, рухів адаптивного фокусування, рухів до початкової позиції адаптивного фокусування та створення плоских знімків у тій самій позиції, що і освітлення.</para>
      </listitem>
    </itemizedlist>
    </para>
  </sect2>

  <sect2 id="focus-adaptive">
    <title
>Адаптивне фокусування</title>

    <screenshot>
      <screeninfo
>Адаптивне фокусування </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="focus_adaptive_focus.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>Адаптивне фокусування</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>В Ekos передбачено підтримку поняття адаптивного фокусування (АФ). Без АФ типовий план створення знімків розпочинався б із запуску автоматичного фокусування, потім програма виконувала б створення послідовності підкадрів, потім знову запускала б автоматичне фокусування тощо. Запуски автоматичного фокусування ініціювалися б декількома факторами, зокрема часом, зміною фільтра, зміною температури тощо. Тобто, у межах послідовності підкадрів, програма виконуватиме знімки з неоптимальним фокусуванням, аж доки не перевищення порогового значення (наприклад, зміни температури) не запустить процедуру автоматичного фокусування.</para>

    <para
>Ідеєю АФ є коригування фокусування зі зміною факторів середовища з метою створення кожного підкадру якомога ближче до оптимального фокуса. Ідеально, результатом застосування адаптивного фокусування має бути щось подібне до виконання автофокусування перед створенням кожного підкадру, але без виконання самого автофокусування.</para>

    <para
>АФ працює як доповнення до різноманітних ініціаторів для автофокусування, які доступні у поточній версії Ekos. Через це немає потреби у зміні ініціаторів автофокусування, якщо ви почнете користуватися АФ. На початку не рекомендуємо оптимізувати умови автоматичного фокусування при використанні АФ. Втім, з часом і зростанням упевненості у результатах АФ, можна буде зменшити кількість виконуваних автоматичних фокусувань (а отже, робити більше знімків). Щоб там не було, кожен підкадр при використанні АФ повинен мати краще фокусування, якщо систему налаштовано правильно. </para>

    <para
>Отже, як дізнатися, буде АФ корисним для вашої конфігурації чи ні? Можливо, найпростішим способом є вивчення підкадрів, які створено одразу після автофокусування і порівняння їх із підкадрами одразу перед наступним автофокусуванням. Бачите відмінність у результатах фокусування? Якщо у вашій конфігурації точка фокусування не зміщується через зміни у середовищі між запусками автофокусування, АФ не зможе нічого покращити у ваших знімках. Втім, якщо ваша конфігурація є чутливою до змін у середовищі і частота запусків автофокусування є компромісом між якістю і часом знімання, АФ може покращити якість ваших підкадрів.</para>

    <para
>У поточній версії АФ передбачено два параметри середовища: температура і висота (знятої цілі):</para>
    <itemizedlist>
      <listitem>
        <para
>Температура. Температура середовища впливає на усі компоненти системи знімання. Найочевиднішим з них є тубус телескопа. Типово, тубус розширюється, якщо температура зростає, і звужується, якщо спадає. Це впливає на точку фокусування. Крім того, температура впливає на оптичний шлях світла від цілі зйомки, що проходить крізь атмосферу та компоненти знімального обладнання телескопа, а отже впливає на точку фокусування.</para>

        <para
>Для модуля фокусування потрібне надійне джерело даних щодо температури, щоб можна було скористатися можливостями адаптивного фокусування щодо температури.</para>

        <para
>Місце перебування джерела даних щодо температури, звичайно ж, визначає користувач. Оскільки зміни у температурі впливають на багато компонентів, оптимальні зсуви є неочевидними. Можуть знадобитися певні експерименти, щоб отримати найкращі результати, але, як правило, джерело має бути поряд із оптичним трактом, але подалі від розігрівальної дії електричного обладнання, яке, скажімо, розігріває джерело даних щодо температури, але не оптичний тракт. Відповідність розташування, ймовірно, буде важливою.</para>
      </listitem>

      <listitem>
        <para
>Висота. Користувачі програми повідомляли, що точка фокусування зміщується при зміні висоти цілі. Вплив цього фактора, ймовірно, є меншим за вплив температури — ним можна знехтувати у деяких конфігураціях.</para>
      </listitem>
    </itemizedlist>

    <para
>Щоб скористатися АФ вам спочатку слід визначити, хочете ви адаптувати розташування фокуса для температури, висоти чи для обох факторів. Якщо ви лише розпочинаєте роботу з АФ, рекомендуємо почати з температури і, коли усе запрацює, визначити, чи покращаться результати, якщо додати ще і висоту.</para>

    <para
>Першим кроком є визначення параметрів <guilabel
>поділки / °C</guilabel
> і/або <guilabel
>поділки / °висоти</guilabel
> для вашого обладнання. Для цього в Ekos є допоміжна програма. Отже, якщо увімкнено ведення журналу, окрім додавання повідомлень щодо фокусування до діагностичного журналу, після кожного завершення автофокусування дані буде записано до текстового файла у каталозі focuslogs у каталозі діагностичного журналу. Файли матимуть назви «autofocus-(дата і час).txt». Буде записано такі дані: дата, час, позиція, температура, фільтр, РПП, висота. Ці дані слід проаналізувати поза Ekos для визначення параметра <guilabel
>поділки / °C</guilabel
> і, якщо потрібно, параметра <guilabel
>поділки / °висоти</guilabel
>.</para>

    <para
>Ось приклад файла «autofocus-(дата-час).txt»: <screenshot>
      <screeninfo
>Журнал автофокусування </screeninfo>
      <mediaobject
> <imageobject
> <imagedata fileref="focus_autofocus_log.png" format="PNG" width="50%"/>
        </imageobject
><textobject
><phrase
>Журнал автофокусування</phrase
></textobject
></mediaobject>
    </screenshot
></para>

    <para
>У поточній версії Ekos передбачено підтримку простого лінійного зв'язку між температурою або висотою і кількістю поділок. У майбутніх версіях, якщо надходитимуть прохання, може бути передбачено складніші зв'язки. Лінійний зв'язок надає змогу скористатися більшістю переваг АФ і є доволі простим для керування. Складніші форми зв'язку можуть бути точнішими, але ними важче керувати. Також слід зауважити, що складніші форми залежностей точки фокусування від температури будуть більш-менш лінійними для малих змін температури.</para>

    <para
>Отримати значення параметра <guilabel
>поділки / °C</guilabel
> можна так: скопіювати дані з файлів autofocus-(дата і час).txt, які створено протягом декількох ночей спостереження, до електронної таблиці і побудувати графік залежності позиції фокусування від температури для кожного з фільтрів. Перегляньте дані і вилучіть викиди. Накресліть пряму найкращої апроксимації. Скористайтеся нею для отримання значення <guilabel
>поділки / °C</guilabel
>. Якщо вам потрібна адаптація для висоти і температури, варто скористатися набором даних для однієї висоти при калібруванні за температурою. Далі можна обчислити вплив температури і вилучити його з даних при обчисленні впливу висоти.</para>

    <para
>Вам слід переконатися, що позиція фокусування повторюється за однакових значень температури і висоти, і що немає ковзання фокуса або некомпенсованого люфту. Крім того, під час калібрування варто уникати змін в оптичному тракті, які можуть змінити позицію фокуса. Якщо цього не можна уникнути, і зміни впливають на позицію фокусування, вам слід належним чином скоригувати стані дані фокусування так, щоб дані можна було порівнювати.</para>

    <para
>Простий підхід полягає у тому, що слід розпочати з малого набору даних, скажімо, за одну ніч, і скористатися ними для обчислення, скажімо, значення кількості поділок на один градус Цельсія. Запустіть процедуру з отриманим значенням і коригуйте його, накопичуючи дані. Перевірити, наскільки ефективним є АФ, можна за допомогою засобу «Аналіз», переглянувши, як АФ змінював фокус протягом години. Якщо все вдало, зміна позиції засобу фокусування АФ після першої години використання збігатиметься із результатами автофокусування. Там, де будуть розбіжності, причиною буде випадковість результатів автофокусування і помилкове калібрування параметра <guilabel
>поділки / °C</guilabel
> АФ. Виконуючи цю процедуру регулярно, ви дізнаєтеся більше про ваше обладнання і зможете скоригувати АФ. Нижче наведено знімок інструмента аналізу, який налаштовано для обробки даних фокусування. Ви можете бачити, як змінюється позиція фокусування протягом сеансу зйомки: <screenshot>
      <screeninfo
>Аналіз фокусування </screeninfo>
      <mediaobject
> <imageobject
> <imagedata fileref="focus_analyze.png" format="PNG" width="50%"/>
        </imageobject
><textobject
><phrase
>Аналіз фокусування</phrase
></textobject
></mediaobject>
    </screenshot
></para>

    <para
>Отримавши власні дані ви можете налаштувати програму за допомогою контекстної панелі <link linkend="focus-filter-settings"
>Параметри фільтрування</link
>. Потім у модулі «Фокус» увімкніть адаптивне фокусування на вкладці <link linkend="focus-settings"
>Параметри фокусування</link
>. Після цього під час виконання послідовності зйомки Ekos після створення кожного підкадру кожного разу перевірятиме, чи слід адаптувати позицію фокусування. Якщо це так, модуль фокусування виконає адаптацію, а модуль захоплення зображень продовжить роботу із наступним підкадром.</para>

    <para
>На знімку вікна на початку цього розділу показано приклад. Для параметра <guilabel
>поділки / °C</guilabel
> встановлено значення 9. Запущено автофокусування і отримано розв'язок 36580 для 10C. Далі виконано просту послідовність зйомки 5 підкадрів. Для температури спочатку встановлено значення 9C, потім — 8C. Після завершення зйомки кожного підкадра Ekos виконував адаптивне фокусування, і там, де було зафіксовано зміну температури, програма обчислювала кількість поділок, на які слід пересунути засіб фокусування. У цьому прикладі було виконано пересування всередину на 9 поділок у 2 окремих випадках, починаючи з 36580, до пересування до 36571, а потім до 36562, як це показано на вкладці «Фокус» віджета «Поточна позиція» та у вікні повідомлення.</para>

    <para
>Адаптивне фокусування вбудовано до засобу <link linkend="build-filter-offsets"
>Побудувати зсуви</link
>.</para>
  </sect2>


  <sect2 id="Coefficient_of_Determination">
    <title
>Коефіцієнт визначеності, R²</title>

    <para
>Коефіцієнт визначеності, або R², обчислюється з метою отримати міру того, наскільки добре крива апроксимує точки даних. Докладніші відомості викладено <ulink url="https://en.wikipedia.org/wiki/Coefficient_of_determination"
>тут</ulink
>. Це можливість, яка доступна лише для лінійного однопрохідного алгоритму фокусування. Якщо коротко, R² приймає значення від 0 до 1, де 1 означає точну відповідність, де усі точки даних лежать на кривій, а 0 означає, що немає кореляції між точками даних і кривою. Користувачеві варто поекспериментувати з обладнанням, щоб отримати найкраще значення, але, типово, варто скористатися значенням, яке перевищує 0,9, щоб отримати добру апроксимацію.</para>

    <para
>Можна встановити значення «Обмеження R² у <link linkend="focus-settings"
>параметрах фокусування</link
>. Його буде порівняно із обчисленим R² після завершення автофокусування. Якщо значення обмеження не буде досягнуто, автоматичне фокусування буде перезапущено.</para>

    <para
>Зміна значення обмеження R² може бути корисним для автоматичного спостереження, якщо запуск фокусування дає поганий результат через помилку на першому кроці. Очевидно, якщо причина не є тимчасовою, повторний запуск нічого не покращить.</para>

    <para
>Якщо «Обмеження R²» не буде досягнуто, а процедуру фокусування перезапущено, і обмеження R² знову не досягнуто, запуск фокусування буде позначено як успішний, щоб уникнути зависання процедури, коли повторне автофокусування виконуватиметься вічно.</para>

    <para
>Ця можливість вимикається встановленням нульового значення обмеження R².</para>
  </sect2>

  <sect2 id="Levenberg-Marquardt">
    <title
>Розв'язувач Левенберга-Марквардта</title>

    <para
>Алгоритм Левенберга-Марквардта (LM) призначено для розв'язання нелінійних задач методом найменших квадратів. У GNU Science Library реалізовано відповідний розв'язувач. Докладніші відомості можна знайти на цих ресурсах: </para>

    <itemizedlist>
      <listitem>
        <para>
          <ulink url="https://en.wikipedia.org/wiki/Levenberg–Marquardt_algorithm"
></ulink>
        </para>
      </listitem>

      <listitem>
        <para>
          <ulink url="https://www.gnu.org/software/gsl/doc/html/nls.html"
></ulink>
        </para>
      </listitem>
    </itemizedlist>

    <para
>Алгоритм Левенберга-Марквардта є розв'язувачем нелінійних задач методом найменших квадратів, який є придатним для розв'язування багатьох різних рівнянь. Основна ідея полягає у коригуванні рівняння y = f(x,P) таким чином, щоб обчислені значення y є якомога близькими до значень y точок даних, отже, отримана крива найкраще апроксимує дані. P є набором параметрів, які розв'язувач змінює з метою отримання найкращої відповідності. Розв'язувач вимірює, наскільки далекою є крива у кожній точці даних, підносить це значення до квадрату і додає усі значення. Отримане значення слід мінімізувати. Назвемо це значення S. Розв'язувачу надається початкове припущення щодо параметрів, P. Розв'язувач обчислює S, коригує P і обчислює нове значення S1. Якщо S1 &lt; S, ми рухаємося у правильному напрямку. Ітерації тривають, аж доки не буде виконано одну з таких умов:</para>

    <itemizedlist>
      <listitem>
        <para
>різниця в S є меншою за визначене значення (досягнуто критерію збіжності), або</para>
      </listitem>

      <listitem>
        <para
>досягнуто максимальної кількості ітерацій, або</para>
      </listitem>

      <listitem>
        <para
>під час розв'язування сталася помилка.</para>
      </listitem>
    </itemizedlist>

    <para
>Розв'язувач може працювати над розв'язанням задач із незваженими і зваженими наборами точок даних. Якщо коротко, незважений набір даних використовує рівні значення ваги для кожної точки даних при спробі апроксимації кривою. Навпаки, зваження кожної точки даних значенням, яке відповідає тому, наскільки точним було насправді вимірювання точки даних. У нашому випадку це дисперсії РПП зірок, які пов'язано із точкою даних. Дисперсія є квадратом стандартного відхилення.</para>

    <para
>У поточній версії розв'язувач використовує апроксимацію параболічною або гіперболічною кривою.</para>
  </sect2>

  <sect2 id="focus-aberration-inspector">
    <title
>Інспектор аберації</title>

    <screenshot>
      <screeninfo
>Інспектор аберації </screeninfo>

      <mediaobject>
        <imageobject>
          <imagedata fileref="aberration_inspector.png" format="PNG" width="75%"/>
        </imageobject>

        <textobject>
          <phrase
>Інспектор аберації</phrase>
        </textobject>
      </mediaobject>
    </screenshot>

    <para
>Інспектор аберації є інструментом, у якому автоматичне фокусування використано для аналізу зворотного фокусування та ухилу датчика у пов'язаному оптичному тракті.</para>
    <para
>Щоб запустити інспектор аберації, натисніть кнопку <guibutton
>Інспектор аберації</guibutton
>. Див. <link linkend="focus-tools"
>групу засобів фокусування</link
>, щоб дізнатися більше. Для того, щоб інспектор фокусування працював належним чином, а кнопка стала активною, має бути виконано такі умови:</para>

    <itemizedlist>
      <listitem>
        <para
>Засіб фокусування має бути засобом абсолютного фокусування.</para>
      </listitem>

      <listitem>
        <para
>Алгоритмом фокусування має бути лінійний однопрохідний.</para>
      </listitem>

      <listitem>
        <para
>Має бути застосовано мозаїчне маскування.</para>
      </listitem>

      <listitem>
        <para
>Має бути налаштовано розмір кроку засобу фокусування. Крок вказують як кількість мікронів, на які фокальна площина пересувається за одну поділку засобу фокусування. Вказати її можна у вікні КЗФ. Див. <link linkend="focus-cfz"
>розділ КЗФ</link
>, щоб дізнатися більше.</para>
      </listitem>

    </itemizedlist>

    <para
>Якщо натиснуто кнопку інспектора, буде запущено автоматичне фокусування, але, окрім того, для кожної точки даних буде отримано додаткові дані для наступного використання в інспекторі аберації. Після завершення автоматичного фокусування буде показано вікно інспектора аберації.</para>

    <para
>Для початкового налаштовування інструмента для використання рекомендуємо виконати такі дії:</para>

    <itemizedlist>
      <listitem>
        <para
>Наведіть телескоп на частину неба, де можна виконати надійне автоматичне фокусування. Типово, такі частини неба розташовано високо у небі, подалі від будь-яких перешкод. Виберіть область там, де багато зірок, наприклад, на Чумацькому шляху. Причина того, що це важливіше для інспектора аберації, ніж для автоматичного фокусування, полягає у тому, що аналіз фокусування має бути виконано для кожної плитки у мозаїці. Через це, важливо, щоб у кожній плитці було достатньо зірок для виконання точного автоматичного фокусування.</para>
      </listitem>

      <listitem>
        <para
>Запустіть автоматичне фокусування пару разів, щоб переконатися, що розв'язання відбувається правильно, і що у вас є добрий набір зірок для кожної плитки мозаїки. Хоча можна скористатися більшістю параметрів фокусування, рекомендуємо скористатися параметрами, як дають найкращі результати для вашого обладнання. Причиною цього є те, що для інспектора аберації потрібно, щоб засіб фокусування має розв'язувати задачу фокусування для кожної плитки мозаїки, а не просто для датчика загалом.</para>
      </listitem>

      <listitem>
        <para
>Слід застосувати маску мозаїчності. Щоб налаштувати це оптимально для вашого обладнання, знадобляться певні експерименти. Параметром налаштувань, який потрібно скоригувати, є розмір плитки, який є розміром плитки у відсотках від ширини датчика. Чим вищий відсоток, тим більша кожна плитка. Наприклад, для датчика 4:3 використання розміру плитки 25% означає, що кожна плитка займає 8% площі датчика. Використання розміру плитки 10% означає, що кожна плитка займає 1% площі датчика. Чим більша площа, тим більше зірок буде на зображенні і тим краще буде розв'язувати задачу алгоритм фокусування. Однак мета інспектора аберацій — надати інформацію про аберації (зворотне фокусування і ухил) на датчику, тому, ідеально, інформація для кожної плитки мала б бути специфічною для якомога меншої області.</para>
        <para
>Добрим буде якомога менший розмір плитки, який все ж містить достатньо зірок для якісного розв'язування задачі для кожної плитки.</para>
      </listitem>
    </itemizedlist>

    <para
>Інспектором аберації можна скористатися у поєднанні із пристроєм для коригування ухилу і/або зворотного фокусування. Методом є ітеративний підхід, наприклад, колімація телескопа. Кроки:</para>

    <itemizedlist>
      <listitem>
        <para
>Запустіть інспектор аберації і отримайте результати.</para>
      </listitem>

      <listitem>
        <para
>Ознайомтеся із результатами і переконайтеся, що вони є добрими, зокрема кількість зірок на кожній плитці є достатньою, а R² є прийнятним для усіх відповідних плиток.</para>
      </listitem>

      <listitem>
        <para
>Скоригуйте ухил і/або зворотне фокусування, що використовується вашим пристроєм, на основі результатів інспектора аберації.</para>
      </listitem>

      <listitem>
        <para
>Знову запустіть інспектор аберації. Буде відкрито ще одне діалогове вікно. Знову перевірте результати. Якщо ухил і/або зворотне фокусування покращаться, коригування було виконано у правильному напрямку. Якщо це не так, виконайте зворотне коригування і повторіть спробу. Скористайтеся результатом попереднього коригування для наступного коригування.</para>
      </listitem>
    </itemizedlist>

    <para
>Повторюйте наведену вище процедуру, аж доки буде досягнуто межі чутливості приладів.</para>

    <para
>Зауважте, що величина коригування, наприклад, наскільки далеко слід повертати болти, за годинниковою стрілкою чи проти, залежатиме від обладнання, і їх має бути визначено користувачем шляхом спроб і помилок. Завжди виконуйте рекомендації щодо ухилу і зворотного фокусування, які надає виробник пристрою.</para>

    <para
>Під час кожного запуску інспектора аберації програма відкриває нове діалогове вікно у заголовку якого буде дописано номер запуску. У такий спосіб можна виконати декілька запусків і порівняти результати. Втім, зауважте, що у діалоговому вікні міститиметься багато даних (приблизно удесятеро більше за стандартне вікно автоматичного фокусування). Системні ресурси, які пов'язано із цим процесом, буде вивільнено при закритті діалогового вікна. З цієї причини на малопотужних комп'ютерах після завершення користування інструментом рекомендуємо закрити усі вікна інспектора аберації, перш ніж буде розпочато процедуру створення знімків.</para>

    <para
>У наступних розділах описано розділи діалогового вікна інспектора аберації.</para>

    <sect3 id="aberration-inspector-vcurve">
      <title
>V-крива інспектора аберації</title>

      <screenshot>
        <screeninfo
>V-крива інспектора аберації </screeninfo>

        <mediaobject>
          <imageobject>
          <imagedata fileref="aberration_inspector_vcurve.png" format="PNG" width="50%"/>
        </imageobject>

        <textobject>
          <phrase
>V-крива інспектора аберації</phrase>
        </textobject>
        </mediaobject>
      </screenshot>

    <para
>У верхній частині діалогового вікна розташовано засоби керування, а за ними V-криву. Засоби керування:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Плитки</guilabel
>: можна скористатися одним з трьох варіантів:</para>
        <itemizedlist>
          <listitem>
            <para
>Усі: буде показано усі 9 плиток.</para>
          </listitem>
          <listitem>
            <para
>Центр і зовнішні кути: буде показано центральну і 4 кутових плитки.</para>
          </listitem>
          <listitem>
            <para
>Центр і внутрішній ромб: буде показано центр і 4 плитки у внутрішньому ромбі.</para>
          </listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para
><guilabel
>Мітки</guilabel
>: цей пункт вмикає або вимикає показ мітки точки фокусування на V-кривій.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>КЗФ</guilabel
>: цей пункт вмикає або вимикає показ вуса КЗФ на V-кривій.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Оптимізувати центри плиток</guilabel
>: якщо не позначено, буде використано геометричний центр плитки; якщо позначено, центр плитки буде обчислено як середнє від позицій зірок на плитці. Хоча з теоретичної точки зору точніші результати можна отримати, якщо позначити цей пункт, ймовірно, що значний вплив це матиме, лише якщо кількість зірок на знімку є малою.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Закрити</guilabel
>: закрити вікно інспектора аберації.</para>
      </listitem>
    </itemizedlist>

    <para
>V-крива є подібною до V-кривої на основній вкладці засобу фокусування, але кожну плитку представлено власною кривою. Кількість кривих визначається значенням у спадному списку <guilabel
>Плитки</guilabel
>. На вісі x буде показано позицію фокусування, а на вісі y міру (наприклад РПП), яку використано засобом автоматичного фокусування. Кожна крива матиме власний колір та дволітерний ідентифікатор, як це показано на панелі умовних позначень.</para>

    <para
>Наведіть вказівник миші на мінімум кривої, щоб переглянути більше відомостей щодо кривої.</para>
    </sect3>

    <sect3 id="aberration-inspector-table">
    <title
>Таблиця інспектора аберації</title>

    <screenshot>
      <screeninfo
>Таблиця інспектора аберації </screeninfo>

      <mediaobject>
        <imageobject>
        <imagedata fileref="aberration_inspector_table.png" format="PNG" width="50%"/>
      </imageobject>

      <textobject>
        <phrase
>Таблиця інспектора аберації</phrase>
      </textobject>
      </mediaobject>
    </screenshot>

    <para
>У таблиці буде показано відомості щодо кожної плитки, яку вибрано за допомогою параметра <guilabel
>Плитки</guilabel
>.</para>

    <para
>Графік, подібний до панелі підказки, буде показано, коли вказівник миші буде наведено на один з найлівіших 2 стовпчиків. На графіку буде показано зображення з датчика, яке масштабовано до розмірностей датчика. На зображення з датчика буде накладено плитки, які вибрано за допомогою параметра <guilabel
>Плитки</guilabel
>. Плитки буде масштабовано відповідно до параметрів плиток. На кожній плитці буде показано мітку із назвою плитки, а плитку, що відповідає рядку, на який наведено вказівник миші, буде підсвічено кольором плитки.</para>

    <para
>Буде показано такі стовпчики:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Плитка</guilabel
>: назва плитки з однієї або двох літер. Приклад: TL = Top Left (верхня ліва), C = Centre (центральна) тощо.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Опис</guilabel
>: опис плитки, наприклад, «верхня ліва», «центральна» тощо.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Розв'язок</guilabel
>: розв'язок фокусування. Відповідає розв'язку на V-кривій.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Дельта (у поділках)</guilabel
>: це приріст розв'язку для поточного рядка таблиці, порівняно із розв'язком для центральної плитки. Дельта для центрального рядка, звичайно ж, дорівнюватиме нулю.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Дельта (мкм)</guilabel
>: це «Дельта (у позначках)» перетворене у мікрони на основі розміру кроку у мікронах, який вказано на вкладці КЗФ фокусування.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>К-ть зірок</guilabel
>: тут буде показано мінімальну/максимальну кількість зірок, які виявлено під час запуску автоматичного фокусування. Зазвичай, мінімальна кількість має бути далі від точки даних фокусування, а максимальна кількість — у точці даних фокусування.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>R²</guilabel
>: R-квадрат апроксимації кривої для цієї плитки. Див. <link linkend="Coefficient_of_Determination"
>Коефіцієнт визначеності</link
>, щоб дізнатися більше.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Виключити</guilabel
>: пункт для включення/виключення цієї плитки з обчислень. Типово, якщо плитку апроксимовано за кривою, її буде включено; якщо плитку не було апроксимовано за кривою, тоді її буде виключено. Крім того, користувач може вирішити, що певна плитка може містити дані низької якості, наприклад, низький R²; або кількість зірок мала. У цьому випадку можна позначити пункт «Виключити», і цей рядок буде виключено з обчислень. Зауважте, що якщо виключити деякі рядки, деякі обчислення можуть не виконуватися. Якщо виключено центральну плитку, обчислення виконувати не можна.</para>

        <para
>Зауважте, що хоча можна виключити плитки, і все одно мати можливість виконати обчислення значень, якщо якість даних низька, рекомендуємо краще перезапустити інспектор аберації, ніж обробляти дані низької якості.</para>
      </listitem>
    </itemizedlist>

    <para
>Рекомендованим підходом є перевірка таблиці на якість даних, аж до її досягнення, а потім перехід до аналізу <link linkend="aberration-inspector-results"
>результатів інспектора аберації</link
>.</para>
    </sect3>

    <sect3 id="aberration-inspector-results">
    <title
>Результати інспектора аберації</title>

    <screenshot>
      <screeninfo
>Результати інспектора аберації </screeninfo>

      <mediaobject>
        <imageobject>
        <imagedata fileref="aberration_inspector_results.png" format="PNG" width="50%"/>
      </imageobject>

      <textobject>
        <phrase
>Результати інспектора аберації</phrase>
      </textobject>
      </mediaobject>
    </screenshot>

    <para
>У цьому розділі буде показано результати обчислень на основі даних, які показано у таблиці:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Δ зворотного фокусування</guilabel
>: це значення дельти зворотного фокусування. Чим ближчим є зворотне фокусування до ідеального, тим меншою є дельта зворотного фокусування. Зауважте, що дельта зворотного фокусування є підказкою щодо того, наскільки великим є зворотне фокусування, у сенсі масштабу і напрямку, але це не є величина, на яку слід пересунути датчик. Зв'язок між дельтою зворотного фокусування та тим, наскільки далеко слід пересунути датчик, залежить від використаного обладнання, його має визначити користувач.</para>

        <para
>Поле визначає напрямок руху зворотного фокусування, яке потрібне для покращення: слід або пересунути датчик ближче до засобу сплощення поля (телескопа), або відсунути його від нього.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Зсув ліворуч-праворуч</guilabel
>: дає зсув ліворуч-праворуч у мікронах та у відсотках.</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Зсув вгору-вниз</guilabel
>: дає зсув вгору-вниз мікронах та у відсотках</para>
      </listitem>
      <listitem>
        <para
><guilabel
>Загальний зсув</guilabel
>: діагональний зсув у мікронах і у відсотках.</para>
      </listitem>
    </itemizedlist>

    <para
>Чим меншим є дельта зворотного фокусування, тим ближчим є датчик до ідеального зворотного фокусування. Якщо сплощувач поля не сплощує поле максимально до країв датчика, це буде помітним при перемиканні параметра «Плитки» між значеннями «Центр і зовнішні кути» та «Центр і внутрішній ромб». Якщо результати для дельти зворотного фокусування однакові при зміні значення параметра «Плитки», сплощувач поля працює і у кутах датчика.</para>

    <para
>Дельта зворотного фокусування завжди буде ненульовою принаймні через шум у даних спостереження. Важливим є те, щоб у фокусі зірки лишалися круглими в усіх частинах датчика.</para>

    <para
>Чим меншими є відсотки ухилу, тим ближчим є датчик до плоского стану відносно площини світла від сплощувача або телескопа. Так само, як із дельтою зворотного фокусування, у даних завжди буде певний шум, який призводить до ухилу. Важливим є те, щоб у фокусі розміри зірок були однорідними в усіх частинах датчика.</para>

    <para
>Через природу обчислень дельти зворотного фокусування та ухилу, одне впливає на інше, тому, ймовірно, варто намагатися скоригувати обидва параметри одночасно малими приростами,а не намагатися отримати ідеальне значення одного з них окремо, перш ніж виправляти інший.</para>
    </sect3>

    <sect3 id="aberration-inspector-3dgraphic">
    <title
>Просторовий графік інспектора аберації</title>

    <screenshot>
      <screeninfo
>Просторовий графік інспектора аберації </screeninfo>

      <mediaobject>
        <imageobject>
        <imagedata fileref="aberration_inspector_3dgraphic.png" format="PNG" width="50%"/>
      </imageobject>

      <textobject>
        <phrase
>Просторовий графік інспектора аберації</phrase>
      </textobject>
      </mediaobject>
    </screenshot>

    <para
>На просторовому графіку буде показано нахил датчика за <link linkend="aberration-inspector-results"
>результатами інспектора аберації</link
>. Для полегшення візуалізації поверхні Пецваля (див. <ulink url="https://en.wikipedia.org/wiki/Petzval_field_curvature"
>кривина поля Пецваля</ulink
>, щоб дізнатися більше) світла, що надходить з телескопа і падає на датчик, моделюють також поверхню. Чим вищою є похибка зворотного фокусування, тим викривленішою є поверхня Пецваля.</para>

    <para
>Графік можна масштабувати і обертати за допомогою жестів. Для масштабування використовуйте жест щипання. Для обертання скористайтеся торканням і пересуванням.</para>

    <para
>Для графіка передбачено режим імітації, у якому можна коригувати зворотне фокусування та ухил за допомогою повзунків. На графіку буде показано результат для ухилу датчика і поверхню Пецваля.</para>

    <para
>Для графіка передбачено такі пункти:</para>

    <itemizedlist>
      <listitem>
        <para
><guilabel
>Вибір</guilabel
>: можна вибрати один з таких варіантів:</para>

        <itemizedlist>
          <listitem>
          <para
>Немає: вибір неможливий.</para>
          </listitem>

          <listitem>
          <para
>Елемент: може бути вибрано точку даних, і буде показано значення даних.</para>
          </listitem>

          <listitem>
          <para
>Зріз: буде показано плоский зріз просторового графіка.</para>
          </listitem>
        </itemizedlist>

      </listitem>
      <listitem>
        <para
><guilabel
>Тема</guilabel
>: можна скористатися однією з декількох тем кольорів.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Мітки</guilabel
>: цей пункт вмикає або вимикає показ міток плитки на графіку.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Датчик</guilabel
>: пункт для показу або приховування датчика.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Сітка Пецваля</guilabel
>: пункт для вмикання або вимикання показу поверхні Пецваля у форматі графічної сітки.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Поверхня Пецваля</guilabel
>: пункт для вмикання або вимикання показу поверхні Пецваля.</para>
      </listitem>

      <listitem>
        <para
><guilabel
>Режим іміт.</guilabel
>: пункт для вмикання або вимикання режиму імітації. Якщо не позначено, на графіку буде показано датчик і поверхню Пецваля на основ обчислених під час запуску інспектора аберації даних. Якщо позначено, буде активовано повзунки для зворотного фокусування, зсуву ліворуч-праворуч та зсуву вгору-вниз. Повзунки можна буде пересунути для коригування графіка. Наведіть вказівник миші на якийсь з повзунків, щоб переглянути підказки із описом призначення кожного з повзунків.</para>
      </listitem>
    </itemizedlist>

    <para
>Просторовий графік не є критичним для користування інспектором аберації. Усі потрібні дані показано у розділах <link linkend="aberration-inspector-table"
>Таблиця</link
> і <link linkend="aberration-inspector-results"
>Результати</link
> діалогового вікна. Призначенням графіка є полегшення розуміння користувачем роботи інспектора аберації та орієнтації у даних, які надає інструмент.</para>
    </sect3>
  </sect2>
</sect1>
