<sect2 id="ekos-align">
    <title
>Alignement</title>
    <indexterm>
        <primary
>Outils</primary>
        <secondary
>Ekos</secondary>
        <tertiary
>Aligner</tertiary>
    </indexterm>
    <sect3 id="ekos-align-introduction">
        <title
>Introduction</title>
        <screenshot>
            <screeninfo
>Module d'alignement d'Ekos </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_astrometry.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Module d'alignement d'Ekos</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <para
>The Ekos Alignment Module enables highly accurate GOTOs and can measure and correct polar alignment errors. This is possible thanks to third-party plate-solving technology. The main plate-solving software used is the StellarSolver package, which itself makes use of the offline (and online) astrometry.net, ASTAP and Watney solvers. Ekos begins by capturing an image of a star field, feeding that image to the chosen solver (e.g. see <ulink url="https://astrometry.net"
>astrometry.net</ulink
>, <ulink url="https://github.com/rlancaste/stellarsolver"
>StellarSolver</ulink
> or <ulink url="https://www.hnsky.org/astap"
>ASTAP</ulink
>), and gets in return the central coordinates (RA, DEC), scale, and orientation of the image. The solver essentially performs pattern recognition against a catalog of millions of stars. Once the coordinates are determined, the true pointing of the telescope is known. </para>
        <para
>Often, there is a discrepancy between where the telescope thinks it is looking at and where it is truly pointing. The magnitude of this discrepancy can range from a few arcminutes to a couple of degrees. Ekos can correct the discrepancy by syncing to the new coordinates, and then slewing the mount to the desired target originally requested. </para>
        <para
>Ekos also provides a Polar Alignment Assistant Tool to correct polar alignment errors. It takes three images, slewing between the images, and calculates the offset between the mount axis and polar axis. It feeds back to the user the altitude and azimuth adjustments needed to align these axes. These images are typically taken near the celestial pole (close to Polaris for Northern Hemisphere) but can work well taken from anywhere, usually starting near the meridian and slewing either East or West. </para>
        <para
>Vous avez besoin au minimum d'une caméra CCD ou d'une webcam et d'un télescope qui gère les commandes de pointage et de synchronisation. La plupart de télescopes trouvés dans le commerce aujourd'hui gère ces commandes. </para>
    </sect3>

        <sect3 id="ekos-align-typical">
            <title
>Typical use</title>
            <para
>Avec le module d'alignement d'Ekos, l'alignement de la monture sur une, deux ou trois étoiles avec la commande de la monture n'est <emphasis
>pas</emphasis
> strictement nécessaire, mais pour certaines montures, il peut être recommandé de réaliser un alignement sommaire sur une ou deux étoiles avant d'utiliser le module d'alignement d'Ekos. Mais si vous utiliser EQMod, vous pouvez commencer d'utiliser tout de suite le module d'alignement. Une marche à suivre typique pour les alignement GOTO implique les étapes suivantes : </para>
            <orderedlist>
                <listitem>
                    <para
>Start KStars and Ekos and connect to INDI. </para>
                </listitem>
                <listitem>
                    <para
>Unpark your mount from its home position (usually the NCP for equatorial mounts). </para>
                </listitem>
                <listitem>
                    <para
>Slew to a nearby bright star using the slew telescope command in the SkyMap using the <guilabel
>Slew the telescope to the mouse-pointer position</guilabel
> command. </para>
                </listitem>
                <listitem>
                    <para
>Select <guilabel
>Slew to Target</guilabel
> in the <guilabel
>Solver Action</guilabel
> on the Align page. </para>
                </listitem>
                <listitem>
                    <para
>After slew is complete, click <guibutton
>Capture &amp; Solve</guibutton
> on the Align page. </para>
                </listitem>
            </orderedlist>
            <para
>Align will capture an image and try to solve it. If the solver is successful, Ekos will send a sync command to the mount and then slew to the star. The results are displayed in the <guilabel
>Solution Results</guilabel
> tab along with a bullseye diagram that shows the offset the reported telescope coordinates (&ie; where the telescope <emphasis
>thinks</emphasis
> it is looking vs. its actual pointing position in the sky as determined by the solver). Align will stop if it is within the desired error tolerance, otherwise it will repeat the Slew/Capture/Solve/Sync process until it is within tolerance. </para>
            <para
>Chaque fois que la résolution s'est terminée avec succès, Ekos peut exécuter les actions suivantes : </para>
            <itemizedlist>
                <listitem>
                    <para
><guilabel
>Synchroniser</guilabel
> : synchronise les coordonnées du télescope avec les coordonnées de la solution. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Pivoter vers la cible</guilabel
> : synchronise les coordonnées du télescope avec les coordonnées de la solution puis pivote vers la cible. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Rien</guilabel
> : résolution de l'image et affichage des coordonnées de la solution. </para>
                </listitem>
            </itemizedlist>
        </sect3>
    
    <sect3 id="ekos-solver-options">
      <title
>Configure StellarSolver Options </title>
        <screenshot>
            <screeninfo
>StellarSolver Options </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_stellarsolver_options.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>StellarSolver Options</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
      <para
>To use the solvers, you must first configure the StellarSolver options. The above page is displayed when clicking on the <guilabel
>Options</guilabel
> button on the lower right of the Align page, then selecting the <guilabel
>StellarSolver Options</guilabel
> tab. Start with the <guilabel
>Builtin method for solver</guilabel
> <guilabel
>Source Extraction method</guilabel
> so that each solver uses its preferred star-extraction code. For <guilabel
>Solving Method</guilabel
> we recommend choosing <guilabel
>Internal Solver</guilabel
> to use StellarSolver's copy of the Astrometry.net code, or choose <guilabel
>Local ASTAP</guilabel
> if you prefer that. The online astrometry solver is accurate, but can take a long time to solve because of all the data transfer required. For <guilabel
>Options Profile</guilabel
>, start with the <guilabel
>1-Default</guilabel
> profile. </para>
      <para
>There are two other minor options. <guilabel
>WCS</guilabel
> or World-Coordinate-System is a system for embedding equatorial coordinate information within the image. When you view a solved image, you can hover it and view the coordinate for each pixel. You can also click anywhere in the image and command to the telescope to slew there. It is highly recommended to keep this option on. <guilabel
>Overlay</guilabel
> overlays captured images unto the sky map of &kstars;. </para>
    </sect3>
    
    <sect3 id="ekos-solver-external">
      <title
>Configure StellarSolver External Programs </title>
        <screenshot>
            <screeninfo
>StellarSolver External Programs </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_stellarsolver_external.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>StellarSolver External Programs</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
      <para
>This is only required if you choose one of the external programs for your <guilabel
>Solving Method</guilabel
>. If you choose <guilabel
>Internal Solver</guilabel
>, then it is not necessary. </para>
      <para
>You will need to make sure the paths are correct for the solver you choose. The top menu item <guilabel
>select to load one of the default sets</guilabel
> usually configures the boxes correctly. </para>
    </sect3>

    <sect3 id="ekos-solver-scale">
      <title
>Configure StellarSolver Scale and Position </title>
        <screenshot>
            <screeninfo
>StellarSolver Scale and Position </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_stellarsolver_scale.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>StellarSolver Scale and Position</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
      <para
>This page tells Ekos whether you want to constrain your plate-solving search by scale or position. </para
><para
>Scale can be the image width in degrees (<guilabel
>dw</guilabel
>), the image width in arc-minutes (<guilabel
>aw</guilabel
>), or the pixel width in arc-seconds (<guilabel
>app</guilabel
>). All should work, but arc-seconds per pixel is recommended. Typically you want to use this constraint for faster solving, so we recommend you check this box. The system doesn't require that the scale be exactly right--it allows deviations of 10-20%. However, frequently issues related to solving are due to an inaccurate scale being used. Therefore, if you have plate-solving problems, you may want to uncheck <guilabel
>Use Scale</guilabel
> until those issues are resolved. This will likely result in longer solving times. <guilabel
>Auto-update</guilabel
> will automatically fill the scale box with the scale found in the most-recent successful solve. </para
><para
>The RA and DEC positions are usually filled in from the position the telescope thinks it is pointing. Naturally, the system doesn't require an exactly correct positional constraint--afterall the purpose of plate-solving is to find that position. The maximum distance in degrees from the specified position to the actual position is given by the <guilabel
>Radius</guilabel
> field. Plate-solving will fail if the specified position is further away. Typically you want to enable <guilabel
>Use Position</guilabel
> for faster solving, so we recommend you check this box. However, frequently issues related to solving are due to using a poor positional estimate (e.g. the telescope is significantly misaligned). Therefore, if you have plate-solving problems, you may want to uncheck <guilabel
>Use Position</guilabel
> until those issues are resolved. As mentioned, this will result in longer solving times. <guilabel
>Auto-update</guilabel
> will fill the position box with the position found in the most-recent successful solve. However, a slew will update the position to the position where the telescope thinks it is pointing after the slew. </para>
    </sect3>

    <sect3 id="ekos-align-profiles">
      <title
>Configure StellarSolver Profiles </title>
        <screenshot>
            <screeninfo
>StellarSolver Profiles </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_stellarsolver_profiles.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>StellarSolver Profiles</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <para
>This applies if you are using the (recommended) <guilabel
>Internal Solver</guilabel
> <guilabel
>Solving Method</guilabel
>. </para
><para
>You can choose an <guilabel
>Options Profile</guilabel
> on the <guilabel
>StellarSolver Options</guilabel
> tab. Profiles are simply collections of parameters to configure the performance of the star-extraction and plate-solving system inside of StellarSolver. The <guilabel
>1-Default</guilabel
> profile is the recommended one to start with. There are a few other possible profiles such as <guilabel
>Large Scale Solving</guilabel
>, <guilabel
>Small Scall Solving</guilabel
>, and <guilabel
>Single Thread Solving</guilabel
>. </para
><para
>In the <guilabel
>Align Options Profile Editor</guilabel
> tab you can view and edit profiles. There are many parameters, most of which you need not change to solve issues. There are 3 types of parameters. </para>
        <itemizedlist>
         <listitem
><para
>The top section labelled <guilabel
>Sextractor Parameters</guilabel
> (with column headings <guilabel
>Extraction Parameters</guilabel
>, <guilabel
>Deblending Params</guilabel
>, and <guilabel
>Photometry Params</guilabel
>) are star extraction parameters--that is those that help find stars in your image.</para
></listitem>
         <listitem
><para
>The second section labelled <guilabel
>Star Filtering Parameters</guilabel
> filters/reduces the number of stars extracted before sending the list to either the plate-solver (when aligning or polar-aligning), or to autofocus or the internal guider (when just a list of stars is needed).</para
></listitem>
         <listitem
><para
>The third section labelled Astrometry Parameters adjusts the performance of plate solving.</para
></listitem>
        </itemizedlist>
        <para
>All the input fields have tooltips that are displayed if you hover your mouse over the input box. </para
><para
>You can make changes to the values and save the profile if you like, or restore the profile's original values. </para>
        <sect4 id="profile-star-extraction">
          <title
>Star-Extraction Parameters</title>
          <para
>The column headings are links to the Sextractor manual which is the main source for these parameters. View those links to find details on all the parameters. We will touch upon some of the parameters you might consider adjusting. However, it's probably best not to get into the weeds of modifying most of these values. </para>
        <itemizedlist>
         <listitem
><para
><guilabel
>Thresh Multiple</guilabel
> and <guilabel
>Thresh Offset</guilabel
> relate to how sensitive the system will be to pixel values. The level of the background is multiplied by <guilabel
>Thresh Multiple</guilabel
> and then <guilabel
>Thresh Offset</guilabel
> is added to that. If a pixel's value exceeds the result, then it may be used to detect a star. Therefore, lower values (especially for multiple) may cause even dim pixels to be detected as stars. Higher values will reduce the number of stars detected.</para
></listitem>
         <listitem
><para
><guilabel
>Min Area</guilabel
> is the minimum area for a star detection--area is in square pixels where all pixels have higher-than-threshold pixel values. If you are detecting small noise spikes as stars, you might want to increase this. If you are not detecting desired smaller real stars, perhaps your <guilabel
>Min Area</guilabel
> is too high.</para
></listitem>
         <listitem
><para
><guilabel
>Conv FWHM</guilabel
> should be adjusted to roughly the seeing in your area in pixels. The image is smoothed by this amount before star detection is initiated.</para
></listitem>
        </itemizedlist>
        </sect4
>    

        <sect4 id="profile-star-filtering">
        <title
>Star-Filtering Parameters</title>
          <para
>This filtering is done for the sake of speed mostly, as well as for removing clipped stars, or very elliptical objects which might be galaxies. We will touch upon some of the parameters you might consider adjusting. Zero values for these parameters disable the filter. However, once again it's probably best not to get into the weeds of modifying most of these values. </para>
             <itemizedlist>
         <listitem
><para
><guilabel
>Initial Keep</guilabel
> and <guilabel
>Stars Keep #</guilabel
> relates to the number of stars returned by the system. The system will initially run its detection algorithm and find some number of possible detections. It will filter that list, keeping only the <guilabel
>Initial Keep</guilabel
> brightest stars. It will then run the rest of the filtering, including computing the HFR of all those stars and finally only return a list of <guilabel
>Stars Keep #</guilabel
> stars. None of the uses (alignment, autofocus, guiding) of StellarSolver require thousands of stars to be able to do their job, and the more stars processed the slower the operation. An initial list of 1000 stars and a few hundred returned stars should be sufficient for most applications.</para
></listitem>
         <listitem
><para
><guilabel
>Max Size</guilabel
> and <guilabel
>Min Size</guilabel
> filter stars by their sizes (pixel diameters), and are similar in usage to <guilabel
>Min Area</guilabel
> above.</para
></listitem>
         <listitem
><para
><guilabel
>Max Ellipse</guilabel
> specifies how elliptical a star can be before being removed. 2 would mean the larger axis could be twice as large as the smaller axis.</para
></listitem>
         <listitem
><para
><guilabel
>Cut Brightest</guilabel
> and <guilabel
>Cut Dimmest</guilabel
> remove the X% brightest or dimmest stars from consideration. <guilabel
>Sat Limit</guilabel
> removes stars whose pixel values exceed that percentage of the maximum pixel value--to remove saturated stars.</para
></listitem>
             </itemizedlist>
        </sect4>

        <sect4 id="profile-plate-solving">
          <title
>Plate-Solving Parameters</title>
          <para
>These plate-solving parameters mostly relate to computation resources. </para>
             <itemizedlist>
         <listitem
><para
><guilabel
>Search Radius</guilabel
> is the distance from the position estimate in degrees that may be searched if <guilabel
>Use Position</guilabel
> is checked. </para
></listitem>
         <listitem
><para
><guilabel
>Maximum Time</guilabel
> is the maximum number of seconds that the plate-solving will run before it times out.</para
></listitem>
             </itemizedlist>
        </sect4
>    
    </sect3
>    
    
    <sect3 id="ekos-align-download-index-files">
      <title
>Téléchargement des fichiers index</title>
      <para
>Index files are required if you choose the <guilabel
>Internal Solver</guilabel
> or <guilabel
>Local Astrometry</guilabel
> <guilabel
>Solving Method</guilabel
>. </para>
        <para
>Pour les résolveurs hors-ligne (et à distance), les fichiers index sont nécessaires pour que la résolution fonctionne. La collection complète de ces fichiers index est énorme (plus de 30 Go), mais vous devez que ceux qui correspondent à votre matériel. Les fichiers index sont organisés par l'intervalle de champ de vision (FOV) qu'ils couvrent. Il existe deux manières d'obtenir les fichiers d'index nécessaires : la gestion nouvelle de téléchargement dans le module d'alignement et l'ancienne manière manuelle. </para>
        <sect4 id="ekos-align-automatic-download">
            <title
>Téléchargement automatique</title>
            <screenshot>
                <screeninfo
>Téléchargement des index astrometry.net </screeninfo>
                <mediaobject>
                    <imageobject>
                        <imagedata fileref="astrometry_indexes_settings.png" format="PNG"/>
                    </imageobject>
                    <textobject>
                        <phrase
>Téléchargement des index astrometry.net</phrase>
                    </textobject>
                </mediaobject>
            </screenshot>
            <para
>Le téléchargement automatique n'est disponible pour les utilisateurs d'Ekos utilisant &Linux; et &MacOS;. Pour &Windows;, veuillez télécharger le resolveur ANSVR. </para>
            <para
>Pour accéder à la page de téléchargement, cliquez sur le bouton <guibutton
>Options</guibutton
> dans le <link linkend="ekos-align"
>module d'alignement</link
>, puis sélectionner l'onglet <guilabel
>Fichiers index Astrometry</guilabel
>. La page affiche le champ de vision courant (FOV) de votre matériel ainsi qu'une liste des fichiers index disponibles et installés. Trois icônes sont utilisés pour désigner l'importance des fichiers index pour votre configuration actuelle : </para>
            <itemizedlist>
                <listitem>
                    <para>
                        <inlinemediaobject
><imageobject
><imagedata fileref="security-high.png" format="PNG"/></imageobject
></inlinemediaobject
> <guilabel
>Requis</guilabel>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <inlinemediaobject
><imageobject
><imagedata fileref="security-medium.png" format="PNG"/></imageobject
></inlinemediaobject
> <guilabel
>Recommandé</guilabel>
                    </para>
                </listitem>
                <listitem>
                    <para>
                        <inlinemediaobject
><imageobject
><imagedata fileref="security-low.png" format="PNG"/></imageobject
></inlinemediaobject
> <guilabel
>Facultatif</guilabel>
                    </para>
                </listitem>
            </itemizedlist>
            <para
>Vous devez télécharger tous les fichiers requis et, s'il vous reste de l'espace disque, vous pouvez également installer les fichiers recommandés. Si un fichier index est installé, la case sera cochée, sinon cochez-là pour télécharger les fichiers index pertinents. Il est possible que le mot de passe de l'administrateur du système soit demandé (par défaut, il s'agit de <userinput
>smate</userinput
>) pour installer ces fichiers. Une fois que tous les fichiers sont téléchargés et installés, vous pourrez commencer d'utiliser le résolveur hors-ligne immédiatement. </para>
        </sect4>
        <sect4 id="ekos-align-manual-download">
                <title
>Téléchargement manuel</title>
                <para
>Vous devez <ulink url="http://data.astrometry.net"
>télécharger</ulink
> et installer les fichiers index nécessaire qui conviennent pour votre matériel (champ de vision de l'ensemble télescope et CDD). Vous devez installer les fichiers index couvrant une plage allant de 10 % à 100 % de votre champ de vision. Par exemple si votre champ de vision fait 60 minutes d'arc, vous devez installer les fichiers couvrant la plage allant de 6 minutes d'arc (10 %) à 60 minutes d'arc (100 %). Il existe de nombreux outils en ligne permettant de calculer le champ de vision, par exemple <ulink url="https://astronomy.tools/calculators/field_of_view/"
>Field of view calculator</ulink
>. </para>
                <table frame="all">
                    <title
>Fichiers index</title>
                    <tgroup cols='3' align='left' colsep='1' rowsep='1'>
                        <thead>
                            <row>
                                <entry
>Nom de fichier index</entry>
                                <entry
>Champ de vision (minutes d'arc)</entry>
                                <entry
>Paquet Debian</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry
>index-4219.fits</entry>
                                <entry
>1400 - 2000</entry>
                                <entry morerows="11" valign="middle"
><ulink url="http://data.astrometry.net/debian/astrometry-data-4208-4219_0.45_all.deb"
>astrometry-data-4208-4219</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4218.fits</entry>
                                <entry
>1000 -1400</entry>
                            </row>
                            <row>
                                <entry
>index-4217.fits</entry>
                                <entry
>680 - 1000</entry>
                            </row>
                            <row>
                                <entry
>index-4216.fits</entry>
                                <entry
>480 - 680</entry>
                            </row>
                            <row>
                                <entry
>index-4215.fits</entry>
                                <entry
>340 - 480</entry>
                            </row>
                            <row>
                                <entry
>index-4214.fits</entry>
                                <entry
>240 - 340</entry>
                            </row>
                            <row>
                                <entry
>index-4213.fits</entry>
                                <entry
>170 - 240</entry>
                            </row>
                            <row>
                                <entry
>index-4212.fits</entry>
                                <entry
>120 - 170</entry>
                            </row>
                            <row>
                                <entry
>index-4211.fits</entry>
                                <entry
>85 - 120</entry>
                            </row>
                            <row>
                                <entry
>index-4210.fits</entry>
                                <entry
>60 - 85</entry>
                            </row>
                            <row>
                                <entry
>index-4209.fits</entry>
                                <entry
>42 - 60</entry>
                            </row>
                            <row>
                                <entry
>index-4208.fits</entry>
                                <entry
>30 - 42</entry>
                            </row>
                            <row>
                                <entry
>index-4207-*.fits</entry>
                                <entry
>22 - 30</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4207_0.45_all.deb"
>astrometry-data-4207</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4206-*.fits</entry>
                                <entry
>16 - 22</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4206_0.45_all.deb"
>astrometry-data-4206</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4205-*.fits</entry>
                                <entry
>11 - 16</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4205_0.45_all.deb"
>astrometry-data-4205</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4204-*.fits</entry>
                                <entry
>8 - 11</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4204_0.45_all.deb"
>astrometry-data-4204</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4203-*.fits</entry>
                                <entry
>5,6 -8,0</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4203_0.45_all.deb"
>astrometry-data-4203</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4202-*.fits</entry>
                                <entry
>4,0 - 5,6</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4202_0.45_all.deb"
>astrometry-data-4202</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4201-*.fits</entry>
                                <entry
>2,8 - 4,0</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4201-1_0.45_all.deb"
>astrometry-data-4201-1</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4201-2_0.45_all.deb"
>astrometry-data-4201-2</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4201-3_0.45_all.deb"
>astrometry-data-4201-3</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4201-4_0.45_all.deb"
>astrometry-data-4201-4</ulink
></entry>
                            </row>
                            <row>
                                <entry
>index-4200-*.fits</entry>
                                <entry
>2,0 - 2,8</entry>
                                <entry
><ulink url="http://data.astrometry.net/debian/astrometry-data-4200-1_0.45_all.deb"
>astrometry-data-4200-1</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4200-2_0.45_all.deb"
>astrometry-data-4200-2</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4200-3_0.45_all.deb"
>astrometry-data-4200-3</ulink
> <ulink url="http://data.astrometry.net/debian/astrometry-data-4200-4_0.45_all.deb"
>astrometry-data-4200-4</ulink
></entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <para
>Les paquets Debian conviennent à toute distribution fondée sur Debian (Ubuntu, Mint, &etc;). Si vous avez téléchargé les paquets Debian couvrant votre champ de vision, vous pouvez les installer avec votre gestionnaire de paquets favori ou en exécutant la commande suivante : </para>
                <para>
                    <command
>sudo dpkg -i astrometry-data-*.deb</command>
                </para>
                <para
>Mais si vous avez téléchargé les fichiers index FITS directement, il vous faudra les copier dans le dossier <filename role="directory"
>/usr/share/astrometry/</filename
>. </para>
                <note>
                    <para
>Il est recommandé d'utiliser un gestionnaire de téléchargement comme <ulink url="https://addons.mozilla.org/fr/firefox/addon/downthemall/"
>DownThemAll!</ulink
> pour &firefox; pour télécharger les paquets Debian puisqu'il arrive que certains gestionnaire de téléchargement de navigateurs rencontrent parfois des problèmes à télécharger de gros fichiers. </para>
                </note>
            </sect4>
        </sect3>

    <sect3 id="ekos-align-get-astrometry">
        <title
>Optionally get astrometry.net</title>

        <para
>This is only required if you choose the <guilabel
>Local Astrometry</guilabel
> option for <guilabel
>Source Extraction Method</guilabel
> which is no longer recommended. </para>
        <note>
            <para
>Astrometry.net est déjà livré avec StellarMate, donc il n'est pas nécessaire de l'installer. Les fichiers d'index dès 16 minutes d'arc et au-dessus (4206 - 4019) sont inclus dans StellarMate. Tout fichier index additionnel nécessaire devra être installé séparément.  </para>
        </note>
        <screenshot>
            <screeninfo
>Astrométrie à distance Ekos </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_remote_astrometry.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Astrométrie à distance Ekos</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <variablelist>
            <varlistentry>
                <term
>&Windows;</term>
                <listitem>
                    <para
>Pour utiliser astrometry.net sous &Windows; vous devez télécharger et installer <ulink url="https://adgsoftware.com/ansvr/"
>le résolveur local d'astrometry.net ANSVR</ulink
>. Ce résolveur simule le résolveur en ligne astrometry.net mais en local sur votre ordinateur ; ainsi, il n'est pas nécessaire d'avoir une connexion internet pour ces requêtes. </para>
                    <para
>Après avoir téléchargé le serveur ANSVR et installé les fichiers index appropriés pour votre configuration, assurez-vous qu'il soit lancé avant de vous rendre dans les options du module d'alignement d'Ekos où vous devez simplement modifier <guilabel
>API URL</guilabel
> pour utiliser le serveur ANSVR comme illustré ci-dessous : </para>
                    <screenshot>
                        <screeninfo
>Paramètres ANSVR </screeninfo>
                        <mediaobject>
                            <imageobject>
                                <imagedata fileref="astrometry_windows_ansvr.png" format="PNG"/>
                            </imageobject>
                            <textobject>
                                <phrase
>Paramètres ANSRV</phrase>
                            </textobject>
                        </mediaobject>
                    </screenshot>
                    <para
>Dans le module d'alignement d'Ekos, vous devez modifier le type de résolveur pour <guimenuitem
>En ligne</guimenuitem
> afin qu'il puisse utiliser le serveur ANSVR local pour toutes les requêtes d'astrométrie. Ensuite vous pourrez utiliser le module d'alignement comme vous le feriez habituellement. </para>
                    <para
>Veuillez vous souvenir, comme indiqué plus haut, que StellarMate inclut <emphasis
>déjà</emphasis
> astrometry.net. Ainsi, si vous souhaitez utiliser StellarMate à distance, il suffit de modifier le type de résolveur à <guimenuitem
>À distance</guimenuitem
> et vous assurez que le profil de votre matériel inclut le pilote <emphasis role="bold"
>Astrometry</emphasis
> qui peut être sélectionné dans la liste déroulante <guilabel
>Auxiliaire</guilabel
>. Cela est applicable à tous les systèmes d'exploitation et non pas seulement à &Windows;. </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term
>&MacOS;</term>
                <listitem>
                    <para
>Astrometry.net est déjà inclut dans &kstars; pour &MacOS;, ainsi il ne faut pas l'installer. </para>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term
>&Linux;</term>
                <listitem>
                    <para
>Astrometry.net est déjà inclut dans la dernière version de &kstars; pour &Linux;. Mais si astrometry.net n'est pas installé, vous pouvez l'installer simplement en exécutant la commande suivante (sous Debian et dérivés) : </para>
                    <para>
                        <command
>sudo apt-get install astrometry.net</command>
                    </para>
                </listitem>
            </varlistentry>
        </variablelist>
    </sect3>
    
        <sect3 id="ekos-align-how-to-use">
            <title
>Comment les utiliser ?</title>
            <para
>Ekos Align Module offers multiple functions to aid you in achieving accurate GOTOs. For some mounts it is useful to start your session with your mount in home position with the telescope tube looking directly at the celestial pole. For users in Northern Hemisphere, point the telescope as close as possible to Polaris. It is not necessary to perform 2 or 3 star alignments, but it can be useful for some mount types. Make sure your camera is focused. </para>
            <para
>At the top left of the Align page you can find two solver commands, and two actions to take given the solver solution. </para>
            <itemizedlist>
                <listitem>
                    <para
><guilabel
>Capture &amp; Solve</guilabel
>: Capture an image and determine exactly where in the sky the telescope is pointing. The astrometry results include the equatorial coordinates (RA &amp; DEC) of the center of the captured image and the pixel scale and field rotation. Depending on the Solver Action settings, the results can be used to Sync the mount or Sync and then Slew to the target location. For example, suppose you slewed the mount to Vega then used <emphasis
>Capture &amp; Solve</emphasis
>. If the actual telescope location is different from Vega, it will be first synced to the solved coordinate and then Ekos shall command the mount to slew to Vega. After slew is complete, the Alignment module will repeat Capture &amp; Solve process again until the error between reported and actual position falls below the accuracy thresholds (30 arcseconds by default). </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Charger &amp; Pivoter</guilabel
> : charger une image FITS ou JPEG, la résoudre et ensuite pivoter. </para>
                </listitem>
            </itemizedlist>
            <warning>
                <para
><emphasis role="bold"
>Never</emphasis
> solve an image at or near the celestial pole (unless Ekos Polar Alignment Assistant Tool is used). Slew at least 20 degrees away from the celestial pole before solving the first image. Solving very close to the poles will make your mount pointing worse, so avoid it. </para>
            </warning>
        </sect3>
        
        <sect3 id="ekos-align-alignment-settings">
            <title
>Réglages de l'alignement</title>
            <para
>Before you begin the alignment process, select the desired optical train. You can explore astrometry.net options that are passed to the astrometry.net solver each time an image is captured: </para>
            <itemizedlist>
                <listitem>
                    <para
><guilabel
>Accuracy</guilabel
>: Acceptable difference between the desired target position and the solved coordinates from the captured image. If the difference exceeds this many arc-seconds, then the system will continue to capture, solve and slew until the solved position is close enough to the target position. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Train</guilabel
>: Select the Optical Train which will be used to capture the image to be aligned. It is also used to compute the image scale. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Exposition</guilabel
> : durée d'exposition en secondes. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Bin</guilabel
>: The binning of the image before solving. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Gain/ISO</guilabel
>: The camera gain or ISO. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Filter/Use Current</guilabel
>: The filter to use when capturing the image. <guilabel
>Use Current</guilabel
> uses whatever filter is currently active. </para>
                </listitem>
                <listitem>
                    <para
><guilabel
>Dark</guilabel
>: Whether to use the dark-image subtraction scheme before analyzing the captured image. </para>
                </listitem>
            </itemizedlist>
        </sect3>

        <sect3 id="ekos-align-polaralignment">
            <title
>Alignement polaire</title>
                <para
>Un des aspects critiques de l'installation d'une monture équatoriale allemande pour l'imagerie longue durée est un alignement polaire aussi précis que possible. Ces montures ont deux axes : l'ascension droite (AD) et la déclinaison (DEC). Idéalement l'axe d'AD devrait être aligné avec l'axe polaire de la sphère céleste. Le travail d'une monture est de suivre le déplacement d'une étoile dans le ciel depuis son lever à l'horizon est jusqu'au passage au méridien puis enfin jusqu'à son coucher vers l'ouest. </para>

                <mediaobject>
                    <videoobject>
                        <videodata contentdepth="595" contentwidth="800" fileref="https://www.stellarmate.com/images/videos/polar_align.webm"
></videodata>
                    </videoobject>
                    <caption>
                        <para>
                            <phrase
>Assistant d'alignement polaire</phrase>
                        </para>
                    </caption>
                </mediaobject>

                <para
>Dans l'imagerie longue durée, une caméra est montée sur le télescope qui enregistre les photons qui arrivent sur son capteur depuis une région particulière du ciel. Ces photons doivent frapper le même pixel encore et encore pour obtenir une image claire et étincelante. Bien sûr, les vrais photons ne se comportent pas exactement comme cela. Les défauts d'optique, l'atmosphère turbulente, la qualité du ciel (le seeing en anglais) génèrent une légère dispersion des photons sur le capteur. De plus, ils n'arrivent pas uniformément mais suivant une distribution de Poisson. Pour des sources ponctuelles comme les étoiles, une fonction de dispersion de point (point spread function ou PSF en anglais) décrit leur distribution spatiale à travers les pixels. Cela dit, l'idée <emphasis
>principale</emphasis
> est de faire en sorte que les photons frappent toujours le même pixel. Sinon, l'image finale sera polluée de divers trainées et autres artéfacts. </para>
                <screenshot>
                    <screeninfo
>Alignement polaire </screeninfo>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="alignment_polaris.png" format="PNG"/>
                        </imageobject>
                        <textobject>
                            <phrase
>Alignement polaire</phrase>
                        </textobject>
                    </mediaobject>
                </screenshot>
                <para
>Les montures n'étant pas parfaites non plus, elles ne peuvent suivre parfaitement un objet lors de sa course dans le ciel. Cela peut provenir de plusieurs facteurs, l'un d'entre eux étant l'alignement imparfait de l'axe d'ascension droite par rapport à l'axe du pôle céleste. Un alignement polaire précis supprime (ou minimise) l'une des plus importantes sources d'erreur de suivi de la monture mais d'autres sources d'erreur ont également un impact. Une monture correctement alignée peut suivre un objet pendant plusieurs minutes avec seulement 1 ou 2 secondes d'arc d'erreur RMS. </para>
                <para
>Toutefois, même avec un monture alignée très soigneusement, vous souhaiterez probablement utiliser un guide pour conserver une étoile verrouillée à la même position dans le temps. Malgré tout cela, si l'axe de la monture n'est pas correctement aligné avec le pôle céleste, même un monture mécaniquement parfaite ne permettra pas un suivi dans le temps. Les erreurs de suivi sont proportionnelles à la grandeur de l'erreur d'alignement. Il est par conséquent très important pour les longues poses d'obtenir un alignement le plus précis possible afin de réduire les erreurs résiduelles lors du déplacement dans le ciel. </para>
                <para
>Avant le début de la procédure, pointez la monture aussi près que possible vers le pôle céleste avec le contre-poids vers le bas. Si vous habitez dans l'hémisphère nord, pointez vers l'étoile polaire Polaris. Si Polaris n'est pas visible (par exemple masquée par des arbres ou des bâtiments), vous pouvez pointer ailleurs mais de préférence vers le méridien. Assurez-vous qu'il y a au moins 30 à 60 degrés de ciel visible à l'est ou à l'ouest de la position choisie. Choisissez la direction du ciel libre, le nombre de degrés de déplacement pour chaque rotation, la vitesse de rotation et si la monture se déplace automatiquement (ce qui est recommandé) ou manuellement. </para>
                <para
>The tool works by capturing and solving three images. After capturing each, the mount rotates by the fixed amount you entered and another image is captured and solved. If you choose manual, you will need to slew the mount by roughly the angle chosen. </para>
                <screenshot>
                    <screeninfo
>Assistant d'alignement polaire </screeninfo>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="polar_assistant_main2.png" format="PNG"/>
                        </imageobject>
                        <textobject>
                            <phrase
>Assistant d'alignement polaire</phrase>
                        </textobject>
                    </mediaobject>
                </screenshot>

            <sect4 id="ekos-align-platesolvecorrection">
                <title
>Schéma de correction de la résolution</title>
                
                <para
>Les images affichées ci-dessous montrent le flux de travail quand la technique de correction de la <emphasis
>résolution</emphasis
> est utilisée. L'image ci-dessous montre l'affichage après que trois images aient été acquises et résolues. On voit une erreur de 18' en altitude et donc que l'axe de la monture doit être réajustée en fonction. On voit de même une erreur de 15' en azimut et un réajustement de l'axe de la monture vers la droite (vu de derrière le télescope). </para>
                <screenshot>
                    <screeninfo
>Assistant d'alignement polaire </screeninfo>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="polar_assistant_ps1.png" format="PNG"/>
                        </imageobject>
                        <textobject>
                            <phrase
>Assistant d'alignement polaire, flux de travail 1 de la résolution</phrase>
                        </textobject>
                    </mediaobject>
                </screenshot>
                <para
>Si l'erreur est suffisamment petite (moins d'une minute d'arc), il est inutile de faire des ajustements. Cliquez sur stop et c'est terminé. </para>
                <para
>Si vous faites des corrections sur l'axe de votre monture, vous devriez choisir l'approche des ajustements (nous utilisons la résolution dans cet exemple) et précisez le rythme d'acquisition des images pour les mesures d'erreur de l'alignement polaire. L'intervalle de rafraîchissement devrait être fréquent mais il ne fait pas de sens de le rendre plus rapide que ce que le processeur est capable de faire pour les acquisitions et la résolution des images. Nous utilisons un intervalle de 2 secondes dans cet exemple. Ensuite cliquez sur le bouton <guibutton
>Rafraîchissement</guibutton
> pour démarrer la procédure de correction. </para>
                <para
>Le système procédera à l'acquisition des images, puis ré-estimera l'erreur d'alignement polaire après chaque image. Vous pouvez essayer de diminuer ces erreurs en ajustant les molettes d'altitude et d'azimut de la monture. L'image ci-dessous montre l'écran après que l'erreur en altitude ait été réduite quasiment à zéro. Observez la différence sur la ligne <emphasis
>Erreur mesurée</emphasis
> qui montre l'erreur mesurée de départ après l'acquisition de trois images et la ligne de l'<emphasis
>erreur mise à jour</emphasis
> qui montre l'estimation de l'erreur actuelle. </para>
                <screenshot>
                    <screeninfo
>Assistant d'alignement polaire </screeninfo>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="polar_assistant_ps2.png" format="PNG"/>
                        </imageobject>
                        <textobject>
                            <phrase
>Assistant d'alignement polaire, flux de travail 2 de la résolution</phrase>
                        </textobject>
                    </mediaobject>
                </screenshot>
                <para
>Ci-dessous, l'opérateur a aussi ajusté l'azimut afin de réduire encore plus l'erreur. Elle est maintenant très petite et la procédure est terminée. L'opérateur doit cliquer sur le bouton stop. </para>
                <screenshot>
                    <screeninfo
>Assistant d'alignement polaire </screeninfo>
                    <mediaobject>
                        <imageobject>
                            <imagedata fileref="polar_assistant_ps3.png" format="PNG"/>
                        </imageobject>
                        <textobject>
                            <phrase
>Assistant d'alignement polaire, flux de travail 3 de la résolution</phrase>
                        </textobject>
                    </mediaobject>
                </screenshot>
                </sect4>
                <sect4 id="ekos-align-move-star-correction">
                <title
>Schéma de correction de déplacement d'étoile</title>

                <para
>Il existe un schéma alternatif pour corriger les erreurs d'alignement polaire. Les deux variations sont <emphasis
>Déplacement d'étoile &amp; Calcul d'erreur</emphasis
> et <emphasis
>Déplacement d'étoile</emphasis
>. En choisissant ce schéma, le système place un triangle jaune/vert/violet sur l'écran. Il peut être déplacé en cliquant près d'une étoile et le coin jaune/violet se déplace vers cette étoile. L'utilisateur corrige les erreurs d'alignement polaire en ajustant d'abord l'azimut de la monture afin que l'étoile sélectionnée se déplace le long du côté jaune du triangle. Une fois que l'étoile se trouve près du prochain sommet, l'azimut doit être ajusté pour l'étoile se déplace le long du côté vert du triangle. Une fois que l'étoile est sur le sommet vert/violet, la monture est alignée sur la polaire et l'opérateur peut cliquer sur le bouton <emphasis
>stop</emphasis
>. </para>
                  <para
>La différence entre les deux méthodes réside dans le fait que dans la première le système tente de suivre l'étoile sélectionnée et place un cercle autour d'elle. Il tente également de mettre à jour la ligne <emphasis
>Erreur mise à jour</emphasis
>. Si le suivi de l'étoile n'est pas fiable, ignorez-le simplement ou utiliser le schéma <emphasis
>Déplacement d'étoile</emphasis
> et déplacez l'étoile visuellement jusqu'à ce qu'elle est près de la cible finale. Un exemple d'utilisation de cette technique est montré dans cette vidéo : <ulink url="https://www.youtube.com/watch?v=iOp7hrxw0oU"
>https://www.youtube.com/watch?v=iOp7hrxw0oU</ulink
>. </para>
            </sect4>
        </sect3>
</sect2>
