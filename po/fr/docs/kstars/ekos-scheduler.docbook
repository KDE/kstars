<sect2 id="ekos-scheduler">
    <title
>Ordonnanceur</title>
    <indexterm>
        <primary
>Outils</primary>
        <secondary
>Ekos</secondary>
        <tertiary
>Ordonnanceur</tertiary>
    </indexterm>
    <screenshot>
        <screeninfo
>Module Ordonnanceur Ekos </screeninfo>
        <mediaobject>
            <imageobject>
                <imagedata fileref="ekos_scheduler.png" format="PNG"/>
            </imageobject>
            <textobject>
                <phrase
>Module Ordonnanceur Ekos</phrase>
            </textobject>
        </mediaobject>
    </screenshot>
    <sect3 id="ekos-scheduler-introduction">
      <title
>Introduction</title>
        <para
>The Ekos Scheduler is an important component of you imaging workflow. It connects to INDI, starts and stops all the other Ekos modules, schedules jobs according to their constraints and priorities, monitors those jobs as they execute, and then safely brings down the system when jobs are done, or before dawn. Whether you are running multi-day imaging sessions for multiple targets, or simplying trying to image a single target for a few hours, it is advisable to have the Scheduler control your imaging sessions. </para>
    </sect3>
    <sect3 id="scheduler-table">
        <title
>Scheduler Table</title>
        <para
>The heart of the Scheduler is a table displaying the list of Scheduler jobs the user wants to run. Associated with each jobs are attributes (mostly described in the settings section below). The attributes describe the name of the job, where the telescope should be pointed when imaging that job, a description of what types of images should be captured, constraints about when the jobs should run (e.g. altitude, twilight, moon, landscape blockages, etc), things that need to be done before and after the job is run, and strategies for dealing with errors. </para>
        <para
>You can add, delete, modify or change the order of rows in the Scheduler table. </para>
        <itemizedlist>
            <listitem>
              <para
>You can add a Scheduler job row into the table by clicking the <guilabel
>+</guilabel
> control above the table, if all required attributes are filled out (name, position, and sequence file). </para>
            </listitem>
            <listitem>
              <para
>If you click on a row, you can then click the <guilabel
>-</guilabel
> control above the table to delete that row. </para>
            </listitem>

            <listitem>
              <para
>If you click on a row, you can then click the <guilabel
>^</guilabel
> or <guilabel
>v</guilabel
> controls to move those rows up or down in the job list. </para>
            </listitem>

            <listitem>
              <para
>If you double click on a row, the attributes of that job are filled in to the various settings on the Scheduler page. You can then change one or more of those attributes, and then click the checkmark above the table (after your double-click, the <guilabel
>+</guilabel
> became a <guilabel
>checkmark</guilabel
>), and the new attributes are assigned to that job. </para>
            </listitem>
        </itemizedlist>

    </sect3>
    <sect3 id="scheduling-algorthm">
        <title
>Scheduling Algorithm</title>
        <para
>The Scheduler table (above) lists jobs in order of priority, with higher jobs (on lower-numbered rows) having higher priority than jobs further down the list (with higher-numbered rows). </para>
        <para
>The Scheduler regularly plans (an re-plans) which jobs should be run, and when. It can start executing a given job, and then later preempt that job for a new one. It can become idle if no jobs can be run (e.g. in daylight), and sleep until such a time that it becomes active again. Its aim is to keep the equipment as busy as possible, while respecting the scheduler-table's priorties. Here's how it works. </para>
        <para
>When the scheduler starts (or when it replans, which it does every second while active), it looks through the entire list of jobs, starting at the highest priority job, and working its way down to the lowest priority one if necessary. When it finds a job that can run, it starts that job, possibly preempting the currently running job. A jobs can run if it's constraints are met, e.g. the target is not blocked by the local terrain, it meets the minimum altitude constraint, it has not already completed all the desired imaging, ... </para>
    </sect3>
    <para
>The algorithm shows its projected next start times and stop times for all job in the Scheduler table. It also shows its estimate of times jobs will run during the next 48 hours in the log panel at the bottom of the window. See the screenshot of the scheduler window at the top of this section. </para>
        <para
>The scheduling algorithm described in the above paragraph is known as the Greedy Scheduling algorithm. It is the recommended one to use. In previous versions of Ekos, there was another "Classic scheduling algorithm" which is currently being phased out. That scheme could not preempt running jobs, and thus did not makes as much use of the equipment as the Greedy Algorithm. </para>
    <sect3 id="scheduler-files">
        <title
>Scheduler Files (.esq)</title>
        <para
>The scheduler table with its list of jobs and attributes can be saved onto disk and read back in. It writes an .esq file. Controls for writing the current Scheduler table to disk, and reading back other .esq files are located above the table to the right. </para>
    </sect3>
    <sect3 id="ekos-scheduler-settings">
      <title
>Réglages</title>
        <para
>Ekos Scheduler provides a simple interface to aid the user in setting the conditions and constraints required for an Scheduler job. You must select the <guilabel
>Target</guilabel
>, its coordinates, and the <guilabel
>Sequence</guilabel
> before you can add a job to the Scheduler. </para>
        <para
>Each Scheduler job is composed of the following: </para>
        <itemizedlist>
            <listitem>
                <para
><guilabel
>Target name and coordinates</guilabel
>: Select target from the <link linkend="findobjects"
>Find Dialog</link
> or <guibutton
>Add</guibutton
> it from <link linkend="tool-obsplanner"
>Observation Planner</link
>. You can also enter a custom name. Coordinates can also be copied from the SkyMap using the button just to the right of the coordinates. </para>
            </listitem>
            <listitem>
                <para
>Optional <guilabel
>PA</guilabel
>: The position angle (or image rotation) can be specified for systems with camera rotation hardware. </para>
            </listitem>
            <listitem>
                <para
>Optional <guilabel
>FITS File</guilabel
>: If a FITS file is specified, the astrometry solver solves the file and use the central RA/DEC as the target coordinates. </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Sequence</guilabel
> file: The sequence file is constructed in the Ekos <link linkend="ekos-capture"
>Capture Module</link
>. It has a list of capture specifications, where each spec details the number of images to capture, which filter to use, the exposure length, the gain, file naming details, temperature settings, prefixes, download directory, &etc; </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Profil</guilabel
> : spécifie le profil d'équipement à utiliser au démarrage d'Ekos. Si Ekos &amp; INDI sont déjà démarrés, cette option est ignorée. </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Steps</guilabel
>: The user selects what steps should be taken at the start of the job. The possibilities are: (1) Start mount tracking, (2) autofocus, (3) run a plate solving alignment, (4) start the auto-guider. One or more can be chosen. </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Startup Conditions</guilabel
>: Conditions that must be met <emphasis role="bold"
>before</emphasis
> the Scheduler job is started. Currently, the user may select to start as soon as possible, <guimenuitem
>ASAP</guimenuitem
>, or when the target is near or past culmination, or at a specific time. </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Constraints</guilabel
>: These are conditions that must be met <emphasis role="bold"
>at all times</emphasis
> during the Scheduler job execution process. These include minimum target altitude, minimum moon separation, twilight observation, artificial horizon altitude constraints, and weather monitoring. </para>
            </listitem>
            <listitem>
                <para
><guilabel
>Completion Conditions</guilabel
>: Conditions that trigger completion of the Scheduler job. The default selection is to simply mark the Scheduler job as complete once the sequence process is complete. Additional conditions enable the user to repeat the sequence process a number of times or indefinitely, or up until a specific time. </para>
            </listitem>
        </itemizedlist>
    </sect3>
    <sect3 id="other-options">
        <title
>Other options</title>
        <para
>There are several other options to control how the Scheduler behaves. These are found in the general KStars Settings menu, shown below, in its Ekos tab and Scheduler sub-tab. </para>
      <screenshot>
            <screeninfo
>Scheduler Settings </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="ekos_scheduler_settings.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Scheduler Settings</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
       <sect4 id="remember-job-progress">
        <title
>Remember job progress</title>
        <para
>Among the settings shown above, one important one is known as <guilabel
>Remember job progress</guilabel
>. When this box is checked and a job is running, the Scheduler looks at the job's images already captured on disk, and doesn't re-capture the ones that are already there. The benefit is that if a job is restarted, or re-run another night, or if multiple jobs are being run together, stopping and starting when they are runnable, then jobs re-start right where they left off. This works well with the <guilabel
>Repeat until terminated</guilabel
> job-completion option. If <guilabel
>Remember job progress</guilabel
> is unchecked, jobs would restart from the start of their sequence specification each time, which probably isn't what you want. Unfortunately, if the images are not stored on the same computer that Ekos is running on, then this feature doesn't work and the jobs restart from their beginning. </para>
        <para
>A possibly confusing side-effect of <guilabel
>Remember job progress</guilabel
> is that if you've run a job using the (default) Sequence Completion finish condition, and it has captured all its images, and now you want to run the job again, the Scheduler won't schedule the job because it believes that all the images have already been captured. You'd either need to move those images elsewhere on disk, or change the finish condition to Repeat for N Times, or Repeat Until Terminated. </para>
       </sect4>
       <sect4 id="group-repeats">
        <title
>Group repeats</title>
        <para
>This feature allows you to run two or more scheduler jobs at roughly the same priority, such that if they were both runnable, they would progress at roughly the same rate. This may be applicable, for example, to jobs imaging the multiple tiles in a mosaic, but is generally applicable to any set of jobs. </para>
        <para
>Normally the (Greedy) scheduler's job priority is set by the row the job is listed in the Scheduler's job table. Jobs on rows closer to the top run with higher priority than jobs lower down. Thus, if a job on row 2 (Job2) uses <guilabel
>Repeat Until Terminated</guilabel
>, and that job's running constraints are satisfied, a lower down job (e.g. Job3) will not be scheduled to run. </para>
        <para
>If you wish to alternate jobs, you can assign each of the jobs the same <guilabel
>group</guilabel
> name, and give the jobs one of the repeating finish conditions (e.g. Repeat for N times, or Repeat Until Terminated). With that setup, jobs in the same group will cede to each other if they have completed more 'Repeat Iterations' than the other job. So, if Job2 with group "MyGroup" completes its 2nd iteration, and Job3 with the same group name has only completed 0 or 1 iterations, when the time comes to schedule Job2, Job3 will run instead. </para>
        <para
>Practically speaking, imagine you had a 6-panel mosaic you wanted to alternate. You might give all of those jobs the same group name, make them all e.g. "Repeat for 5 times". Then, they would run in lock-step. The cadence of job switching would be controlled by the length of the sequence file assigned to each of those jobs. You wouldn't want to make the cadence too short (e.g. capturing one 2-minute image), as there is overhead in switching jobs. For instance, starting jobs may involved aligning, starting guiding, and even focusing. </para>
       </sect4>
       <sect4 id="repeat-all-jobs">
        <title
>Repeat all jobs</title>
        <para
>There is a checkbox and number input right below the Schuduler jobs table that allows you to repeat the entire schedule N times. This can be used to alternate a few jobs. You can just list the jobs on the scheduler, set it to repeat N times, and the jobs will repeat. However, this change is incompatible with 'Remember job progress (above) and unavailable if Remember Job Progress is checked. (Note: Remember Job Progress is recommended.) </para>
       </sect4>
    </sect3>
    <sect3 id="workflow">
        <title
>Workflow</title>

      <screenshot>
            <screeninfo
>Ordonnanceur + Planificateur </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="scheduler_planner.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Ordonnanceur + Planificateur</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <para
>La description ci-dessus n'aborde que l'étape d'<emphasis role="bold"
>acquisition de données</emphasis
> du déroulement d'une observation. La procédure complète dans un observatoire peut être résumée par les trois étapes principales : </para>
        <orderedlist>
            <listitem>
                <para
>Démarrage </para>
            </listitem>
            <listitem>
                <para
>Acquisition de données (incluant le prétraitement et le stockage) </para>
            </listitem>
            <listitem>
                <para
>Arrêt </para>
            </listitem>
        </orderedlist>
    </sect3>

    <sect3 id="ekos-scheduler-startup-procedure">
        <title
>Procédure de démarrage</title>
        <para
>La procédure de démarrage est unique à chaque observatoire mais peut inclure : </para>
        <itemizedlist>
            <listitem>
                <para
>Mise sous tension du matériel </para>
            </listitem>
            <listitem>
                <para
>Contrôle de sécurité et vérifications </para>
            </listitem>
            <listitem>
                <para
>Vérification des conditions météorologiques </para>
            </listitem>
            <listitem>
                <para
>Extinction des lumières </para>
            </listitem>
            <listitem>
                <para
>Contrôle des ventilateurs et de la lumière </para>
            </listitem>
            <listitem>
                <para
>Déparcage du dôme </para>
            </listitem>
            <listitem>
                <para
>Déparcage de la monture </para>
            </listitem>
            <listitem>
                <para
>&etc; </para>
            </listitem>
        </itemizedlist>
        <para
>Ekos Scheduler only initiates the startup procedure once the startup time for the first Scheduler job is close (default <emphasis
>lead</emphasis
> time is 5 minutes before <emphasis
>startup</emphasis
> time). Once the startup procedure is completed successfully, the scheduler picks the Scheduler job target and starts the sequence process. If a startup script is specified, it shall be executed first. </para>
    </sect3>

    <sect3 id="ekos-scheduler-data-acquisition">
        <title
>Acquisition de données</title>
        <para
>Selon la sélection de l'utilisateur, un déroulement typique se déroule ainsi : </para>
        <itemizedlist>
            <listitem>
                <para
>Pivotage de la monture vers la cible. Si un fichier FITS a été spécifié, il sera résolu et la monture pivotera vers les coordonnées de la position. </para>
            </listitem>
            <listitem>
                <para
>Mise au point de la cible. Le processus de mise au point automatique sélectionne automatiquement la meilleure étoile de la trame et exécute l'algorithme de mise au point. </para>
            </listitem>
            <listitem>
                <para
>Réalise la résolution, synchronise la monture et pivote vers les coordonnées de la cible. </para>
            </listitem>
            <listitem>
                <para
>Réalise une mise au point après l'alignement puisque la trame peut avoir bouger durant le processus de résolution. </para>
            </listitem>
            <listitem>
                <para
>Réalisation de la calibration et démarrage de l'autoguidage : le processus de calibration sélectionne automatiquement la meilleure étoile guide, réalise la calibration et démarre le processus d'autoguidage. </para>
            </listitem>
            <listitem>
                <para
>Charge le fichier de séquence dans le module d'<link linkend="ekos-capture"
>acquisition</link
> et démarre l'acquisition. </para>
            </listitem>
            <listitem>
                <para
>Coordinate module issues, such as failures in guiding or alignment. They may result is Scheduler job suspensions and rescheduling. </para>
            </listitem>
            <listitem>
                <para
>Note--some of the inter-module interactions are initiated by the modules themselves, but are monitored by the Scheduler. These include meridian flips, autofocus runs initiated by temperature change or timer expiration, and minimum guiding deviation requirements for capture. </para>
            </listitem>
        </itemizedlist>
    </sect3>

    <sect3 id="ekos-scheduler-shutdown">
        <title
>Arrêt</title>
        <para
>Once the Scheduler job is completed successfully, the scheduler selects the next Scheduler job. If no job can be scheduled at this time, the mount is parked until a next job can run. Furthermore, if the next job is not due for a user-configurable time limit, the scheduler performs a <emphasis
>preemptive</emphasis
> shutdown to preserve resources and performs the startup procedure again when the target is due. </para>
        <para
>Si une erreur irrécupérable se produit, l'observatoire initie une procédure d'arrêt. S'il existe un script d'arrêt, celui-ci sera exécuté en dernier. </para>
        <para
>La vidéo suivante illustre l'utilisation de l'ordonnanceur, et même si elle date un peu, les principes de base restent d'actualité : </para>
        <mediaobject>
            <videoobject>
                <videodata contentdepth="315" contentwidth="560" fileref="https://www.youtube.com/embed/v8vIXD1kois"
></videodata>
            </videoobject>
            <caption>
                <para>
                    <phrase
>Ordonnanceur d'Ekos</phrase>
                </para>
            </caption>
        </mediaobject>
    </sect3>

    <sect3 id="ekos-scheduler-weather-monitoring">
        <title
>Surveillance de la météo</title>
        <para
>Un autre aspect critique des observatoires robotiques commandés à distance est la surveillance de la météo. Ekos s'appuie sur le pilote météo d'INDI sélectionné pour surveiller en continu les conditions météorologiques. Par souci de simplicité, les conditions météorologiques se résument en trois états : </para>
        <orderedlist>
            <listitem>
                <para
><emphasis role="bold"
>Ok</emphasis
> : les conditions sont claires et optimales pour imager. </para>
            </listitem>
            <listitem>
                <para
><emphasis role="bold"
>Avertissement</emphasis
> : les conditions ne sont pas claires, la visibilité (seeing) est sous optimale ou partiellement obstruée et inadaptée pour imager. Tout processus d'acquisition est suspendu en attendant une amélioration. Cet état d'avertissement n'implique pas de danger pour le matériel de l'observatoire, ainsi il reste opérationnel. Les mesures exactes à prendre lors d'état d'avertissement peuvent être configurées. </para>
            </listitem>
            <listitem>
                <para
><emphasis role="bold"
>Alerte</emphasis
> : les conditions sont préjudiciables à la sécurité de l'observatoire et un arrêt doit être initié le plus rapidement possible. </para>
            </listitem>
        </orderedlist>
    </sect3>

    <sect3 id="ekos-scheduler-startup-and-shutdown-scripts">
        <title
>Scripts de démarrage &amp; d'arrêt</title>
        <para
>Comme chaque observatoire est unique, Ekos offre la possibilité à l'utilisateur de choisir ses scripts de démarrage et d'arrêt. Les scripts s'occupent de toute procédure qui doivent être activée au démarrage et à l'arrêt. Ekos exécute le script et continue la procédure (déparcage du dôme et de la monture) qu'en cas de succès de l'exécution du script. Inversement, la procédure d'arrêt commence par parquer la monture et le dôme avant d'exécuter le script d'arrêt qui termine la procédure. </para>
        <para
>Les scripts peuvent être écrits dans n'importe quel langage qui peut être exécuté sur la machine locale. Un script doit retourner la valeur 0 pour être considéré comme succès, tout autre valeur indique une erreur. La sortie standard du script est dirigée vers la fenêtre des fichiers journaux d'Ekos. Voici un exemple de script de démarrage écrit en Python : </para>
        <programlisting language="python"
>#!/usr/bin/env python
# -*- coding: utf-8 -*-

import os
import time
import sys

print "Mise sous tension de l'observatoire&hellip;"
sys.stdout.flush()

time.sleep(5)

print "Test de confiance&hellip;"
sys.stdout.flush()

time.sleep(5)

print "Tout est nominal."
sys.stdout.flush()

exit(0)
        </programlisting>
        <para
>The startup and shutdown scripts must be <emphasis
>executable</emphasis
> in order for Ekos to invoke them (&eg; use <userinput
>chmod +x startup_script.py</userinput
> to mark the script as executable). Ekos Scheduler enables truly simple robotic operation without the need of any human intervention in any step of the process. Without human presence, it becomes increasingly critical to gracefully recover from failures in any stage of the observation run. Using &plasma; notifications, the user can configure audible alarms and email notifications for the various events in the Scheduler. </para>
    </sect3>

    <sect3 id="ekos-scheduler-mosaic-Planner">
        <title
>Planificateur de mosaïques</title>
        <screenshot>
            <screeninfo
>Planificateur de mosaïques </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_planner.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Planificateur de mosaïques</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <para
>Les images super grand champ du télescope spacial Hubble de <ulink url="http://darkskyart.com/?page_id=96"
>galaxies</ulink
> ou de nébuleuses sont source d'émerveillement. Bien que des compétences pointues soient nécessaires pour obtenir de telles images et les traiter, les grands noms en astrophotographie emploient du matériel qui n'est pas <emphasis
>très éloigné</emphasis
> du vôtre ou du mien. Je souligne <emphasis
>très éloigné</emphasis
> parce certains ont en effet du matériel très impressionnant et des observatoires dédiés valant une fortune. Néanmoins, beaucoup d'amateurs peuvent obtenir des images grand champ en combinant plusieurs petites images en une seule et grande mosaïque. </para>
        <para
>Nous sommes souvent limités par le champ de vision de l'ensemble caméra et télescope. En augmentant le champ de vision à l'aide d'un réducteur de focale ou un tube plus court, on obtient une couverture du ciel plus importante au coût d'une diminution de la résolution spatiale. En même temps, beaucoup de cibles grand champ couvrent plusieurs champs de vision dans le ciel. Sans aucune modification de votre matériel, il est possible de créer une super mosaïque en <emphasis
>joignant</emphasis
> ensemble plusieurs images plus petites. Il y a deux étapes principales pour accomplir une mosaïque : </para>
        <orderedlist>
            <listitem>
                <para
>Acquérir plusieurs images couvrant la cible qui se chevauchent partiellement. Le chevauchement est nécessaire pour permettre au logiciel de traitement d'aligner et de joindre les petites images. </para>
            </listitem>
            <listitem>
                <para
>Traiter les images et les <emphasis
>joindre</emphasis
> ensemble pour créer la mosaïque. </para>
            </listitem>
        </orderedlist>
        <para
>La seconde étape est gérée par des logiciels de traitement d'images comme <ulink url="https://pixinsight.com"
>PixInsight</ulink
> ou autres, mais cela ne sera pas le sujet ici. La première étape peut être accomplie par l'ordonnanceur d'Ekos qui permet l'acquisition d'images appropriée à votre équipement et qui couvre le champ de vision désiré. Ekos crée non seulement les panneaux pour votre cible mais il construit également les tâches nécessaires pour acquérir toutes les images. Cela facilite grandement la logistique d'acquisition d'images de différents filtres et trames de calibration d'une vaste région du ciel. </para>
        <para
>Le <guilabel
>planificateur de mosaïques</guilabel
> de l'ordonnanceur d'Ekos créera plusieurs tâches fondées sur une cible centrale. Pour afficher le planificateur, cliquez sur le bouton <guibutton
>Planificateur de mosaïques</guibutton
> dans l'ordonnanceur d'Ekos ou sur la barre d'outils INDI de KStars comme illustré dans la capture d'écran. Le planificateur dessine la mosaïque directement sur la carte du ciel. Il est recommandé d'activer la superposition HiPS pour la meilleure expérience. Le planificateur est composé de quatre étapes : </para>
        <orderedlist>
            <listitem>
                <para
><emphasis role="bold"
>Confirmation du matériel</emphasis
> : Ekos tente de charger les réglages du matériel depuis INDI. En cas d'échec, il faut saisir les paramètres du matériel tels que longueur focale du télescope, les dimensions du capteur CCD (largeur, hauteur, taille des pixels). Ces réglages seront enregistrés pour les sessions futures. </para>
            <screenshot>
            <screeninfo
>Confirmer le matériel </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_confirm_equipment.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Confirmer le matériel</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
            </listitem>
            <listitem>
                <para
><emphasis role="bold"
>Ajustement de la grille</emphasis
> : sélectionner la dimension des panneaux et le pourcentage de recouvrement. Le panneau de mosaïque est mis à jour en conséquence sur la carte du ciel. Ajuster l'angle de position pour correspondre à l'orientation désirée de la mosaïque dans le ciel. Si l'angle de position est différent de l'orientation usuelle de la caméra, il faudra soit tourner la caméra manuellement soit avec un rotateur mécanique lorsque les tâches seront exécutées. La transparence des tuiles est par défaut automatiquement calculée mais peut être désactivée et ajustée manuellement. Pour calculer le champ de la mosaïque à partir du nombre de tuiles, cliquer sur le bouton <guibutton
>Couvrir CdV</guibutton
>. La mosaïque peut être centrée sur la carte du ciel en cliquant sur le bouton <guibutton
>Recentrer</guibutton
>. </para>
                <screenshot>
            <screeninfo
>Sélection de la grille </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_select_grid.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Sélection de la grille</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
        <para
>Un grand chevauchement rendra la jointure des trames plus facile durant le traitement mais requiert davantage de panneaux pour couvrir la zone souhaitée. Toutefois, si vous connaissez déjà la quantité minimale de trames qui seront utilisée par l'algorithme de rejet durant la phase de post-traitement, vous pouvez vouloir augmenter le chevauchement pour atteindre cette quantité sur les zones couvertes par de multiples panneaux. Par exemple, une grille de mosaïque 4x4 avec 75% de chevauchement possède 16 sous-trames couvrant l'intersection centrale, ce qui est suffisant pour l'algorithme de rejet Winsorized Sigma. Bien que l'empilement résultant n'ait pas la même hauteur sur toutes les parties de la trame finale, cette méthode vous donne le contrôle sur le rapport signal sur bruit et vous permet de donner du contexte à votre cible tout en devant faire un nombre relativement bas d'acquisitions. </para>
        <para
>Le grand nombre dessiné dans le coin de chaque panneau de la grille représente l'ordre dans lequel chaque panneau sera traité. Le choix par défaut de la forme d'un S (ouest-est puis en alternance haut-bas/bas-haut) assure un mouvement minimal de la monture durant l'observation. Décochez <guilabel
>Mouvement minimum de la monture</guilabel
> pour inverser le comportement en ouest-est/haut-bas. Les coordonnées de chaque panneau (en degrés minutes et secondes) sont affichées en leur centre. Finalement l'angle de rotation de chaque panneau depuis le centre de la mosaïque est affiché en bas. Si votre champ de vision est grand ou si votre mosaïque se trouve près d'un pôle céleste, vous pourrez observer une rotation visible due à la position horizontale ou à une déclinaison importante. Veuillez utiliser <guilabel
>Chevauchement</guilabel
> pour vous assurer que les panneaux couvrent la zone correctement. </para>
        <screenshot>
            <screeninfo
>Outil de mosaïque de l'ordonnanceur - grande rotation </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_close_pole.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Outil de mosaïque de l'ordonnanceur - grande rotation</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
            </listitem>
            <listitem>
                <para
><emphasis role="bold"
>Ajustement de la grille</emphasis
> : sélectionner la dimension des panneaux et le pourcentage de recouvrement. Le panneau de mosaïque est mise à jour en conséquence sur la carte du ciel. </para>
            <screenshot>
            <screeninfo
>Ajustement de la grille </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_adjust_grid.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Ajustement de la grille</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
            </listitem>
            <listitem>
                <para
><emphasis role="bold"
>Create Jobs</emphasis
>: The final step is to select the sequence file and directory to store the images. Target field may be automatically filled but may be changed as desired. Select the steps each scheduler job should execute in sequence (Track -> Focus -> Align -> Guide -> Capture), and adjust the frequency of automatic alignment and focus routines that must be executed during the mosaic operation. For example, if <guilabel
>Align Every</guilabel
> is set to 2 Scheduler Jobs, then the first job will run the astrometry alignment, while the second job will skip it. When the third job is executed, alignment is performed again and so forth. </para>
                <para
>If you want the different mosaic tile jobs to alternate, then fill in the group name with an identifier that all the tile jobs will share, and select a repeating completion condition. </para>
            <screenshot>
            <screeninfo
>Création des tâches </screeninfo>
            <mediaobject>
                <imageobject>
                    <imagedata fileref="mosaic_create_jobs.png" format="PNG"/>
                </imageobject>
                <textobject>
                    <phrase
>Création des tâches</phrase>
                </textobject>
            </mediaobject>
        </screenshot>
            </listitem>
        </orderedlist
>                
        <para
>Click <guibutton
>Create Jobs</guibutton
> to generate mosaic scheduler jobs and add them to the schedule queue. You can further edit the jobs individually, as you would normal Scheduler jobs. </para>
    </sect3>
</sect2>
